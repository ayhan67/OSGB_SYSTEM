{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllWorkplaces}from'../services/api';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[workplaces,setWorkplaces]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchWorkplaces();},[]);const fetchWorkplaces=async()=>{try{const data=await getAllWorkplaces();setWorkplaces(data);setLoading(false);}catch(error){console.error('Error fetching workplaces:',error);setLoading(false);}};const getRiskLevelText=riskLevel=>{switch(riskLevel){case'low':return'Low Risk';case'dangerous':return'Dangerous';case'veryDangerous':return'Very Dangerous';default:return riskLevel;}};return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard - Workplace Registration and Monitoring\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"window-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>window.location.hash='/workplaces',children:\"Add New Workplace\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading workplaces...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Workplace Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SSK Registration No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tax Office\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tax Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Risk Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Assigned Expert\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Assigned Doctor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:workplaces.map(workplace=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(workplace.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:workplace.name}),/*#__PURE__*/_jsx(\"td\",{children:workplace.address}),/*#__PURE__*/_jsx(\"td\",{children:workplace.sskRegistrationNo}),/*#__PURE__*/_jsx(\"td\",{children:workplace.taxOffice}),/*#__PURE__*/_jsx(\"td\",{children:workplace.taxNumber}),/*#__PURE__*/_jsx(\"td\",{children:workplace.price}),/*#__PURE__*/_jsx(\"td\",{children:getRiskLevelText(workplace.riskLevel)}),/*#__PURE__*/_jsx(\"td\",{children:workplace.assignedExpertId||'Not assigned'}),/*#__PURE__*/_jsx(\"td\",{children:workplace.assignedDoctorId||'Not assigned'}),/*#__PURE__*/_jsx(\"td\",{children:workplace.source||'N/A'})]},workplace.id))})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","getAllWorkplaces","jsx","_jsx","jsxs","_jsxs","Dashboard","workplaces","setWorkplaces","loading","setLoading","fetchWorkplaces","data","error","console","getRiskLevelText","riskLevel","className","children","onClick","window","location","hash","map","workplace","Date","createdAt","toLocaleDateString","name","address","sskRegistrationNo","taxOffice","taxNumber","price","assignedExpertId","assignedDoctorId","source","id"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllWorkplaces } from '../services/api';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n  const [workplaces, setWorkplaces] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchWorkplaces();\r\n  }, []);\r\n\r\n  const fetchWorkplaces = async () => {\r\n    try {\r\n      const data = await getAllWorkplaces();\r\n      setWorkplaces(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching workplaces:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRiskLevelText = (riskLevel: string) => {\r\n    switch (riskLevel) {\r\n      case 'low': return 'Low Risk';\r\n      case 'dangerous': return 'Dangerous';\r\n      case 'veryDangerous': return 'Very Dangerous';\r\n      default: return riskLevel;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"window\">\r\n        <div className=\"window-header\">\r\n          <span>Dashboard - Workplace Registration and Monitoring</span>\r\n        </div>\r\n        <div className=\"window-content\">\r\n          <button className=\"btn\" onClick={() => window.location.hash = '/workplaces'}>\r\n            Add New Workplace\r\n          </button>\r\n          \r\n          {loading ? (\r\n            <p>Loading workplaces...</p>\r\n          ) : (\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Workplace Name</th>\r\n                  <th>Address</th>\r\n                  <th>SSK Registration No</th>\r\n                  <th>Tax Office</th>\r\n                  <th>Tax Number</th>\r\n                  <th>Price</th>\r\n                  <th>Risk Level</th>\r\n                  <th>Assigned Expert</th>\r\n                  <th>Assigned Doctor</th>\r\n                  <th>Source</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {workplaces.map((workplace) => (\r\n                  <tr key={workplace.id}>\r\n                    <td>{new Date(workplace.createdAt).toLocaleDateString()}</td>\r\n                    <td>{workplace.name}</td>\r\n                    <td>{workplace.address}</td>\r\n                    <td>{workplace.sskRegistrationNo}</td>\r\n                    <td>{workplace.taxOffice}</td>\r\n                    <td>{workplace.taxNumber}</td>\r\n                    <td>{workplace.price}</td>\r\n                    <td>{getRiskLevelText(workplace.riskLevel)}</td>\r\n                    <td>{workplace.assignedExpertId || 'Not assigned'}</td>\r\n                    <td>{workplace.assignedDoctorId || 'Not assigned'}</td>\r\n                    <td>{workplace.source || 'N/A'}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}