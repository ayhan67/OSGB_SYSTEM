{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{io}from'socket.io-client';import{getAllExperts,getExpertAssignedWorkplaces,getExpertVisits}from'../services/api';import'./VisitsPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Function to get the current month name in Turkish\nconst getCurrentMonthName=()=>{const months=['Ocak','Şubat','Mart','Nisan','Mayıs','Haziran','Temmuz','Ağustos','Eylül','Ekim','Kasım','Aralık'];const currentMonthIndex=new Date().getMonth();return months[currentMonthIndex];};// Function to get the current month in YYYY-MM format\nconst getCurrentMonth=()=>{const now=new Date();const year=now.getFullYear();const month=String(now.getMonth()+1).padStart(2,'0');return\"\".concat(year,\"-\").concat(month);};// Function to get all 12 months of a year\nconst getAllYearMonths=year=>{const months=[];const monthNames=['Ocak','Şubat','Mart','Nisan','Mayıs','Haziran','Temmuz','Ağustos','Eylül','Ekim','Kasım','Aralık'];for(let i=1;i<=12;i++){const month=String(i).padStart(2,'0');months.push({value:\"\".concat(year,\"-\").concat(month),label:monthNames[i-1]});}return months;};const VisitsPage=()=>{const navigate=useNavigate();const[experts,setExperts]=useState([]);const[expertStats,setExpertStats]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const socketRef=useRef(null);const currentMonthName=getCurrentMonthName();// State for expert popup modal\nconst[isExpertModalOpen,setIsExpertModalOpen]=useState(false);const[selectedExpert,setSelectedExpert]=useState(null);const[trackedWorkplaces,setTrackedWorkplaces]=useState([]);const[workplacesLoading,setWorkplacesLoading]=useState(false);const[visitStatus,setVisitStatus]=useState({});const[currentYear]=useState(new Date().getFullYear());useEffect(()=>{fetchExpertsWithStats();// Initialize WebSocket connection\nsocketRef.current=io('http://localhost:5001');// Listen for visit updates\nif(socketRef.current){socketRef.current.on('visitUpdate',data=>{// Update visit status in real-time\nsetVisitStatus(prev=>{const newStatus=_objectSpread({},prev);if(!newStatus[data.workplaceId]){newStatus[data.workplaceId]={};}newStatus[data.workplaceId][data.visitMonth]=data.visited;return newStatus;});});}// Clean up WebSocket connection\nreturn()=>{if(socketRef.current){socketRef.current.disconnect();}};},[]);useEffect(()=>{if(isExpertModalOpen&&selectedExpert){fetchTrackedWorkplaces(selectedExpert.id);}},[isExpertModalOpen,selectedExpert]);const fetchExpertsWithStats=async()=>{try{setLoading(true);const expertsData=await getAllExperts();setExperts(expertsData);// Fetch stats for each expert\nconst statsPromises=expertsData.map(async expert=>{try{// Get assigned workplaces\nconst assignedWorkplaces=await getExpertAssignedWorkplaces(expert.id);// For demo purposes, we'll use placeholder values since we don't have real data\n// In a real implementation, you would calculate these values based on actual data\nreturn{expert,assignedWorkplaceCount:assignedWorkplaces.length,trackedWorkplaceCount:Math.floor(assignedWorkplaces.length*0.8),// 80% for demo\ntotalWorkplaceCount:assignedWorkplaces.length,currentMonthVisitCount:Math.floor(assignedWorkplaces.length*0.6),// 60% for demo\nremainingWorkplaceCount:Math.ceil(assignedWorkplaces.length*0.4)// 40% for demo\n};}catch(err){// Return default values if there's an error fetching stats\nreturn{expert,assignedWorkplaceCount:0,trackedWorkplaceCount:0,totalWorkplaceCount:0,currentMonthVisitCount:0,remainingWorkplaceCount:0};}});const statsData=await Promise.all(statsPromises);setExpertStats(statsData);setError('');}catch(err){console.error('Error fetching experts:',err);setError('Uzmanlar getirilirken hata oluştu: '+(err.message||''));}finally{setLoading(false);}};const fetchTrackedWorkplaces=async expertId=>{try{setWorkplacesLoading(true);const workplacesData=await getExpertAssignedWorkplaces(expertId);// Show all workplaces (not just approved ones) for debugging\nsetTrackedWorkplaces(workplacesData);// Fetch visit data for all workplaces\nawait fetchVisitData(expertId,workplacesData);}catch(err){console.error('Error fetching tracked workplaces:',err);setError('İş yerleri getirilirken hata oluştu: '+(err.message||''));}finally{setWorkplacesLoading(false);}};const fetchVisitData=async(expertId,workplaces)=>{try{const visitData=await getExpertVisits(expertId);// Initialize visit status from backend data\nconst initialStatus={};workplaces.forEach(workplace=>{initialStatus[workplace.id]={};getAllYearMonths(currentYear).forEach(month=>{// Check if we have visit data for this workplace and month\nif(visitData[workplace.id]&&visitData[workplace.id].visits&&visitData[workplace.id].visits[month.value]){initialStatus[workplace.id][month.value]=visitData[workplace.id].visits[month.value].visited;}else{// Default to not visited if no data exists\ninitialStatus[workplace.id][month.value]=false;}});});setVisitStatus(initialStatus);}catch(err){console.error('Error fetching visit data:',err);setError('Ziyaret verileri getirilirken hata oluştu: '+(err.message||''));}};// Function to open expert modal\nconst openExpertModal=expert=>{setSelectedExpert(expert);setIsExpertModalOpen(true);};// Function to close expert modal\nconst closeExpertModal=()=>{setIsExpertModalOpen(false);setSelectedExpert(null);setTrackedWorkplaces([]);setVisitStatus({});};// Calculate total statistics\nconst calculateTotalStats=()=>{return expertStats.reduce((totals,stat)=>{return{totalWorkplaces:totals.totalWorkplaces+stat.totalWorkplaceCount,visitedWorkplaces:totals.visitedWorkplaces+stat.currentMonthVisitCount,remainingWorkplaces:totals.remainingWorkplaces+stat.remainingWorkplaceCount};},{totalWorkplaces:0,visitedWorkplaces:0,remainingWorkplaces:0});};const totalStats=calculateTotalStats();if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"visits-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Ziyaretler\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Y\\xFCkleniyor...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"visits-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Ziyaretler\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate('/'),children:\"Ana Sayfaya D\\xF6n\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"visits-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Ziyaretler\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"expert-header-item\",children:\"Ad Soyad\"}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-header-item class-shifted\",children:\"S\\u0131n\\u0131f\\u0131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-header-item assigned-vertical\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Atanan\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0130\\u015Fyerleri\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-header-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Takip edilecek\"}),/*#__PURE__*/_jsx(\"span\",{children:\"  \\u0130\\u015Fyerleri\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-header-item minutes-vertical\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ger\\xE7ekle\\u015Fen\"}),/*#__PURE__*/_jsx(\"span\",{children:\"  Ziyaretler\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-header-item minutes-vertical\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Kalan\"}),/*#__PURE__*/_jsx(\"span\",{children:\"  Ziyaretler\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-list\",children:expertStats.map(stat=>/*#__PURE__*/_jsx(\"div\",{className:\"expert-row\",onClick:()=>openExpertModal(stat.expert),children:/*#__PURE__*/_jsxs(\"div\",{className:\"expert-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-name\",children:[stat.expert.firstName,\" \",stat.expert.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-class \".concat(stat.expert.expertiseClass.toLowerCase()),children:stat.expert.expertiseClass}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-assigned\",children:stat.assignedWorkplaceCount}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-remaining\",children:stat.trackedWorkplaceCount}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-minutes\",children:stat.currentMonthVisitCount}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-minutes\",children:stat.remainingWorkplaceCount})]})},stat.expert.id))}),expertStats.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-workplaces\",children:\"Kay\\u0131tl\\u0131 uzman bulunamad\\u0131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"statistics-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"statistics-header\",children:\"Ziyaret \\u0130statistikleri\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"statistics-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[currentMonthName,\" ay\\u0131nda ziyaret edilmesi gereken\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:totalStats.totalWorkplaces})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[currentMonthName,\" ay\\u0131ndan ziyareti yap\\u0131lan i\\u015Fletme say\\u0131s\\u0131:\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:totalStats.visitedWorkplaces})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[currentMonthName,\" ay\\u0131nda ziyareti kalan i\\u015Fletme say\\u0131s\\u0131:\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:totalStats.remainingWorkplaces})]})]})]}),isExpertModalOpen&&selectedExpert&&/*#__PURE__*/_jsx(\"div\",{className:\"expert-modal-overlay\",onClick:closeExpertModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"expert-modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"expert-name-display\",children:[selectedExpert.firstName,\" \",selectedExpert.lastName]}),/*#__PURE__*/_jsx(\"button\",{className:\"expert-modal-close\",onClick:closeExpertModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"year-calendar-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[currentYear,\" Y\\u0131l\\u0131 Ziyaret Takvimi\"]}),workplacesLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Y\\xFCkleniyor...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}):trackedWorkplaces.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"workplaces-calendar\",children:trackedWorkplaces.map(workplace=>/*#__PURE__*/_jsxs(\"div\",{className:\"workplace-calendar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workplace-name\",children:workplace.name}),/*#__PURE__*/_jsx(\"div\",{className:\"months-grid\",children:getAllYearMonths(currentYear).map(month=>{var _visitStatus$workplac;const isVisited=((_visitStatus$workplac=visitStatus[workplace.id])===null||_visitStatus$workplac===void 0?void 0:_visitStatus$workplac[month.value])||false;return/*#__PURE__*/_jsx(\"div\",{className:\"month-box \".concat(isVisited?'visited':'not-visited'),title:\"\".concat(month.label,\" \").concat(currentYear,\": \").concat(isVisited?'Ziyaret Edildi':'Ziyaret Edilmedi'),children:/*#__PURE__*/_jsx(\"span\",{className:\"month-label\",children:month.label.charAt(0)})},month.value);})})]},workplace.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen uzman\\u0131n takip edece\\u011Fi i\\u015F yeri bulunamad\\u0131.\"})]})})]})})]});};export default VisitsPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","io","getAllExperts","getExpertAssignedWorkplaces","getExpertVisits","jsx","_jsx","jsxs","_jsxs","getCurrentMonthName","months","currentMonthIndex","Date","getMonth","getCurrentMonth","now","year","getFullYear","month","String","padStart","concat","getAllYearMonths","monthNames","i","push","value","label","VisitsPage","navigate","experts","setExperts","expertStats","setExpertStats","loading","setLoading","error","setError","socketRef","currentMonthName","isExpertModalOpen","setIsExpertModalOpen","selectedExpert","setSelectedExpert","trackedWorkplaces","setTrackedWorkplaces","workplacesLoading","setWorkplacesLoading","visitStatus","setVisitStatus","currentYear","fetchExpertsWithStats","current","on","data","prev","newStatus","_objectSpread","workplaceId","visitMonth","visited","disconnect","fetchTrackedWorkplaces","id","expertsData","statsPromises","map","expert","assignedWorkplaces","assignedWorkplaceCount","length","trackedWorkplaceCount","Math","floor","totalWorkplaceCount","currentMonthVisitCount","remainingWorkplaceCount","ceil","err","statsData","Promise","all","console","message","expertId","workplacesData","fetchVisitData","workplaces","visitData","initialStatus","forEach","workplace","visits","openExpertModal","closeExpertModal","calculateTotalStats","reduce","totals","stat","totalWorkplaces","visitedWorkplaces","remainingWorkplaces","totalStats","className","children","onClick","firstName","lastName","expertiseClass","toLowerCase","e","stopPropagation","name","_visitStatus$workplac","isVisited","title","charAt"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/VisitsPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { getAllExperts, getExpertAssignedWorkplaces, getExpertVisits } from '../services/api';\r\nimport './VisitsPage.css';\r\n\r\ninterface Expert {\r\n  id: number;\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  expertiseClass: string;\r\n  assignedMinutes: number;\r\n  usedMinutes: number;\r\n}\r\n\r\ninterface ExpertStats {\r\n  expert: Expert;\r\n  assignedWorkplaceCount: number;\r\n  trackedWorkplaceCount: number;\r\n  totalWorkplaceCount: number;\r\n  currentMonthVisitCount: number;\r\n  remainingWorkplaceCount: number;\r\n}\r\n\r\ninterface Workplace {\r\n  id: number;\r\n  name: string;\r\n  approvalStatus: string;\r\n  // Add other workplace properties as needed\r\n}\r\n\r\ninterface VisitStatus {\r\n  [workplaceId: number]: {\r\n    [month: string]: boolean; // true if visited, false if not\r\n  };\r\n}\r\n\r\n// Function to get the current month name in Turkish\r\nconst getCurrentMonthName = () => {\r\n  const months = [\r\n    'Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran',\r\n    'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'\r\n  ];\r\n  const currentMonthIndex = new Date().getMonth();\r\n  return months[currentMonthIndex];\r\n};\r\n\r\n// Function to get the current month in YYYY-MM format\r\nconst getCurrentMonth = () => {\r\n  const now = new Date();\r\n  const year = now.getFullYear();\r\n  const month = String(now.getMonth() + 1).padStart(2, '0');\r\n  return `${year}-${month}`;\r\n};\r\n\r\n// Function to get all 12 months of a year\r\nconst getAllYearMonths = (year: number) => {\r\n  const months = [];\r\n  const monthNames = [\r\n    'Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran',\r\n    'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'\r\n  ];\r\n  \r\n  for (let i = 1; i <= 12; i++) {\r\n    const month = String(i).padStart(2, '0');\r\n    months.push({\r\n      value: `${year}-${month}`,\r\n      label: monthNames[i - 1]\r\n    });\r\n  }\r\n  \r\n  return months;\r\n};\r\n\r\nconst VisitsPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [experts, setExperts] = useState<Expert[]>([]);\r\n  const [expertStats, setExpertStats] = useState<ExpertStats[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string>('');\r\n  const socketRef = useRef<Socket | null>(null);\r\n  const currentMonthName = getCurrentMonthName();\r\n\r\n  // State for expert popup modal\r\n  const [isExpertModalOpen, setIsExpertModalOpen] = useState<boolean>(false);\r\n  const [selectedExpert, setSelectedExpert] = useState<Expert | null>(null);\r\n  const [trackedWorkplaces, setTrackedWorkplaces] = useState<Workplace[]>([]);\r\n  const [workplacesLoading, setWorkplacesLoading] = useState<boolean>(false);\r\n  const [visitStatus, setVisitStatus] = useState<VisitStatus>({});\r\n  const [currentYear] = useState<number>(new Date().getFullYear());\r\n\r\n  useEffect(() => {\r\n    fetchExpertsWithStats();\r\n    \r\n    // Initialize WebSocket connection\r\n    socketRef.current = io('http://localhost:5001');\r\n    \r\n    // Listen for visit updates\r\n    if (socketRef.current) {\r\n      socketRef.current.on('visitUpdate', (data) => {\r\n        // Update visit status in real-time\r\n        setVisitStatus(prev => {\r\n          const newStatus = { ...prev };\r\n          if (!newStatus[data.workplaceId]) {\r\n            newStatus[data.workplaceId] = {};\r\n          }\r\n          newStatus[data.workplaceId][data.visitMonth] = data.visited;\r\n          return newStatus;\r\n        });\r\n      });\r\n    }\r\n    \r\n    // Clean up WebSocket connection\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isExpertModalOpen && selectedExpert) {\r\n      fetchTrackedWorkplaces(selectedExpert.id);\r\n    }\r\n  }, [isExpertModalOpen, selectedExpert]);\r\n\r\n  const fetchExpertsWithStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const expertsData = await getAllExperts();\r\n      setExperts(expertsData);\r\n      \r\n      // Fetch stats for each expert\r\n      const statsPromises = expertsData.map(async (expert: Expert) => {\r\n        try {\r\n          // Get assigned workplaces\r\n          const assignedWorkplaces = await getExpertAssignedWorkplaces(expert.id);\r\n          \r\n          // For demo purposes, we'll use placeholder values since we don't have real data\r\n          // In a real implementation, you would calculate these values based on actual data\r\n          return {\r\n            expert,\r\n            assignedWorkplaceCount: assignedWorkplaces.length,\r\n            trackedWorkplaceCount: Math.floor(assignedWorkplaces.length * 0.8), // 80% for demo\r\n            totalWorkplaceCount: assignedWorkplaces.length,\r\n            currentMonthVisitCount: Math.floor(assignedWorkplaces.length * 0.6), // 60% for demo\r\n            remainingWorkplaceCount: Math.ceil(assignedWorkplaces.length * 0.4) // 40% for demo\r\n          };\r\n        } catch (err) {\r\n          // Return default values if there's an error fetching stats\r\n          return {\r\n            expert,\r\n            assignedWorkplaceCount: 0,\r\n            trackedWorkplaceCount: 0,\r\n            totalWorkplaceCount: 0,\r\n            currentMonthVisitCount: 0,\r\n            remainingWorkplaceCount: 0\r\n          };\r\n        }\r\n      });\r\n      \r\n      const statsData = await Promise.all(statsPromises);\r\n      setExpertStats(statsData);\r\n      setError('');\r\n    } catch (err: any) {\r\n      console.error('Error fetching experts:', err);\r\n      setError('Uzmanlar getirilirken hata oluştu: ' + (err.message || ''));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchTrackedWorkplaces = async (expertId: number) => {\r\n    try {\r\n      setWorkplacesLoading(true);\r\n      const workplacesData = await getExpertAssignedWorkplaces(expertId);\r\n      // Show all workplaces (not just approved ones) for debugging\r\n      setTrackedWorkplaces(workplacesData);\r\n      \r\n      // Fetch visit data for all workplaces\r\n      await fetchVisitData(expertId, workplacesData);\r\n    } catch (err: any) {\r\n      console.error('Error fetching tracked workplaces:', err);\r\n      setError('İş yerleri getirilirken hata oluştu: ' + (err.message || ''));\r\n    } finally {\r\n      setWorkplacesLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchVisitData = async (expertId: number, workplaces: Workplace[]) => {\r\n    try {\r\n      const visitData = await getExpertVisits(expertId);\r\n      \r\n      // Initialize visit status from backend data\r\n      const initialStatus: VisitStatus = {};\r\n      workplaces.forEach((workplace) => {\r\n        initialStatus[workplace.id] = {};\r\n        getAllYearMonths(currentYear).forEach(month => {\r\n          // Check if we have visit data for this workplace and month\r\n          if (visitData[workplace.id] && visitData[workplace.id].visits && visitData[workplace.id].visits[month.value]) {\r\n            initialStatus[workplace.id][month.value] = visitData[workplace.id].visits[month.value].visited;\r\n          } else {\r\n            // Default to not visited if no data exists\r\n            initialStatus[workplace.id][month.value] = false;\r\n          }\r\n        });\r\n      });\r\n      \r\n      setVisitStatus(initialStatus);\r\n    } catch (err: any) {\r\n      console.error('Error fetching visit data:', err);\r\n      setError('Ziyaret verileri getirilirken hata oluştu: ' + (err.message || ''));\r\n    }\r\n  };\r\n\r\n  // Function to open expert modal\r\n  const openExpertModal = (expert: Expert) => {\r\n    setSelectedExpert(expert);\r\n    setIsExpertModalOpen(true);\r\n  };\r\n\r\n  // Function to close expert modal\r\n  const closeExpertModal = () => {\r\n    setIsExpertModalOpen(false);\r\n    setSelectedExpert(null);\r\n    setTrackedWorkplaces([]);\r\n    setVisitStatus({});\r\n  };\r\n\r\n  // Calculate total statistics\r\n  const calculateTotalStats = () => {\r\n    return expertStats.reduce((totals, stat) => {\r\n      return {\r\n        totalWorkplaces: totals.totalWorkplaces + stat.totalWorkplaceCount,\r\n        visitedWorkplaces: totals.visitedWorkplaces + stat.currentMonthVisitCount,\r\n        remainingWorkplaces: totals.remainingWorkplaces + stat.remainingWorkplaceCount\r\n      };\r\n    }, { totalWorkplaces: 0, visitedWorkplaces: 0, remainingWorkplaces: 0 });\r\n  };\r\n\r\n  const totalStats = calculateTotalStats();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"visits-page-container\">\r\n        <div className=\"page-header\">\r\n          <h2>Ziyaretler</h2>\r\n        </div>\r\n        <div className=\"loading\">Yükleniyor...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"visits-page-container\">\r\n        <div className=\"page-header\">\r\n          <h2>Ziyaretler</h2>\r\n        </div>\r\n        <div className=\"error\">{error}</div>\r\n        <button className=\"btn btn-primary\" onClick={() => navigate('/')}>\r\n          Ana Sayfaya Dön\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"visits-page-container\">\r\n      <div className=\"page-header\">\r\n        <h2>Ziyaretler</h2>\r\n      </div>\r\n\r\n      {/* Header row with proper alignment */}\r\n      <div className=\"expert-header\">\r\n        <div className=\"expert-header-item\">Ad Soyad</div>\r\n        <div className=\"expert-header-item class-shifted\">Sınıfı</div>\r\n        <div className=\"expert-header-item assigned-vertical\">\r\n          <span>Atanan</span>\r\n          <span>İşyerleri</span>\r\n        </div>\r\n        <div className=\"expert-header-item\">\r\n          <span>Takip edilecek</span>\r\n          <span>  İşyerleri</span>\r\n        </div>\r\n        <div className=\"expert-header-item minutes-vertical\">\r\n          <span>Gerçekleşen</span>\r\n          <span>  Ziyaretler</span>\r\n        </div>\r\n        <div className=\"expert-header-item minutes-vertical\">\r\n          <span>Kalan</span>\r\n          <span>  Ziyaretler</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expert rows with proper alignment */}\r\n      <div className=\"expert-list\">\r\n        {expertStats.map((stat) => (\r\n          <div \r\n            key={stat.expert.id} \r\n            className=\"expert-row\"\r\n            onClick={() => openExpertModal(stat.expert)}\r\n          >\r\n            <div className=\"expert-info\">\r\n              <div className=\"expert-name\">{stat.expert.firstName} {stat.expert.lastName}</div>\r\n              <div className={`expert-class ${stat.expert.expertiseClass.toLowerCase()}`}>\r\n                {stat.expert.expertiseClass}\r\n              </div>\r\n              <div className=\"expert-assigned\">{stat.assignedWorkplaceCount}</div>\r\n              <div className=\"expert-remaining\">{stat.trackedWorkplaceCount}</div>\r\n              <div className=\"expert-minutes\">{stat.currentMonthVisitCount}</div>\r\n              <div className=\"expert-minutes\">{stat.remainingWorkplaceCount}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {expertStats.length === 0 && (\r\n        <div className=\"no-workplaces\">Kayıtlı uzman bulunamadı</div>\r\n      )}\r\n\r\n      {/* Statistics panel */}\r\n      <div className=\"statistics-panel\">\r\n        <h3 className=\"statistics-header\">Ziyaret İstatistikleri</h3>\r\n        <div className=\"statistics-content\">\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">{currentMonthName} ayında ziyaret edilmesi gereken</span>\r\n            <span className=\"stat-value\">{totalStats.totalWorkplaces}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">{currentMonthName} ayından ziyareti yapılan işletme sayısı:</span>\r\n            <span className=\"stat-value\">{totalStats.visitedWorkplaces}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">{currentMonthName} ayında ziyareti kalan işletme sayısı:</span>\r\n            <span className=\"stat-value\">{totalStats.remainingWorkplaces}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expert Modal Popup */}\r\n      {isExpertModalOpen && selectedExpert && (\r\n        <div className=\"expert-modal-overlay\" onClick={closeExpertModal}>\r\n          <div className=\"expert-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"expert-modal-header\">\r\n              <h2 className=\"expert-name-display\">{selectedExpert.firstName} {selectedExpert.lastName}</h2>\r\n              <button className=\"expert-modal-close\" onClick={closeExpertModal}>×</button>\r\n            </div>\r\n            <div className=\"expert-modal-body\">\r\n              <div className=\"year-calendar-section\">\r\n                <h3>{currentYear} Yılı Ziyaret Takvimi</h3>\r\n                {workplacesLoading ? (\r\n                  <p>Yükleniyor...</p>\r\n                ) : error ? (\r\n                  <p className=\"error\">{error}</p>\r\n                ) : trackedWorkplaces.length > 0 ? (\r\n                  <div className=\"workplaces-calendar\">\r\n                    {trackedWorkplaces.map((workplace) => (\r\n                      <div key={workplace.id} className=\"workplace-calendar\">\r\n                        <div className=\"workplace-name\">{workplace.name}</div>\r\n                        <div className=\"months-grid\">\r\n                          {getAllYearMonths(currentYear).map((month) => {\r\n                            const isVisited = visitStatus[workplace.id]?.[month.value] || false;\r\n                            return (\r\n                              <div \r\n                                key={month.value} \r\n                                className={`month-box ${isVisited ? 'visited' : 'not-visited'}`}\r\n                                title={`${month.label} ${currentYear}: ${isVisited ? 'Ziyaret Edildi' : 'Ziyaret Edilmedi'}`}\r\n                              >\r\n                                <span className=\"month-label\">{month.label.charAt(0)}</span>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <p>Seçilen uzmanın takip edeceği iş yeri bulunamadı.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VisitsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}