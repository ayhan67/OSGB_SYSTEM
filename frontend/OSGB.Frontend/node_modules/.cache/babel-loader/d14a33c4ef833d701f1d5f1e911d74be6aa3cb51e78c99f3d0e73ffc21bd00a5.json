{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useLocation}from'react-router-dom';import'./Dashboard.css';import{createWorkplace,updateWorkplace,getAvailableExperts,getAvailableDoctors,getAvailableDsps,getAllWorkplaces,deleteWorkplace,getAllExperts,getAllDoctors,getAllDsps}from'../services/api';// Define types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{console.log('Dashboard component rendered at:',new Date().toISOString());const location=useLocation();// State declarations\nconst[formData,setFormData]=useState({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',registrationDate:''});const[isKdvIncluded,setIsKdvIncluded]=useState(false);const[workplaces,setWorkplaces]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[isModalOpen,setIsModalOpen]=useState(false);const[modalFormData,setModalFormData]=useState({});const[showNoExpertPopup,setShowNoExpertPopup]=useState(false);const[showNoDoctorPopup,setShowNoDoctorPopup]=useState(false);const[showNoDspPopup,setShowNoDspPopup]=useState(false);const[showDspNotAllowedPopup,setShowDspNotAllowedPopup]=useState(false);const[showDeleteConfirmation,setShowDeleteConfirmation]=useState(false);const[allExperts,setAllExperts]=useState([]);const[allDoctors,setAllDoctors]=useState([]);const[allDsps,setAllDsps]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');const[duplicateWarning,setDuplicateWarning]=useState({show:false,workplace:null});// Constants\nconst workplacesPerPage=10;// Derived state\nconst totalPages=Math.ceil(workplaces.length/workplacesPerPage);// Add state for sorting\nconst[sortConfig,setSortConfig]=useState(null);// Function to sort workplaces\nconst sortWorkplaces=key=>{let direction='asc';if(sortConfig&&sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};// Apply sorting to workplaces\nconst getSortedWorkplaces=()=>{if(!sortConfig)return workplaces;return[...workplaces].sort((a,b)=>{// Type guard to ensure key is a valid keyof Workplace\nconst key=sortConfig.key;// Handle different data types for sorting\nlet aValue,bValue;switch(key){case'name':case'source':aValue=a[key]||'';bValue=b[key]||'';break;case'registrationDate':aValue=new Date(a[key]||'').getTime();bValue=new Date(b[key]||'').getTime();break;case'riskLevel':// Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\nconst riskOrder={'low':1,'dangerous':2,'veryDangerous':3};aValue=riskOrder[a[key]]||0;bValue=riskOrder[b[key]]||0;break;case'approvalStatus':// Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\nconst approvalOrder={'atama':1,'bekliyor':2,'onaylandi':3};aValue=approvalOrder[a[key]]||0;bValue=approvalOrder[b[key]]||0;break;case'assignedExpertId':aValue=getExpertName(a[key]);bValue=getExpertName(b[key]);break;case'assignedDoctorId':aValue=getDoctorName(a[key]);bValue=getDoctorName(b[key]);break;case'assignedDspId':aValue=getDspName(a[key]);bValue=getDspName(b[key]);break;default:aValue=a[key];bValue=b[key];}if(aValue<bValue){return sortConfig.direction==='asc'?-1:1;}if(aValue>bValue){return sortConfig.direction==='asc'?1:-1;}return 0;});};// Add a useEffect to log when component mounts and unmounts\nuseEffect(()=>{console.log('Dashboard component mounted at:',new Date().toISOString());// Cleanup function\nreturn()=>{console.log('Dashboard component unmounted at:',new Date().toISOString());};},[]);// Function to fetch all data - similar to ExpertCardPage approach\nconst fetchAllData=useCallback(async()=>{try{console.log('Fetching all data from backend...');// Fetch all data in parallel\nconst[workplacesData,expertsData,doctorsData,dspsData]=await Promise.all([getAllWorkplaces(),getAllExperts(),getAllDoctors(),getAllDsps()]);console.log('Received all data:',{workplacesCount:workplacesData.length,expertsCount:expertsData.length,doctorsCount:doctorsData.length,dspsCount:dspsData.length});// Log first workplace to see structure\nif(workplacesData.length>0){console.log('First workplace data:',workplacesData[0]);}// Update all state\nsetWorkplaces(workplacesData);setAllExperts(expertsData);setAllDoctors(doctorsData);setAllDsps(dspsData);console.log('State updated after data fetch');}catch(error){console.error('Error fetching data:',error);setError('Veri alınırken hata oluştu');}},[]);// Load all data from backend on component mount - similar to ExpertCardPage approach\nuseEffect(()=>{console.log('Dashboard useEffect running - fetching all data at:',new Date().toISOString());fetchAllData();},[]);// Refresh data when location changes\nuseEffect(()=>{console.log('Location changed to:',location.pathname,'at:',new Date().toISOString());fetchAllData();},[location.pathname]);// Refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('Window focused, refreshing all data...');fetchAllData();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[]);// Add effect to log workplaces data when it changes\nuseEffect(()=>{console.log('Workplaces data updated:',workplaces);},[workplaces]);// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};// Handlers\nconst handleChange=e=>{const{name,value}=e.target;// Check if user is trying to assign a DSP when it's not allowed\nif(name==='assignedDspId'&&value){const employeeCount=parseInt(formData.employeeCount)||0;const isAllowed=isDspAssignmentAllowed(formData.riskLevel,employeeCount);if(!isAllowed){// Show warning popup\nsetShowDspNotAllowedPopup(true);return;// Don't update the form data\n}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handlePriceChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*\\.?\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:value}));}};const handleTaxOfficeChange=e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxOffice:value}));}};const handleTaxNumberChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxNumber:value}));}};const handleEmployeeCountChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{employeeCount:value}));}};const handleSourceChange=e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{source:value}));}};// Format price with thousands separator\nconst formatPrice=price=>{if(!price)return'0';const num=typeof price==='string'?parseFloat(price):price;if(isNaN(num))return'0';return num.toLocaleString('tr-TR',{maximumFractionDigits:2});};const handleSSkRegistrationNoChange=e=>{let value=e.target.value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(value.length>21)value=value.substring(0,21);let formattedValue='';for(let i=0;i<value.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){formattedValue+=' '+value[i];}else{formattedValue+=value[i];}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{sskRegistrationNo:formattedValue}));};const handleClose=()=>{setFormData({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',registrationDate:''});setIsKdvIncluded(false);};// Function to calculate required minutes based on risk level and employee count\nconst calculateRequiredMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*10;case'dangerous':return employeeCount*20;case'veryDangerous':return employeeCount*40;default:return 0;}};// Function to calculate required minutes for doctors based on risk level and employee count\nconst calculateRequiredDoctorMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*5;case'dangerous':return employeeCount*10;case'veryDangerous':return employeeCount*15;default:return 0;}};// Function to calculate required minutes for DSPs based on risk level and employee count\nconst calculateRequiredDspMinutes=(riskLevel,employeeCount)=>{// DSP is only required for very dangerous workplaces with 10+ employees\nif(riskLevel!=='veryDangerous'||employeeCount<10){return 0;}return employeeCount*5;// 5 minutes per employee for DSP\n};// Function to filter experts based on risk level and required minutes\nconst getFilteredExperts=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredMinutes(riskLevel,employeeCount);return allExperts.filter(expert=>{// Check if expert has enough minutes\nif(expert.assignedMinutes<requiredMinutes){return false;}// Filter based on expertise class and risk level\n// A class experts can handle all risk levels\n// B class experts can handle low and dangerous risk levels\n// C class experts can only handle low risk level\nswitch(expert.expertiseClass){case'A':return true;// A class can handle all risk levels\ncase'B':return riskLevel==='low'||riskLevel==='dangerous';// B class can handle low and dangerous\ncase'C':return riskLevel==='low';// C class can only handle low risk\ndefault:return false;}});};// Function to filter doctors based on required minutes\nconst getFilteredDoctors=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredDoctorMinutes(riskLevel,employeeCount);return allDoctors.filter(doctor=>{// Check if doctor has enough minutes\nreturn doctor.assignedMinutes>=requiredMinutes;});};// Function to filter DSPs based on required minutes\nconst getFilteredDsps=(riskLevel,employeeCount)=>{// Check if DSP assignment is allowed for this workplace\nconst isAllowed=isDspAssignmentAllowed(riskLevel,employeeCount);// If DSP assignment is not allowed, return empty array\nif(!isAllowed){return[];}// DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\nconst isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\nif(!isDspRequired){return allDsps.filter(dsp=>dsp.assignedMinutes>0);// Return all DSPs with at least 1 minute\n}// If DSP is required, filter based on required minutes (5 minutes per employee)\nconst requiredMinutes=employeeCount*5;return allDsps.filter(dsp=>{// Check if DSP has enough minutes\nreturn dsp.assignedMinutes>=requiredMinutes;});};// Function to check if expert assignment is valid\nconst checkExpertAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available experts for this workplace\nconst availableExperts=await getAvailableExperts(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no experts available, show popup\nif(availableExperts.length===0){setShowNoExpertPopup(true);return false;}// If an expert is selected, check if it's still available after deduction\nif(workplaceData.assignedExpertId){const selectedExpert=availableExperts.find(expert=>expert.id===parseInt(workplaceData.assignedExpertId));if(!selectedExpert){setShowNoExpertPopup(true);return false;}}return true;}catch(error){console.error('Error checking expert assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if doctor assignment is valid\nconst checkDoctorAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available doctors for this workplace\nconst availableDoctors=await getAvailableDoctors(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no doctors available, show popup\nif(availableDoctors.length===0){setShowNoDoctorPopup(true);return false;}// If a doctor is selected, check if it's still available after deduction\nif(workplaceData.assignedDoctorId){const selectedDoctor=availableDoctors.find(doctor=>doctor.id===parseInt(workplaceData.assignedDoctorId));if(!selectedDoctor){setShowNoDoctorPopup(true);return false;}}return true;}catch(error){console.error('Error checking doctor assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is valid\nconst checkDspAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Check if DSP is actually required for this workplace\nconst employeeCount=parseInt(workplaceData.employeeCount)||0;const isDspRequired=workplaceData.riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, don't check availability\nif(!isDspRequired){// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);return true;// DSP assignment is not required, so it's valid\n}// Get available DSPs for this workplace\nconst availableDsps=await getAvailableDsps(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no DSPs available when required, show popup\nif(availableDsps.length===0){setShowNoDspPopup(true);return false;}// If a DSP is selected, check if it's still available after deduction\nif(workplaceData.assignedDspId){const selectedDsp=availableDsps.find(dsp=>dsp.id===parseInt(workplaceData.assignedDspId));if(!selectedDsp){setShowNoDspPopup(true);return false;}}return true;}catch(error){console.error('Error checking DSP assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is allowed based on risk level and employee count\nconst isDspAssignmentAllowed=(riskLevel,employeeCount)=>{// DSP can only be assigned to:\n// 1. Very dangerous workplaces with 10+ employees (required)\n// 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\n// DSP assignment is NOT allowed for:\n// 1. Low risk (az tehlikeli) workplaces\n// 2. Dangerous (tehlikeli) workplaces\n// 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\nif(riskLevel==='low'||riskLevel==='dangerous'){return false;// DSP assignment not allowed for low or dangerous risk levels\n}if(riskLevel==='veryDangerous'&&employeeCount<10){return false;// DSP assignment not allowed for very dangerous workplaces with less than 10 employees\n}return true;// DSP assignment allowed (and required for very dangerous with 10+ employees)\n};const handleSubmit=async e=>{e.preventDefault();const submitTimestamp=Date.now();console.log('handleSubmit called at:',new Date().toISOString(),'(submit #',submitTimestamp,') with formData:',formData);try{// Check for duplicate SGK registration number\nconst formattedSskNo=formData.sskRegistrationNo.replace(/\\s/g,'');// Remove spaces for comparison\nconst existingWorkplace=workplaces.find(workplace=>workplace.sskRegistrationNo&&workplace.sskRegistrationNo.replace(/\\s/g,'')===formattedSskNo);if(existingWorkplace){// Show duplicate warning popup\nsetDuplicateWarning({show:true,workplace:existingWorkplace});// Clear the warning after 5 seconds\nsetTimeout(()=>{setDuplicateWarning({show:false,workplace:null});},5000);// Scroll to the existing workplace row\nsetTimeout(()=>{const element=document.getElementById(\"workplace-row-\".concat(existingWorkplace.id));if(element){element.scrollIntoView({behavior:'smooth',block:'center'});}},100);return;}// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},formData),{},{employeeCount:parseInt(formData.employeeCount)||0,price:parseFloat(formData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:formData.assignedExpertId||null,assignedDoctorId:formData.assignedDoctorId||null,assignedDspId:formData.assignedDspId||null});console.log('Sending workplace data to backend (submit #',submitTimestamp,'):',workplaceData);// Check if personnel assignments are required\nconst employeeCount=parseInt(formData.employeeCount)||0;const isDspRequired=formData.riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){console.log('Personnel assignment validation failed, not saving (submit #',submitTimestamp,')');return;}// Save to backend\nconst newWorkplace=await createWorkplace(workplaceData);console.log('Created new workplace response (submit #',submitTimestamp,'):',newWorkplace);// Show success message\nsetSuccess('İş yeri başarıyla kaydedildi!');// Close the form first\nhandleClose();console.log('Form closed (submit #',submitTimestamp,')');// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Dispatch custom event to notify other components about data change\nwindow.dispatchEvent(new CustomEvent('workplaceCreated',{detail:{workplace:newWorkplace}}));// Reset to first page since we have new data\nsetCurrentPage(1);console.log('Page reset to 1 (submit #',submitTimestamp,')');// Clear notifications\nclearNotifications();}catch(error){console.error('Error saving workplace (submit #',submitTimestamp,'):',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri kaydedilirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri kaydedilirken hata oluştu');}clearNotifications();}};const handlePageChange=pageNumber=>{setCurrentPage(pageNumber);};const getCurrentPageWorkplaces=()=>{const startIndex=(currentPage-1)*workplacesPerPage;const endIndex=startIndex+workplacesPerPage;const result=workplaces.slice(startIndex,endIndex);console.log('getCurrentPageWorkplaces called, returning:',result);return result;};const handleRowClick=workplace=>{setModalFormData(workplace);setIsModalOpen(true);// Prevent background scrolling when modal is open\ndocument.body.style.overflow='hidden';};const handleModalChange=e=>{const{name,value}=e.target;// Apply the same formatting logic for SGK registration number in the modal\nif(name==='sskRegistrationNo'){let formattedValue=value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(formattedValue.length>21)formattedValue=formattedValue.substring(0,21);let finalFormattedValue='';for(let i=0;i<formattedValue.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){finalFormattedValue+=' '+formattedValue[i];}else{finalFormattedValue+=formattedValue[i];}}setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:finalFormattedValue}));}else{setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}};const handleModalSubmit=async e=>{e.preventDefault();try{if(modalFormData.id){// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},modalFormData),{},{employeeCount:parseInt(modalFormData.employeeCount)||0,price:parseFloat(modalFormData.price)||0,// Handle null values for assigned IDs\nassignedExpertId:modalFormData.assignedExpertId||null,assignedDoctorId:modalFormData.assignedDoctorId||null,assignedDspId:modalFormData.assignedDspId||null});// Check if personnel assignments are required\nconst employeeCount=parseInt(modalFormData.employeeCount)||0;const riskLevel=modalFormData.riskLevel||'low';const isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){return;}// Update existing workplace\nconst updatedWorkplace=await updateWorkplace(modalFormData.id,workplaceData);// Show success message\nsetSuccess('İş yeri başarıyla güncellendi!');// Close modal first\nsetIsModalOpen(false);// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Clear notifications\nclearNotifications();}}catch(error){console.error('Error updating workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri g\\xFCncellenirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri güncellenirken hata oluştu');}clearNotifications();}};const handleDeleteWorkplace=()=>{// Show confirmation dialog before deleting\nsetShowDeleteConfirmation(true);};// Function to confirm deletion\nconst confirmDeleteWorkplace=async()=>{try{if(modalFormData.id){// Delete from backend\nawait deleteWorkplace(modalFormData.id);// Show success message\nsetSuccess('İş yeri başarıyla silindi!');// Close confirmation dialog and modal\nsetShowDeleteConfirmation(false);closeModal();// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Reset to first page if we're on an empty page\nconst newTotalPages=Math.ceil(workplaces.length/workplacesPerPage);if(currentPage>newTotalPages&&newTotalPages>0){setCurrentPage(newTotalPages);}else if(newTotalPages===0){setCurrentPage(1);}// Clear notifications\nclearNotifications();}else{setShowDeleteConfirmation(false);closeModal();}}catch(error){console.error('Error deleting workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri silinirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri silinirken hata oluştu');}clearNotifications();}};// Function to cancel deletion\nconst cancelDeleteWorkplace=()=>{setShowDeleteConfirmation(false);};const handleApprovalStatusChange=async(id,status)=>{try{// Update local state first for immediate UI feedback\nsetWorkplaces(prev=>prev.map(workplace=>workplace.id===id?_objectSpread(_objectSpread({},workplace),{},{approvalStatus:status}):workplace));// Update the backend\nawait updateWorkplace(id,_objectSpread(_objectSpread({},workplaces.find(w=>w.id===id)),{},{approvalStatus:status}));// Show success message\nsetSuccess('Onay durumu başarıyla güncellendi!');clearNotifications();}catch(error){console.error('Error updating approval status:',error);setError('Onay durumu güncellenirken hata oluştu');clearNotifications();// Revert the local state change if backend update fails\nawait fetchAllData();}};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('tr-TR');};// Function to format risk level in Turkish\nconst formatRiskLevel=riskLevel=>{switch(riskLevel){case'low':return'Az Tehlikeli';case'dangerous':return'Tehlikeli';case'veryDangerous':return'Çok Tehlikeli';default:return'Belirtilmemiş';}};// Function to get expert name by ID\nconst getExpertName=(expertId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Expert){console.log('Using included Expert data:',workplace.Expert);// Check if firstName and lastName exist\nif(workplace.Expert.firstName&&workplace.Expert.lastName){return\"\".concat(workplace.Expert.firstName,\" \").concat(workplace.Expert.lastName);}}// Fallback to lookup in allExperts array\nif(!expertId)return'Atanmamış';const expert=allExperts.find(expert=>expert.id===parseInt(expertId));if(expert&&expert.firstName&&expert.lastName){return\"\".concat(expert.firstName,\" \").concat(expert.lastName);}return'Bilinmeyen Uzman';};// Function to get doctor name by ID\nconst getDoctorName=(doctorId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Doctor){console.log('Using included Doctor data:',workplace.Doctor);// Check if firstName and lastName exist\nif(workplace.Doctor.firstName&&workplace.Doctor.lastName){return\"\".concat(workplace.Doctor.firstName,\" \").concat(workplace.Doctor.lastName);}}// Fallback to lookup in allDoctors array\nif(!doctorId)return'Atanmamış';const doctor=allDoctors.find(doctor=>doctor.id===parseInt(doctorId));if(doctor&&doctor.firstName&&doctor.lastName){return\"\".concat(doctor.firstName,\" \").concat(doctor.lastName);}return'Bilinmeyen Hekim';};// Function to get DSP name by ID\nconst getDspName=(dspId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Dsp){console.log('Using included Dsp data:',workplace.Dsp);// Check if firstName and lastName exist\nif(workplace.Dsp.firstName&&workplace.Dsp.lastName){return\"\".concat(workplace.Dsp.firstName,\" \").concat(workplace.Dsp.lastName);}}// Fallback to lookup in allDsps array\nif(!dspId)return'Atanmamış';const dsp=allDsps.find(dsp=>dsp.id===parseInt(dspId));if(dsp&&dsp.firstName&&dsp.lastName){return\"\".concat(dsp.firstName,\" \").concat(dsp.lastName);}return'Bilinmeyen DSP';};const handleEditWorkplace=()=>{setWorkplaces(prev=>prev.map(workplace=>workplace.id===modalFormData.id?modalFormData:workplace));closeModal();};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setModalFormData({});// Allow background scrolling when modal is closed\ndocument.body.style.overflow='auto';};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),duplicateWarning.show&&/*#__PURE__*/_jsxs(\"div\",{className:\"duplicate-warning-popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Zaten Mevcut\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bu kay\\u0131t daha \\xF6nce girilmi\\u015F. Tekrar kay\\u0131t yapmak i\\xE7in ilgili sat\\u0131r\\u0131 d\\xFCzenleyebilirsiniz.\"})]}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"workplace-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK \\u0130\\u015Fyeri Sicil No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",value:formData.sskRegistrationNo,onChange:handleSSkRegistrationNoChange,className:\"form-input ssk-input\",placeholder:\"x xxxx xx xx xxxxx xxx xx xx xxx\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:formData.address,onChange:handleChange,className:\"form-textarea\",required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat (TL):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:formData.price,onChange:handlePriceChange,className:\"form-input price-input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"price-suffix\",children:\"TL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kdv-checkbox-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kdv-included\",className:\"kdv-checkbox\",checked:isKdvIncluded,onChange:e=>setIsKdvIncluded(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"kdv-included\",className:\"kdv-label\",children:\"KDV Dahil\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",value:formData.taxOffice,onChange:handleTaxOfficeChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Numaras\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",value:formData.taxNumber,onChange:handleTaxNumberChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",value:formData.riskLevel,onChange:handleChange,className:\"form-select\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCount\",value:formData.employeeCount,onChange:handleEmployeeCountChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",value:formData.source,onChange:handleSourceChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",value:formData.assignedExpertId,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredExperts(formData.riskLevel,parseInt(formData.employeeCount)||0).map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\" - \",expert.assignedMinutes,\" dk)\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",value:formData.assignedDoctorId,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredDoctors(formData.riskLevel,parseInt(formData.employeeCount)||0).map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName,\" (\",doctor.assignedMinutes,\" dk)\"]},doctor.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group dsp-selection-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",value:formData.assignedDspId,onChange:handleChange,className:\"form-select\",disabled:!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredDsps(formData.riskLevel,parseInt(formData.employeeCount)||0).map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName,\" (\",dsp.assignedMinutes,\" dk)\"]},dsp.id))]}),!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0)&&/*#__PURE__*/_jsx(\"div\",{className:\"form-hint\",children:\"DSP atamas\\u0131 bu i\\u015F yeri i\\xE7in yap\\u0131lamaz\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",value:formData.registrationDate,onChange:handleChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xA0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions-inline\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleClose,children:\"Temizle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Kaydet\"})]})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rows-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-row-no-box\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-label\",onClick:()=>sortWorkplaces('name'),children:[\"\\u0130\\u015F Yeri Ad\\u0131\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='name'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='name'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-source\",onClick:()=>sortWorkplaces('source'),children:[\"Kaynak\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='source'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='source'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-date\",onClick:()=>sortWorkplaces('registrationDate'),children:[\"Kay\\u0131t Tarihi\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='registrationDate'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='registrationDate'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-expert\",onClick:()=>sortWorkplaces('assignedExpertId'),children:[\"Uzman\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='assignedExpertId'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='assignedExpertId'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-status\",onClick:()=>sortWorkplaces('approvalStatus'),children:[\"Durum\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='approvalStatus'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='approvalStatus'&&sortConfig.direction==='desc'?'active':'')})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"workplaces-list\",children:getSortedWorkplaces().slice((currentPage-1)*workplacesPerPage,currentPage*workplacesPerPage).map(workplace=>{var _duplicateWarning$wor;return/*#__PURE__*/_jsxs(\"div\",{id:\"workplace-row-\".concat(workplace.id),className:\"row-item \".concat(duplicateWarning.show&&((_duplicateWarning$wor=duplicateWarning.workplace)===null||_duplicateWarning$wor===void 0?void 0:_duplicateWarning$wor.id)===workplace.id?'duplicate-highlight':''),onClick:e=>{// Only open modal if the click is not on the status dropdown\nif(!e.target.closest('.inline-approval-status')){handleRowClick(workplace);}},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-label\",children:workplace.name}),/*#__PURE__*/_jsx(\"div\",{className:\"row-source\",children:workplace.source}),/*#__PURE__*/_jsx(\"div\",{className:\"row-date\",children:formatDate(workplace.registrationDate)}),/*#__PURE__*/_jsx(\"div\",{className:\"row-expert\",children:getExpertName(workplace.assignedExpertId,workplace)}),/*#__PURE__*/_jsxs(\"select\",{className:\"inline-approval-status approval-status-\".concat(workplace.approvalStatus),value:workplace.approvalStatus,onChange:e=>handleApprovalStatusChange(workplace.id,e.target.value),onClick:e=>e.stopPropagation()// Prevent row click when clicking on dropdown\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]},workplace.id);})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pagination-link \".concat(workplaces.length===0?'disabled':''),onClick:()=>workplaces.length>0&&handlePageChange(currentPage>1?currentPage-1:totalPages),children:\"\\xD6nceki\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"page-info\",children:[\"Sayfa \",currentPage,\" / \",totalPages]}),/*#__PURE__*/_jsx(\"span\",{className:\"pagination-link \".concat(workplaces.length===0?'disabled':''),onClick:()=>workplaces.length>0&&handlePageChange(currentPage<totalPages?currentPage+1:1),children:\"Sonraki\"})]})]})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0130\\u015F Yeri D\\xFCzenle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleModalSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:modalFormData.name||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK \\u0130\\u015Fyeri Sicil No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",value:modalFormData.sskRegistrationNo||'',onChange:handleModalChange,className:\"form-input ssk-input\",placeholder:\"x xxxx xx xx xxxxx xxx xx xx xxx\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:modalFormData.address||'',onChange:handleModalChange,className:\"form-textarea\",required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat (TL):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:modalFormData.price||'',onChange:handleModalChange,className:\"form-input price-input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"price-suffix\",children:\"TL\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",value:modalFormData.taxOffice||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Numaras\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",value:modalFormData.taxNumber||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",value:modalFormData.riskLevel||'',onChange:handleModalChange,className:\"form-select\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCount\",value:modalFormData.employeeCount||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",value:modalFormData.source||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",value:modalFormData.assignedExpertId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allExperts.map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\")\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",value:modalFormData.assignedDoctorId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allDoctors.map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName]},doctor.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",value:modalFormData.assignedDspId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allDsps.map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName]},dsp.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",value:modalFormData.registrationDate||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Onay Durumu:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"approvalStatus\",value:modalFormData.approvalStatus||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDeleteWorkplace,children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:closeModal,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"G\\xFCncelle\"})]})]})})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useLocation","createWorkplace","updateWorkplace","getAvailableExperts","getAvailableDoctors","getAvailableDsps","getAllWorkplaces","deleteWorkplace","getAllExperts","getAllDoctors","getAllDsps","jsx","_jsx","jsxs","_jsxs","Dashboard","console","log","Date","toISOString","location","formData","setFormData","name","sskRegistrationNo","address","price","taxOffice","taxNumber","riskLevel","employeeCount","source","assignedExpertId","assignedDoctorId","assignedDspId","registrationDate","isKdvIncluded","setIsKdvIncluded","workplaces","setWorkplaces","currentPage","setCurrentPage","isModalOpen","setIsModalOpen","modalFormData","setModalFormData","showNoExpertPopup","setShowNoExpertPopup","showNoDoctorPopup","setShowNoDoctorPopup","showNoDspPopup","setShowNoDspPopup","showDspNotAllowedPopup","setShowDspNotAllowedPopup","showDeleteConfirmation","setShowDeleteConfirmation","allExperts","setAllExperts","allDoctors","setAllDoctors","allDsps","setAllDsps","success","setSuccess","error","setError","duplicateWarning","setDuplicateWarning","show","workplace","workplacesPerPage","totalPages","Math","ceil","length","sortConfig","setSortConfig","sortWorkplaces","key","direction","getSortedWorkplaces","sort","a","b","aValue","bValue","getTime","riskOrder","approvalOrder","getExpertName","getDoctorName","getDspName","fetchAllData","workplacesData","expertsData","doctorsData","dspsData","Promise","all","workplacesCount","expertsCount","doctorsCount","dspsCount","pathname","handleFocus","window","addEventListener","removeEventListener","clearNotifications","setTimeout","handleChange","e","value","target","parseInt","isAllowed","isDspAssignmentAllowed","prev","_objectSpread","handlePriceChange","test","handleTaxOfficeChange","handleTaxNumberChange","handleEmployeeCountChange","handleSourceChange","formatPrice","num","parseFloat","isNaN","toLocaleString","maximumFractionDigits","handleSSkRegistrationNoChange","replace","substring","formattedValue","i","handleClose","calculateRequiredMinutes","calculateRequiredDoctorMinutes","calculateRequiredDspMinutes","getFilteredExperts","requiredMinutes","filter","expert","assignedMinutes","expertiseClass","getFilteredDoctors","doctor","getFilteredDsps","isDspRequired","dsp","checkExpertAssignment","workplaceData","tempWorkplaceId","tempWorkplace","approvalStatus","id","availableExperts","selectedExpert","find","deleteError","checkDoctorAssignment","availableDoctors","selectedDoctor","checkDspAssignment","availableDsps","selectedDsp","handleSubmit","preventDefault","submitTimestamp","now","formattedSskNo","existingWorkplace","element","document","getElementById","concat","scrollIntoView","behavior","block","isExpertValid","isDoctorValid","isDspValid","newWorkplace","dispatchEvent","CustomEvent","detail","message","handlePageChange","pageNumber","getCurrentPageWorkplaces","startIndex","endIndex","result","slice","handleRowClick","body","style","overflow","handleModalChange","finalFormattedValue","handleModalSubmit","updatedWorkplace","handleDeleteWorkplace","confirmDeleteWorkplace","closeModal","newTotalPages","cancelDeleteWorkplace","handleApprovalStatusChange","status","map","w","formatDate","dateString","date","toLocaleDateString","formatRiskLevel","expertId","Expert","firstName","lastName","doctorId","Doctor","dspId","Dsp","handleEditWorkplace","className","children","onClick","stopPropagation","onSubmit","type","onChange","required","placeholder","checked","htmlFor","disabled","_duplicateWarning$wor","closest"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Dashboard.css';\r\nimport { createWorkplace, updateWorkplace, getAvailableExperts, getAvailableDoctors, getAvailableDsps, getAllWorkplaces, deleteWorkplace, getAllExperts, getAllDoctors, getAllDsps } from '../services/api';\r\n\r\n// Define types\r\ninterface Workplace {\r\n  id: number;\r\n  name: string;\r\n  sskRegistrationNo: string;\r\n  address: string;\r\n  price: string;\r\n  taxOffice: string;\r\n  taxNumber: string;\r\n  riskLevel: string;\r\n  employeeCount: string;\r\n  source: string;\r\n  assignedExpertId: string;\r\n  assignedDoctorId: string;\r\n  assignedDspId: string;\r\n  registrationDate: string;\r\n  approvalStatus: string;\r\n  // Add optional personnel objects that will be included from backend\r\n  Expert?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n  Doctor?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n  Dsp?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  console.log('Dashboard component rendered at:', new Date().toISOString());\r\n  const location = useLocation();\r\n  \r\n  // State declarations\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    sskRegistrationNo: '',\r\n    address: '',\r\n    price: '',\r\n    taxOffice: '',\r\n    taxNumber: '',\r\n    riskLevel: 'low',\r\n    employeeCount: '',\r\n    source: '',\r\n    assignedExpertId: '',\r\n    assignedDoctorId: '',\r\n    assignedDspId: '',\r\n    registrationDate: '',\r\n  });\r\n  \r\n  const [isKdvIncluded, setIsKdvIncluded] = useState<boolean>(false);\r\n  const [workplaces, setWorkplaces] = useState<Workplace[]>([]);\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\r\n  const [modalFormData, setModalFormData] = useState<Partial<Workplace>>({});\r\n  const [showNoExpertPopup, setShowNoExpertPopup] = useState<boolean>(false);\r\n  const [showNoDoctorPopup, setShowNoDoctorPopup] = useState<boolean>(false);\r\n  const [showNoDspPopup, setShowNoDspPopup] = useState<boolean>(false);\r\n  const [showDspNotAllowedPopup, setShowDspNotAllowedPopup] = useState<boolean>(false);\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState<boolean>(false);\r\n  const [allExperts, setAllExperts] = useState<any[]>([]);\r\n  const [allDoctors, setAllDoctors] = useState<any[]>([]);\r\n  const [allDsps, setAllDsps] = useState<any[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [duplicateWarning, setDuplicateWarning] = useState<{show: boolean, workplace: Workplace | null}>({show: false, workplace: null});\r\n\r\n  // Constants\r\n  const workplacesPerPage = 10;\r\n  \r\n  // Derived state\r\n  const totalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n  \r\n  // Add state for sorting\r\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' } | null>(null);\r\n  \r\n  // Function to sort workplaces\r\n  const sortWorkplaces = (key: string) => {\r\n    let direction: 'asc' | 'desc' = 'asc';\r\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    \r\n    setSortConfig({ key, direction });\r\n  };\r\n  \r\n  // Apply sorting to workplaces\r\n  const getSortedWorkplaces = () => {\r\n    if (!sortConfig) return workplaces;\r\n    \r\n    return [...workplaces].sort((a, b) => {\r\n      // Type guard to ensure key is a valid keyof Workplace\r\n      const key = sortConfig.key as keyof Workplace;\r\n      \r\n      // Handle different data types for sorting\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (key) {\r\n        case 'name':\r\n        case 'source':\r\n          aValue = a[key] || '';\r\n          bValue = b[key] || '';\r\n          break;\r\n        case 'registrationDate':\r\n          aValue = new Date(a[key] || '').getTime();\r\n          bValue = new Date(b[key] || '').getTime();\r\n          break;\r\n        case 'riskLevel':\r\n          // Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\r\n          const riskOrder: Record<string, number> = {\r\n            'low': 1,\r\n            'dangerous': 2,\r\n            'veryDangerous': 3\r\n          };\r\n          aValue = riskOrder[a[key]] || 0;\r\n          bValue = riskOrder[b[key]] || 0;\r\n          break;\r\n        case 'approvalStatus':\r\n          // Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\r\n          const approvalOrder: Record<string, number> = {\r\n            'atama': 1,\r\n            'bekliyor': 2,\r\n            'onaylandi': 3\r\n          };\r\n          aValue = approvalOrder[a[key]] || 0;\r\n          bValue = approvalOrder[b[key]] || 0;\r\n          break;\r\n        case 'assignedExpertId':\r\n          aValue = getExpertName(a[key]);\r\n          bValue = getExpertName(b[key]);\r\n          break;\r\n        case 'assignedDoctorId':\r\n          aValue = getDoctorName(a[key]);\r\n          bValue = getDoctorName(b[key]);\r\n          break;\r\n        case 'assignedDspId':\r\n          aValue = getDspName(a[key]);\r\n          bValue = getDspName(b[key]);\r\n          break;\r\n        default:\r\n          aValue = a[key];\r\n          bValue = b[key];\r\n      }\r\n      \r\n      if (aValue < bValue) {\r\n        return sortConfig.direction === 'asc' ? -1 : 1;\r\n      }\r\n      if (aValue > bValue) {\r\n        return sortConfig.direction === 'asc' ? 1 : -1;\r\n      }\r\n      return 0;\r\n    });\r\n  };\r\n  \r\n  // Add a useEffect to log when component mounts and unmounts\r\n  useEffect(() => {\r\n    console.log('Dashboard component mounted at:', new Date().toISOString());\r\n    \r\n    // Cleanup function\r\n    return () => {\r\n      console.log('Dashboard component unmounted at:', new Date().toISOString());\r\n    };\r\n  }, []);\r\n  \r\n  // Function to fetch all data - similar to ExpertCardPage approach\r\n  const fetchAllData = useCallback(async () => {\r\n    try {\r\n      console.log('Fetching all data from backend...');\r\n      \r\n      // Fetch all data in parallel\r\n      const [workplacesData, expertsData, doctorsData, dspsData] = await Promise.all([\r\n        getAllWorkplaces(),\r\n        getAllExperts(),\r\n        getAllDoctors(),\r\n        getAllDsps()\r\n      ]);\r\n      \r\n      console.log('Received all data:', { \r\n        workplacesCount: workplacesData.length, \r\n        expertsCount: expertsData.length, \r\n        doctorsCount: doctorsData.length, \r\n        dspsCount: dspsData.length \r\n      });\r\n      \r\n      // Log first workplace to see structure\r\n      if (workplacesData.length > 0) {\r\n        console.log('First workplace data:', workplacesData[0]);\r\n      }\r\n      \r\n      // Update all state\r\n      setWorkplaces(workplacesData);\r\n      setAllExperts(expertsData);\r\n      setAllDoctors(doctorsData);\r\n      setAllDsps(dspsData);\r\n      console.log('State updated after data fetch');\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setError('Veri alınırken hata oluştu');\r\n    }\r\n  }, []);\r\n\r\n  // Load all data from backend on component mount - similar to ExpertCardPage approach\r\n  useEffect(() => {\r\n    console.log('Dashboard useEffect running - fetching all data at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  // Refresh data when location changes\r\n  useEffect(() => {\r\n    console.log('Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, [location.pathname]);\r\n\r\n  // Refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('Window focused, refreshing all data...');\r\n      fetchAllData();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n  \r\n  // Add effect to log workplaces data when it changes\r\n  useEffect(() => {\r\n    console.log('Workplaces data updated:', workplaces);\r\n  }, [workplaces]);\r\n  \r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Handlers\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Check if user is trying to assign a DSP when it's not allowed\r\n    if (name === 'assignedDspId' && value) {\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isAllowed = isDspAssignmentAllowed(formData.riskLevel, employeeCount);\r\n      \r\n      if (!isAllowed) {\r\n        // Show warning popup\r\n        setShowDspNotAllowedPopup(true);\r\n        return; // Don't update the form data\r\n      }\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        price: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleTaxOfficeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only letters and spaces, no numbers\r\n    if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        taxOffice: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleTaxNumberChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        taxNumber: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleEmployeeCountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        employeeCount: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleSourceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only letters and spaces, no numbers\r\n    if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        source: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Format price with thousands separator\r\n  const formatPrice = (price: string | number): string => {\r\n    if (!price) return '0';\r\n    const num = typeof price === 'string' ? parseFloat(price) : price;\r\n    if (isNaN(num)) return '0';\r\n    return num.toLocaleString('tr-TR', { maximumFractionDigits: 2 });\r\n  };\r\n  \r\n  const handleSSkRegistrationNoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    let value = e.target.value.replace(/\\D/g, ''); // Remove non-digit characters\r\n    \r\n    // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n    if (value.length > 21) value = value.substring(0, 21);\r\n    \r\n    let formattedValue = '';\r\n    for (let i = 0; i < value.length; i++) {\r\n      if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n        formattedValue += ' ' + value[i];\r\n      } else {\r\n        formattedValue += value[i];\r\n      }\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      sskRegistrationNo: formattedValue\r\n    }));\r\n  };\r\n  \r\n  const handleClose = () => {\r\n    setFormData({\r\n      name: '',\r\n      sskRegistrationNo: '',\r\n      address: '',\r\n      price: '',\r\n      taxOffice: '',\r\n      taxNumber: '',\r\n      riskLevel: 'low',\r\n      employeeCount: '',\r\n      source: '',\r\n      assignedExpertId: '',\r\n      assignedDoctorId: '',\r\n      assignedDspId: '',\r\n      registrationDate: '',\r\n    });\r\n    setIsKdvIncluded(false);\r\n  };\r\n  \r\n  // Function to calculate required minutes based on risk level and employee count\r\n  const calculateRequiredMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 10;\r\n      case 'dangerous':\r\n        return employeeCount * 20;\r\n      case 'veryDangerous':\r\n        return employeeCount * 40;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for doctors based on risk level and employee count\r\n  const calculateRequiredDoctorMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 5;\r\n      case 'dangerous':\r\n        return employeeCount * 10;\r\n      case 'veryDangerous':\r\n        return employeeCount * 15;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for DSPs based on risk level and employee count\r\n  const calculateRequiredDspMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    // DSP is only required for very dangerous workplaces with 10+ employees\r\n    if (riskLevel !== 'veryDangerous' || employeeCount < 10) {\r\n      return 0;\r\n    }\r\n    return employeeCount * 5; // 5 minutes per employee for DSP\r\n  };\r\n  \r\n  // Function to filter experts based on risk level and required minutes\r\n  const getFilteredExperts = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredMinutes(riskLevel, employeeCount);\r\n    \r\n    return allExperts.filter(expert => {\r\n      // Check if expert has enough minutes\r\n      if (expert.assignedMinutes < requiredMinutes) {\r\n        return false;\r\n      }\r\n      \r\n      // Filter based on expertise class and risk level\r\n      // A class experts can handle all risk levels\r\n      // B class experts can handle low and dangerous risk levels\r\n      // C class experts can only handle low risk level\r\n      switch (expert.expertiseClass) {\r\n        case 'A':\r\n          return true; // A class can handle all risk levels\r\n        case 'B':\r\n          return riskLevel === 'low' || riskLevel === 'dangerous'; // B class can handle low and dangerous\r\n        case 'C':\r\n          return riskLevel === 'low'; // C class can only handle low risk\r\n        default:\r\n          return false;\r\n      }\r\n    });\r\n  };\r\n  \r\n  // Function to filter doctors based on required minutes\r\n  const getFilteredDoctors = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredDoctorMinutes(riskLevel, employeeCount);\r\n    \r\n    return allDoctors.filter(doctor => {\r\n      // Check if doctor has enough minutes\r\n      return doctor.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to filter DSPs based on required minutes\r\n  const getFilteredDsps = (riskLevel: string, employeeCount: number) => {\r\n    // Check if DSP assignment is allowed for this workplace\r\n    const isAllowed = isDspAssignmentAllowed(riskLevel, employeeCount);\r\n    \r\n    // If DSP assignment is not allowed, return empty array\r\n    if (!isAllowed) {\r\n      return [];\r\n    }\r\n    \r\n    // DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\r\n    const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n    \r\n    // If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\r\n    if (!isDspRequired) {\r\n      return allDsps.filter(dsp => dsp.assignedMinutes > 0); // Return all DSPs with at least 1 minute\r\n    }\r\n    \r\n    // If DSP is required, filter based on required minutes (5 minutes per employee)\r\n    const requiredMinutes = employeeCount * 5;\r\n    \r\n    return allDsps.filter(dsp => {\r\n      // Check if DSP has enough minutes\r\n      return dsp.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to check if expert assignment is valid\r\n  const checkExpertAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available experts for this workplace\r\n      const availableExperts = await getAvailableExperts(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no experts available, show popup\r\n      if (availableExperts.length === 0) {\r\n        setShowNoExpertPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If an expert is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedExpertId) {\r\n        const selectedExpert = availableExperts.find((expert: any) => expert.id === parseInt(workplaceData.assignedExpertId));\r\n        if (!selectedExpert) {\r\n          setShowNoExpertPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking expert assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if doctor assignment is valid\r\n  const checkDoctorAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available doctors for this workplace\r\n      const availableDoctors = await getAvailableDoctors(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no doctors available, show popup\r\n      if (availableDoctors.length === 0) {\r\n        setShowNoDoctorPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a doctor is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDoctorId) {\r\n        const selectedDoctor = availableDoctors.find((doctor: any) => doctor.id === parseInt(workplaceData.assignedDoctorId));\r\n        if (!selectedDoctor) {\r\n          setShowNoDoctorPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking doctor assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is valid\r\n  const checkDspAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Check if DSP is actually required for this workplace\r\n      const employeeCount = parseInt(workplaceData.employeeCount) || 0;\r\n      const isDspRequired = workplaceData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // If DSP is not required, don't check availability\r\n      if (!isDspRequired) {\r\n        // Delete the temporary workplace\r\n        await deleteWorkplace(tempWorkplace.id);\r\n        return true; // DSP assignment is not required, so it's valid\r\n      }\r\n      \r\n      // Get available DSPs for this workplace\r\n      const availableDsps = await getAvailableDsps(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no DSPs available when required, show popup\r\n      if (availableDsps.length === 0) {\r\n        setShowNoDspPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a DSP is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDspId) {\r\n        const selectedDsp = availableDsps.find((dsp: any) => dsp.id === parseInt(workplaceData.assignedDspId));\r\n        if (!selectedDsp) {\r\n          setShowNoDspPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking DSP assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is allowed based on risk level and employee count\r\n  const isDspAssignmentAllowed = (riskLevel: string, employeeCount: number): boolean => {\r\n    // DSP can only be assigned to:\r\n    // 1. Very dangerous workplaces with 10+ employees (required)\r\n    // 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\r\n    \r\n    // DSP assignment is NOT allowed for:\r\n    // 1. Low risk (az tehlikeli) workplaces\r\n    // 2. Dangerous (tehlikeli) workplaces\r\n    // 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\r\n    \r\n    if (riskLevel === 'low' || riskLevel === 'dangerous') {\r\n      return false; // DSP assignment not allowed for low or dangerous risk levels\r\n    }\r\n    \r\n    if (riskLevel === 'veryDangerous' && employeeCount < 10) {\r\n      return false; // DSP assignment not allowed for very dangerous workplaces with less than 10 employees\r\n    }\r\n    \r\n    return true; // DSP assignment allowed (and required for very dangerous with 10+ employees)\r\n  };\r\n  \r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const submitTimestamp = Date.now();\r\n    console.log('handleSubmit called at:', new Date().toISOString(), '(submit #', submitTimestamp, ') with formData:', formData);\r\n    \r\n    try {\r\n      // Check for duplicate SGK registration number\r\n      const formattedSskNo = formData.sskRegistrationNo.replace(/\\s/g, ''); // Remove spaces for comparison\r\n      const existingWorkplace = workplaces.find(workplace => \r\n        workplace.sskRegistrationNo && \r\n        workplace.sskRegistrationNo.replace(/\\s/g, '') === formattedSskNo\r\n      );\r\n      \r\n      if (existingWorkplace) {\r\n        // Show duplicate warning popup\r\n        setDuplicateWarning({show: true, workplace: existingWorkplace});\r\n        \r\n        // Clear the warning after 5 seconds\r\n        setTimeout(() => {\r\n          setDuplicateWarning({show: false, workplace: null});\r\n        }, 5000);\r\n        \r\n        // Scroll to the existing workplace row\r\n        setTimeout(() => {\r\n          const element = document.getElementById(`workplace-row-${existingWorkplace.id}`);\r\n          if (element) {\r\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n          }\r\n        }, 100);\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Ensure all required fields are included and handle null values for assigned IDs\r\n      const workplaceData = {\r\n        ...formData,\r\n        employeeCount: parseInt(formData.employeeCount) || 0,\r\n        price: parseFloat(formData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: formData.assignedExpertId || null,\r\n        assignedDoctorId: formData.assignedDoctorId || null,\r\n        assignedDspId: formData.assignedDspId || null\r\n      };\r\n      \r\n      console.log('Sending workplace data to backend (submit #', submitTimestamp, '):', workplaceData);\r\n      \r\n      // Check if personnel assignments are required\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isDspRequired = formData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // Only validate expert and doctor assignments (these are always required)\r\n      const isExpertValid = await checkExpertAssignment(workplaceData);\r\n      const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n      \r\n      // Only validate DSP assignment if it's required\r\n      const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n      \r\n      // If any required assignment is invalid, don't proceed with saving\r\n      if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n        console.log('Personnel assignment validation failed, not saving (submit #', submitTimestamp, ')');\r\n        return;\r\n      }\r\n      \r\n      // Save to backend\r\n      const newWorkplace = await createWorkplace(workplaceData);\r\n      console.log('Created new workplace response (submit #', submitTimestamp, '):', newWorkplace);\r\n      \r\n      // Show success message\r\n      setSuccess('İş yeri başarıyla kaydedildi!');\r\n      \r\n      // Close the form first\r\n      handleClose();\r\n      console.log('Form closed (submit #', submitTimestamp, ')');\r\n      \r\n      // Refresh all data from backend to ensure consistency\r\n      await fetchAllData();\r\n      \r\n      // Dispatch custom event to notify other components about data change\r\n      window.dispatchEvent(new CustomEvent('workplaceCreated', { detail: { workplace: newWorkplace } }));\r\n      \r\n      // Reset to first page since we have new data\r\n      setCurrentPage(1);\r\n      console.log('Page reset to 1 (submit #', submitTimestamp, ')');\r\n      \r\n      // Clear notifications\r\n      clearNotifications();\r\n    } catch (error: any) {\r\n      console.error('Error saving workplace (submit #', submitTimestamp, '):', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri kaydedilirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri kaydedilirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n  \r\n  const handlePageChange = (pageNumber: number) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n  \r\n  const getCurrentPageWorkplaces = (): Workplace[] => {\r\n    const startIndex = (currentPage - 1) * workplacesPerPage;\r\n    const endIndex = startIndex + workplacesPerPage;\r\n    const result = workplaces.slice(startIndex, endIndex);\r\n    console.log('getCurrentPageWorkplaces called, returning:', result);\r\n    return result;\r\n  };\r\n  \r\n  const handleRowClick = (workplace: Workplace) => {\r\n    setModalFormData(workplace);\r\n    setIsModalOpen(true);\r\n    // Prevent background scrolling when modal is open\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n  \r\n  const handleModalChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Apply the same formatting logic for SGK registration number in the modal\r\n    if (name === 'sskRegistrationNo') {\r\n      let formattedValue = value.replace(/\\D/g, ''); // Remove non-digit characters\r\n      \r\n      // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n      if (formattedValue.length > 21) formattedValue = formattedValue.substring(0, 21);\r\n      \r\n      let finalFormattedValue = '';\r\n      for (let i = 0; i < formattedValue.length; i++) {\r\n        if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n          finalFormattedValue += ' ' + formattedValue[i];\r\n        } else {\r\n          finalFormattedValue += formattedValue[i];\r\n        }\r\n      }\r\n      \r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: finalFormattedValue\r\n      }));\r\n    } else {\r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleModalSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (modalFormData.id) {\r\n        // Ensure all required fields are included and handle null values for assigned IDs\r\n        const workplaceData = {\r\n          ...modalFormData,\r\n          employeeCount: parseInt(modalFormData.employeeCount as string) || 0,\r\n          price: parseFloat(modalFormData.price as string) || 0,\r\n          // Handle null values for assigned IDs\r\n          assignedExpertId: modalFormData.assignedExpertId || null,\r\n          assignedDoctorId: modalFormData.assignedDoctorId || null,\r\n          assignedDspId: modalFormData.assignedDspId || null\r\n        };\r\n        \r\n        // Check if personnel assignments are required\r\n        const employeeCount = parseInt(modalFormData.employeeCount as string) || 0;\r\n        const riskLevel = (modalFormData.riskLevel as string) || 'low';\r\n        const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n        \r\n        // Only validate expert and doctor assignments (these are always required)\r\n        const isExpertValid = await checkExpertAssignment(workplaceData);\r\n        const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n        \r\n        // Only validate DSP assignment if it's required\r\n        const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n        \r\n        // If any required assignment is invalid, don't proceed with saving\r\n        if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n          return;\r\n        }\r\n        \r\n        // Update existing workplace\r\n        const updatedWorkplace = await updateWorkplace(modalFormData.id, workplaceData);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla güncellendi!');\r\n        \r\n        // Close modal first\r\n        setIsModalOpen(false);\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error updating workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri güncellenirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri güncellenirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkplace = () => {\r\n    // Show confirmation dialog before deleting\r\n    setShowDeleteConfirmation(true);\r\n  };\r\n\r\n  // Function to confirm deletion\r\n  const confirmDeleteWorkplace = async () => {\r\n    try {\r\n      if (modalFormData.id) {\r\n        // Delete from backend\r\n        await deleteWorkplace(modalFormData.id);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla silindi!');\r\n        \r\n        // Close confirmation dialog and modal\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Reset to first page if we're on an empty page\r\n        const newTotalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n        if (currentPage > newTotalPages && newTotalPages > 0) {\r\n          setCurrentPage(newTotalPages);\r\n        } else if (newTotalPages === 0) {\r\n          setCurrentPage(1);\r\n        }\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      } else {\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error deleting workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri silinirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri silinirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Function to cancel deletion\r\n  const cancelDeleteWorkplace = () => {\r\n    setShowDeleteConfirmation(false);\r\n  };\r\n\r\n  const handleApprovalStatusChange = async (id: number, status: string) => {\r\n    try {\r\n      // Update local state first for immediate UI feedback\r\n      setWorkplaces(prev => \r\n        prev.map(workplace => \r\n          workplace.id === id ? { ...workplace, approvalStatus: status } : workplace\r\n        )\r\n      );\r\n      \r\n      // Update the backend\r\n      await updateWorkplace(id, { ...workplaces.find(w => w.id === id), approvalStatus: status });\r\n      \r\n      // Show success message\r\n      setSuccess('Onay durumu başarıyla güncellendi!');\r\n      clearNotifications();\r\n    } catch (error) {\r\n      console.error('Error updating approval status:', error);\r\n      setError('Onay durumu güncellenirken hata oluştu');\r\n      clearNotifications();\r\n      \r\n      // Revert the local state change if backend update fails\r\n      await fetchAllData();\r\n    }\r\n  };\r\n  \r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('tr-TR');\r\n  };\r\n  \r\n  // Function to format risk level in Turkish\r\n  const formatRiskLevel = (riskLevel: string): string => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return 'Az Tehlikeli';\r\n      case 'dangerous':\r\n        return 'Tehlikeli';\r\n      case 'veryDangerous':\r\n        return 'Çok Tehlikeli';\r\n      default:\r\n        return 'Belirtilmemiş';\r\n    }\r\n  };\r\n  \r\n  // Function to get expert name by ID\r\n  const getExpertName = (expertId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Expert) {\r\n      console.log('Using included Expert data:', workplace.Expert);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Expert.firstName && workplace.Expert.lastName) {\r\n        return `${workplace.Expert.firstName} ${workplace.Expert.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allExperts array\r\n    if (!expertId) return 'Atanmamış';\r\n    const expert = allExperts.find(expert => expert.id === parseInt(expertId));\r\n    if (expert && expert.firstName && expert.lastName) {\r\n      return `${expert.firstName} ${expert.lastName}`;\r\n    }\r\n    return 'Bilinmeyen Uzman';\r\n  };\r\n  \r\n  // Function to get doctor name by ID\r\n  const getDoctorName = (doctorId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Doctor) {\r\n      console.log('Using included Doctor data:', workplace.Doctor);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Doctor.firstName && workplace.Doctor.lastName) {\r\n        return `${workplace.Doctor.firstName} ${workplace.Doctor.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allDoctors array\r\n    if (!doctorId) return 'Atanmamış';\r\n    const doctor = allDoctors.find(doctor => doctor.id === parseInt(doctorId));\r\n    if (doctor && doctor.firstName && doctor.lastName) {\r\n      return `${doctor.firstName} ${doctor.lastName}`;\r\n    }\r\n    return 'Bilinmeyen Hekim';\r\n  };\r\n  \r\n  // Function to get DSP name by ID\r\n  const getDspName = (dspId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Dsp) {\r\n      console.log('Using included Dsp data:', workplace.Dsp);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Dsp.firstName && workplace.Dsp.lastName) {\r\n        return `${workplace.Dsp.firstName} ${workplace.Dsp.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allDsps array\r\n    if (!dspId) return 'Atanmamış';\r\n    const dsp = allDsps.find(dsp => dsp.id === parseInt(dspId));\r\n    if (dsp && dsp.firstName && dsp.lastName) {\r\n      return `${dsp.firstName} ${dsp.lastName}`;\r\n    }\r\n    return 'Bilinmeyen DSP';\r\n  };\r\n  \r\n  const handleEditWorkplace = () => {\r\n    setWorkplaces(prev => \r\n      prev.map(workplace => \r\n        workplace.id === modalFormData.id ? modalFormData as Workplace : workplace\r\n      )\r\n    );\r\n    closeModal();\r\n  };\r\n  \r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setModalFormData({});\r\n    // Allow background scrolling when modal is closed\r\n    document.body.style.overflow = 'auto';\r\n  };\r\n  \r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Expert Popup */}\r\n      {showNoExpertPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Uzman Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Doctor Popup */}\r\n      {showNoDoctorPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Hekim Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No DSP Popup */}\r\n      {showNoDspPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun DSP Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* DSP Not Allowed Popup */}\r\n      {showDspNotAllowedPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>DSP Atanamaz</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Seçilen iş yerine DSP atanamaz.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Delete Confirmation Popup */}\r\n      {showDeleteConfirmation && (\r\n        <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Kayıt Silme Onayı</h3>\r\n              <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n              <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Existing form */}\r\n        <div className=\"form-container\">\r\n          {/* Popup notifications */}\r\n          {success && (\r\n            <div className=\"popup-notification alert alert-info\">\r\n              {success}\r\n            </div>\r\n          )}\r\n          {error && (\r\n            <div className=\"popup-notification alert alert-warning\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Duplicate warning popup */}\r\n          {duplicateWarning.show && (\r\n            <div className=\"duplicate-warning-popup\">\r\n              <h3>Kayıt Zaten Mevcut</h3>\r\n              <p>Bu kayıt daha önce girilmiş. Tekrar kayıt yapmak için ilgili satırı düzenleyebilirsiniz.</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Expert Popup */}\r\n          {showNoExpertPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Uzman Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Doctor Popup */}\r\n          {showNoDoctorPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Hekim Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No DSP Popup */}\r\n          {showNoDspPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun DSP Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* DSP Not Allowed Popup */}\r\n          {showDspNotAllowedPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>DSP Atanamaz</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Seçilen iş yerine DSP atanamaz.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Delete Confirmation Popup */}\r\n          {showDeleteConfirmation && (\r\n            <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Kayıt Silme Onayı</h3>\r\n                  <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n                  <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"workplace-form\">\r\n            {/* Compact single-line form layout */}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">İş Yeri Adı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">SGK İşyeri Sicil No:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"sskRegistrationNo\"\r\n                    value={formData.sskRegistrationNo}\r\n                    onChange={handleSSkRegistrationNoChange}\r\n                    className=\"form-input ssk-input\"\r\n                    placeholder=\"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Adres:</label>\r\n                  <textarea\r\n                    name=\"address\"\r\n                    value={formData.address}\r\n                    onChange={handleChange}\r\n                    className=\"form-textarea\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Fiyat (TL):</label>\r\n                  <div className=\"price-input-container\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"price\"\r\n                      value={formData.price}\r\n                      onChange={handlePriceChange}\r\n                      className=\"form-input price-input\"\r\n                      required\r\n                    />\r\n                    <span className=\"price-suffix\">TL</span>\r\n                  </div>\r\n                  <div className=\"kdv-checkbox-container\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"kdv-included\"\r\n                      className=\"kdv-checkbox\"\r\n                      checked={isKdvIncluded}\r\n                      onChange={(e) => setIsKdvIncluded(e.target.checked)}\r\n                    />\r\n                    <label htmlFor=\"kdv-included\" className=\"kdv-label\">KDV Dahil</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi Dairesi:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxOffice\"\r\n                    value={formData.taxOffice}\r\n                    onChange={handleTaxOfficeChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi Numarası:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxNumber\"\r\n                    value={formData.taxNumber}\r\n                    onChange={handleTaxNumberChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                  <select\r\n                    name=\"riskLevel\"\r\n                    value={formData.riskLevel}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                    required\r\n                  >\r\n                    <option value=\"low\">Az Tehlikeli</option>\r\n                    <option value=\"dangerous\">Tehlikeli</option>\r\n                    <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"employeeCount\"\r\n                    value={formData.employeeCount}\r\n                    onChange={handleEmployeeCountChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kaynak:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"source\"\r\n                    value={formData.source}\r\n                    onChange={handleSourceChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Uzman:</label>\r\n                  <select\r\n                    name=\"assignedExpertId\"\r\n                    value={formData.assignedExpertId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredExperts(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(expert => (\r\n                      <option key={expert.id} value={expert.id}>\r\n                        {expert.firstName} {expert.lastName} ({expert.expertiseClass} - {expert.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Hekim:</label>\r\n                  <select\r\n                    name=\"assignedDoctorId\"\r\n                    value={formData.assignedDoctorId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredDoctors(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(doctor => (\r\n                      <option key={doctor.id} value={doctor.id}>\r\n                        {doctor.firstName} {doctor.lastName} ({doctor.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group dsp-selection-container\">\r\n                  <label className=\"form-label\">Atanan DSP:</label>\r\n                  <select\r\n                    name=\"assignedDspId\"\r\n                    value={formData.assignedDspId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                    disabled={!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0)}\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredDsps(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(dsp => (\r\n                      <option key={dsp.id} value={dsp.id}>\r\n                        {dsp.firstName} {dsp.lastName} ({dsp.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  {!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0) && (\r\n                    <div className=\"form-hint\">DSP ataması bu iş yeri için yapılamaz</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"registrationDate\"\r\n                    value={formData.registrationDate}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* Move buttons to this row to save space */}\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">&nbsp;</label>\r\n                  <div className=\"form-actions-inline\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={handleClose}>\r\n                      Temizle\r\n                    </button>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                      Kaydet\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Remove the original form-actions div since buttons are now inline */}\r\n          </form>\r\n        </div>\r\n        \r\n        {/* Workplaces list */}\r\n        <div className=\"rows-container\">\r\n          <div className=\"header-row-no-box\">\r\n            <button className=\"row-header-label\" onClick={() => sortWorkplaces('name')}>\r\n              İş Yeri Adı\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'name' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'name' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-source\" onClick={() => sortWorkplaces('source')}>\r\n              Kaynak\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'source' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'source' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-date\" onClick={() => sortWorkplaces('registrationDate')}>\r\n              Kayıt Tarihi\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'registrationDate' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'registrationDate' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-expert\" onClick={() => sortWorkplaces('assignedExpertId')}>\r\n              Uzman\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'assignedExpertId' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'assignedExpertId' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-status\" onClick={() => sortWorkplaces('approvalStatus')}>\r\n              Durum\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'approvalStatus' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'approvalStatus' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"workplaces-list\">\r\n            {getSortedWorkplaces().slice((currentPage - 1) * workplacesPerPage, currentPage * workplacesPerPage).map(workplace => (\r\n              <div \r\n                key={workplace.id} \r\n                id={`workplace-row-${workplace.id}`}\r\n                className={`row-item ${duplicateWarning.show && duplicateWarning.workplace?.id === workplace.id ? 'duplicate-highlight' : ''}`}\r\n                onClick={(e) => {\r\n                  // Only open modal if the click is not on the status dropdown\r\n                  if (!(e.target as HTMLElement).closest('.inline-approval-status')) {\r\n                    handleRowClick(workplace);\r\n                  }\r\n                }}\r\n              >\r\n                <div className=\"row-label\">{workplace.name}</div>\r\n                <div className=\"row-source\">{workplace.source}</div>\r\n                <div className=\"row-date\">{formatDate(workplace.registrationDate)}</div>\r\n                <div className=\"row-expert\">{getExpertName(workplace.assignedExpertId, workplace)}</div>\r\n                <select\r\n                  className={`inline-approval-status approval-status-${workplace.approvalStatus}`}\r\n                  value={workplace.approvalStatus}\r\n                  onChange={(e) => handleApprovalStatusChange(workplace.id, e.target.value)}\r\n                  onClick={(e) => e.stopPropagation()} // Prevent row click when clicking on dropdown\r\n                >\r\n                  <option value=\"atama\">Atama yapılacak</option>\r\n                  <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                  <option value=\"onaylandi\">Onaylandı</option>\r\n                </select>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {totalPages > 1 && (\r\n            <div className=\"pagination\">\r\n              <span \r\n                className={`pagination-link ${workplaces.length === 0 ? 'disabled' : ''}`}\r\n                onClick={() => workplaces.length > 0 && handlePageChange(currentPage > 1 ? currentPage - 1 : totalPages)}\r\n              >\r\n                Önceki\r\n              </span>\r\n              <span className=\"page-info\">\r\n                Sayfa {currentPage} / {totalPages}\r\n              </span>\r\n              <span \r\n                className={`pagination-link ${workplaces.length === 0 ? 'disabled' : ''}`}\r\n                onClick={() => workplaces.length > 0 && handlePageChange(currentPage < totalPages ? currentPage + 1 : 1)}\r\n              >\r\n                Sonraki\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Modal for editing workplace */}\r\n      {isModalOpen && (\r\n        <div className=\"modal-overlay\" onClick={closeModal}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>İş Yeri Düzenle</h3>\r\n              <button className=\"modal-close\" onClick={closeModal}>×</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={handleModalSubmit}>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">İş Yeri Adı:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={modalFormData.name || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">SGK İşyeri Sicil No:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"sskRegistrationNo\"\r\n                        value={modalFormData.sskRegistrationNo || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input ssk-input\"\r\n                        placeholder=\"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Adres:</label>\r\n                      <textarea\r\n                        name=\"address\"\r\n                        value={modalFormData.address || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-textarea\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Fiyat (TL):</label>\r\n                      <div className=\"price-input-container\">\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"price\"\r\n                          value={modalFormData.price || ''}\r\n                          onChange={handleModalChange}\r\n                          className=\"form-input price-input\"\r\n                          required\r\n                        />\r\n                        <span className=\"price-suffix\">TL</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi Dairesi:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxOffice\"\r\n                        value={modalFormData.taxOffice || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi Numarası:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxNumber\"\r\n                        value={modalFormData.taxNumber || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                      <select\r\n                        name=\"riskLevel\"\r\n                        value={modalFormData.riskLevel || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                        required\r\n                      >\r\n                        <option value=\"low\">Az Tehlikeli</option>\r\n                        <option value=\"dangerous\">Tehlikeli</option>\r\n                        <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"employeeCount\"\r\n                        value={modalFormData.employeeCount || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kaynak:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"source\"\r\n                        value={modalFormData.source || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Uzman:</label>\r\n                      <select\r\n                        name=\"assignedExpertId\"\r\n                        value={modalFormData.assignedExpertId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allExperts.map(expert => (\r\n                          <option key={expert.id} value={expert.id}>\r\n                            {expert.firstName} {expert.lastName} ({expert.expertiseClass})\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Hekim:</label>\r\n                      <select\r\n                        name=\"assignedDoctorId\"\r\n                        value={modalFormData.assignedDoctorId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allDoctors.map(doctor => (\r\n                          <option key={doctor.id} value={doctor.id}>\r\n                            {doctor.firstName} {doctor.lastName}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan DSP:</label>\r\n                      <select\r\n                        name=\"assignedDspId\"\r\n                        value={modalFormData.assignedDspId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allDsps.map(dsp => (\r\n                          <option key={dsp.id} value={dsp.id}>\r\n                            {dsp.firstName} {dsp.lastName}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        name=\"registrationDate\"\r\n                        value={modalFormData.registrationDate || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Onay Durumu:</label>\r\n                      <select\r\n                        name=\"approvalStatus\"\r\n                        value={modalFormData.approvalStatus || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"atama\">Atama yapılacak</option>\r\n                        <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                        <option value=\"onaylandi\">Onaylandı</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"modal-actions\">\r\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={handleDeleteWorkplace}>\r\n                    Sil\r\n                  </button>\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModal}>\r\n                    İptal\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Güncelle\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}