{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{createPortal}from'react-dom';import{useLocation}from'react-router-dom';import'./Dashboard.css';import{createWorkplace,updateWorkplace,getAvailableExperts,getAvailableDoctors,getAvailableDsps,getAllWorkplaces,deleteWorkplace,getAllExperts,getAllDoctors,getAllDsps}from'../services/api';// Define types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{console.log('Dashboard component rendered at:',new Date().toISOString());const location=useLocation();// State declarations\nconst[formData,setFormData]=useState({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',registrationDate:''});const[isKdvIncluded,setIsKdvIncluded]=useState(false);const[workplaces,setWorkplaces]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[isModalOpen,setIsModalOpen]=useState(false);const[modalFormData,setModalFormData]=useState({});const[showNoExpertPopup,setShowNoExpertPopup]=useState(false);const[showNoDoctorPopup,setShowNoDoctorPopup]=useState(false);const[showNoDspPopup,setShowNoDspPopup]=useState(false);const[showDspNotAllowedPopup,setShowDspNotAllowedPopup]=useState(false);const[showDeleteConfirmation,setShowDeleteConfirmation]=useState(false);const[allExperts,setAllExperts]=useState([]);const[allDoctors,setAllDoctors]=useState([]);const[allDsps,setAllDsps]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');const[duplicateWarning,setDuplicateWarning]=useState({show:false,workplace:null});// New state for duplicate warning\n// Constants\nconst workplacesPerPage=10;// Derived state\nconst totalPages=Math.ceil(workplaces.length/workplacesPerPage);// Add state for sorting\nconst[sortConfig,setSortConfig]=useState(null);// Function to sort workplaces\nconst sortWorkplaces=key=>{let direction='asc';if(sortConfig&&sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};// Apply sorting to workplaces\nconst getSortedWorkplaces=()=>{if(!sortConfig)return workplaces;return[...workplaces].sort((a,b)=>{// Type guard to ensure key is a valid keyof Workplace\nconst key=sortConfig.key;// Handle different data types for sorting\nlet aValue,bValue;switch(key){case'name':case'source':aValue=a[key]||'';bValue=b[key]||'';break;case'registrationDate':aValue=new Date(a[key]||'').getTime();bValue=new Date(b[key]||'').getTime();break;case'riskLevel':// Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\nconst riskOrder={'low':1,'dangerous':2,'veryDangerous':3};aValue=riskOrder[a[key]]||0;bValue=riskOrder[b[key]]||0;break;case'approvalStatus':// Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\nconst approvalOrder={'atama':1,'bekliyor':2,'onaylandi':3};aValue=approvalOrder[a[key]]||0;bValue=approvalOrder[b[key]]||0;break;default:aValue=a[key];bValue=b[key];}if(aValue<bValue){return sortConfig.direction==='asc'?-1:1;}if(aValue>bValue){return sortConfig.direction==='asc'?1:-1;}return 0;});};// Add a useEffect to log when component mounts and unmounts\nuseEffect(()=>{console.log('Dashboard component mounted at:',new Date().toISOString());// Cleanup function\nreturn()=>{console.log('Dashboard component unmounted at:',new Date().toISOString());};},[]);// Function to fetch all data - similar to ExpertCardPage approach\nconst fetchAllData=useCallback(async()=>{try{console.log('Fetching all data from backend...');// Fetch all data in parallel\nconst[workplacesData,expertsData,doctorsData,dspsData]=await Promise.all([getAllWorkplaces(),getAllExperts(),getAllDoctors(),getAllDsps()]);console.log('Received all data:',{workplacesCount:workplacesData.length,expertsCount:expertsData.length,doctorsCount:doctorsData.length,dspsCount:dspsData.length});// Update all state\nsetWorkplaces(workplacesData);setAllExperts(expertsData);setAllDoctors(doctorsData);setAllDsps(dspsData);console.log('State updated after data fetch');}catch(error){console.error('Error fetching data:',error);setError('Veri alınırken hata oluştu');}},[]);// Load all data from backend on component mount - similar to ExpertCardPage approach\nuseEffect(()=>{console.log('Dashboard useEffect running - fetching all data at:',new Date().toISOString());fetchAllData();},[]);// Refresh data when location changes\nuseEffect(()=>{console.log('Location changed to:',location.pathname,'at:',new Date().toISOString());fetchAllData();},[location.pathname]);// Refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('Window focused, refreshing all data...');fetchAllData();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[fetchAllData]);// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};// Handlers\nconst handleChange=e=>{const{name,value}=e.target;// Check if user is trying to assign a DSP when it's not allowed\nif(name==='assignedDspId'&&value){const employeeCount=parseInt(formData.employeeCount)||0;const isAllowed=isDspAssignmentAllowed(formData.riskLevel,employeeCount);if(!isAllowed){// Show warning popup\nsetShowDspNotAllowedPopup(true);return;// Don't update the form data\n}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handlePriceChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*\\.?\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:value}));}};const handleTaxOfficeChange=e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxOffice:value}));}};const handleTaxNumberChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxNumber:value}));}};const handleEmployeeCountChange=e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{employeeCount:value}));}};const handleSourceChange=e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{source:value}));}};// Format price with thousands separator\nconst formatPrice=price=>{if(!price)return'0';const num=typeof price==='string'?parseFloat(price):price;if(isNaN(num))return'0';return num.toLocaleString('tr-TR',{maximumFractionDigits:2});};const handleSSkRegistrationNoChange=e=>{let value=e.target.value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(value.length>21)value=value.substring(0,21);let formattedValue='';for(let i=0;i<value.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){formattedValue+=' '+value[i];}else{formattedValue+=value[i];}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{sskRegistrationNo:formattedValue}));};const handleClose=()=>{setFormData({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',registrationDate:''});setIsKdvIncluded(false);};// Function to calculate required minutes based on risk level and employee count\nconst calculateRequiredMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*10;case'dangerous':return employeeCount*20;case'veryDangerous':return employeeCount*40;default:return 0;}};// Function to calculate required minutes for doctors based on risk level and employee count\nconst calculateRequiredDoctorMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*5;case'dangerous':return employeeCount*10;case'veryDangerous':return employeeCount*15;default:return 0;}};// Function to calculate required minutes for DSPs based on risk level and employee count\nconst calculateRequiredDspMinutes=(riskLevel,employeeCount)=>{// DSP is only required for very dangerous workplaces with 10+ employees\nif(riskLevel!=='veryDangerous'||employeeCount<10){return 0;}return employeeCount*5;// 5 minutes per employee for DSP\n};// Function to filter experts based on risk level and required minutes\nconst getFilteredExperts=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredMinutes(riskLevel,employeeCount);return allExperts.filter(expert=>{// Check if expert has enough minutes\nif(expert.assignedMinutes<requiredMinutes){return false;}// Filter based on expertise class and risk level\n// A class experts can handle all risk levels\n// B class experts can handle low and dangerous risk levels\n// C class experts can only handle low risk level\nswitch(expert.expertiseClass){case'A':return true;// A class can handle all risk levels\ncase'B':return riskLevel==='low'||riskLevel==='dangerous';// B class can handle low and dangerous\ncase'C':return riskLevel==='low';// C class can only handle low risk\ndefault:return false;}});};// Function to filter doctors based on required minutes\nconst getFilteredDoctors=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredDoctorMinutes(riskLevel,employeeCount);return allDoctors.filter(doctor=>{// Check if doctor has enough minutes\nreturn doctor.assignedMinutes>=requiredMinutes;});};// Function to filter DSPs based on required minutes\nconst getFilteredDsps=(riskLevel,employeeCount)=>{// Check if DSP assignment is allowed for this workplace\nconst isAllowed=isDspAssignmentAllowed(riskLevel,employeeCount);// If DSP assignment is not allowed, return empty array\nif(!isAllowed){return[];}// DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\nconst isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\nif(!isDspRequired){return allDsps.filter(dsp=>dsp.assignedMinutes>0);// Return all DSPs with at least 1 minute\n}// If DSP is required, filter based on required minutes (5 minutes per employee)\nconst requiredMinutes=employeeCount*5;return allDsps.filter(dsp=>{// Check if DSP has enough minutes\nreturn dsp.assignedMinutes>=requiredMinutes;});};// Function to check if expert assignment is valid\nconst checkExpertAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available experts for this workplace\nconst availableExperts=await getAvailableExperts(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no experts available, show popup\nif(availableExperts.length===0){setShowNoExpertPopup(true);return false;}// If an expert is selected, check if it's still available after deduction\nif(workplaceData.assignedExpertId){const selectedExpert=availableExperts.find(expert=>expert.id===parseInt(workplaceData.assignedExpertId));if(!selectedExpert){setShowNoExpertPopup(true);return false;}}return true;}catch(error){console.error('Error checking expert assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if doctor assignment is valid\nconst checkDoctorAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available doctors for this workplace\nconst availableDoctors=await getAvailableDoctors(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no doctors available, show popup\nif(availableDoctors.length===0){setShowNoDoctorPopup(true);return false;}// If a doctor is selected, check if it's still available after deduction\nif(workplaceData.assignedDoctorId){const selectedDoctor=availableDoctors.find(doctor=>doctor.id===parseInt(workplaceData.assignedDoctorId));if(!selectedDoctor){setShowNoDoctorPopup(true);return false;}}return true;}catch(error){console.error('Error checking doctor assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is valid\nconst checkDspAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseFloat(workplaceData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Check if DSP is actually required for this workplace\nconst employeeCount=parseInt(workplaceData.employeeCount)||0;const isDspRequired=workplaceData.riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, don't check availability\nif(!isDspRequired){// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);return true;// DSP assignment is not required, so it's valid\n}// Get available DSPs for this workplace\nconst availableDsps=await getAvailableDsps(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no DSPs available when required, show popup\nif(availableDsps.length===0){setShowNoDspPopup(true);return false;}// If a DSP is selected, check if it's still available after deduction\nif(workplaceData.assignedDspId){const selectedDsp=availableDsps.find(dsp=>dsp.id===parseInt(workplaceData.assignedDspId));if(!selectedDsp){setShowNoDspPopup(true);return false;}}return true;}catch(error){console.error('Error checking DSP assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is allowed based on risk level and employee count\nconst isDspAssignmentAllowed=(riskLevel,employeeCount)=>{// DSP can only be assigned to:\n// 1. Very dangerous workplaces with 10+ employees (required)\n// 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\n// DSP assignment is NOT allowed for:\n// 1. Low risk (az tehlikeli) workplaces\n// 2. Dangerous (tehlikeli) workplaces\n// 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\nif(riskLevel==='low'||riskLevel==='dangerous'){return false;// DSP assignment not allowed for low or dangerous risk levels\n}if(riskLevel==='veryDangerous'&&employeeCount<10){return false;// DSP assignment not allowed for very dangerous workplaces with less than 10 employees\n}return true;// DSP assignment allowed (and required for very dangerous with 10+ employees)\n};const handleSubmit=async e=>{e.preventDefault();const submitTimestamp=Date.now();console.log('handleSubmit called at:',new Date().toISOString(),'(submit #',submitTimestamp,') with formData:',formData);try{// Check for duplicate SGK registration number\nconst formattedSskNo=formData.sskRegistrationNo.replace(/\\s/g,'');// Remove spaces for comparison\nconst existingWorkplace=workplaces.find(workplace=>workplace.sskRegistrationNo&&workplace.sskRegistrationNo.replace(/\\s/g,'')===formattedSskNo);if(existingWorkplace){// Show duplicate warning popup\nsetDuplicateWarning({show:true,workplace:existingWorkplace});// Clear the warning after 5 seconds\nsetTimeout(()=>{setDuplicateWarning({show:false,workplace:null});},5000);// Scroll to the existing workplace row\nsetTimeout(()=>{const element=document.getElementById(\"workplace-row-\".concat(existingWorkplace.id));if(element){element.scrollIntoView({behavior:'smooth',block:'center'});}},100);return;}// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},formData),{},{employeeCount:parseInt(formData.employeeCount)||0,price:parseFloat(formData.price)||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:formData.assignedExpertId||null,assignedDoctorId:formData.assignedDoctorId||null,assignedDspId:formData.assignedDspId||null});console.log('Sending workplace data to backend (submit #',submitTimestamp,'):',workplaceData);// Check if personnel assignments are required\nconst employeeCount=parseInt(formData.employeeCount)||0;const isDspRequired=formData.riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){console.log('Personnel assignment validation failed, not saving (submit #',submitTimestamp,')');return;}// Save to backend\nconst newWorkplace=await createWorkplace(workplaceData);console.log('Created new workplace response (submit #',submitTimestamp,'):',newWorkplace);// Show success message\nsetSuccess('İş yeri başarıyla kaydedildi!');// Close the form first\nhandleClose();console.log('Form closed (submit #',submitTimestamp,')');// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Dispatch custom event to notify other components about data change\nwindow.dispatchEvent(new CustomEvent('workplaceCreated',{detail:{workplace:newWorkplace}}));// Reset to first page since we have new data\nsetCurrentPage(1);console.log('Page reset to 1 (submit #',submitTimestamp,')');// Clear notifications\nclearNotifications();}catch(error){console.error('Error saving workplace (submit #',submitTimestamp,'):',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri kaydedilirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri kaydedilirken hata oluştu');}clearNotifications();}};const handlePageChange=pageNumber=>{setCurrentPage(pageNumber);};const getCurrentPageWorkplaces=()=>{const startIndex=(currentPage-1)*workplacesPerPage;const endIndex=startIndex+workplacesPerPage;const result=workplaces.slice(startIndex,endIndex);console.log('getCurrentPageWorkplaces called, returning:',result);return result;};const handleRowClick=workplace=>{setModalFormData(workplace);setIsModalOpen(true);// Prevent background scrolling when modal is open\ndocument.body.style.overflow='hidden';};const handleModalChange=e=>{const{name,value}=e.target;// Apply the same formatting logic for SGK registration number in the modal\nif(name==='sskRegistrationNo'){let formattedValue=value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(formattedValue.length>21)formattedValue=formattedValue.substring(0,21);let finalFormattedValue='';for(let i=0;i<formattedValue.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){finalFormattedValue+=' '+formattedValue[i];}else{finalFormattedValue+=formattedValue[i];}}setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:finalFormattedValue}));}else{setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}};const handleModalSubmit=async e=>{e.preventDefault();try{if(modalFormData.id){// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},modalFormData),{},{employeeCount:parseInt(modalFormData.employeeCount)||0,price:parseFloat(modalFormData.price)||0,// Handle null values for assigned IDs\nassignedExpertId:modalFormData.assignedExpertId||null,assignedDoctorId:modalFormData.assignedDoctorId||null,assignedDspId:modalFormData.assignedDspId||null});// Check if personnel assignments are required\nconst employeeCount=parseInt(modalFormData.employeeCount)||0;const riskLevel=modalFormData.riskLevel||'low';const isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){return;}// Update existing workplace\nconst updatedWorkplace=await updateWorkplace(modalFormData.id,workplaceData);// Show success message\nsetSuccess('İş yeri başarıyla güncellendi!');// Close modal first\nsetIsModalOpen(false);// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Clear notifications\nclearNotifications();}}catch(error){console.error('Error updating workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri g\\xFCncellenirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri güncellenirken hata oluştu');}clearNotifications();}};const handleDeleteWorkplace=()=>{// Show confirmation dialog before deleting\nsetShowDeleteConfirmation(true);};// Function to confirm deletion\nconst confirmDeleteWorkplace=async()=>{try{if(modalFormData.id){// Delete from backend\nawait deleteWorkplace(modalFormData.id);// Show success message\nsetSuccess('İş yeri başarıyla silindi!');// Close confirmation dialog and modal\nsetShowDeleteConfirmation(false);closeModal();// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Reset to first page if we're on an empty page\nconst newTotalPages=Math.ceil(workplaces.length/workplacesPerPage);if(currentPage>newTotalPages&&newTotalPages>0){setCurrentPage(newTotalPages);}else if(newTotalPages===0){setCurrentPage(1);}// Clear notifications\nclearNotifications();}else{setShowDeleteConfirmation(false);closeModal();}}catch(error){console.error('Error deleting workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri silinirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri silinirken hata oluştu');}clearNotifications();}};// Function to cancel deletion\nconst cancelDeleteWorkplace=()=>{setShowDeleteConfirmation(false);};const handleApprovalStatusChange=async(id,status)=>{try{// Update local state first for immediate UI feedback\nsetWorkplaces(prev=>prev.map(workplace=>workplace.id===id?_objectSpread(_objectSpread({},workplace),{},{approvalStatus:status}):workplace));// Update the backend\nawait updateWorkplace(id,_objectSpread(_objectSpread({},workplaces.find(w=>w.id===id)),{},{approvalStatus:status}));// Show success message\nsetSuccess('Onay durumu başarıyla güncellendi!');clearNotifications();}catch(error){console.error('Error updating approval status:',error);setError('Onay durumu güncellenirken hata oluştu');clearNotifications();// Revert the local state change if backend update fails\nawait fetchAllData();}};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('tr-TR');};// Function to format risk level in Turkish\nconst formatRiskLevel=riskLevel=>{switch(riskLevel){case'low':return'Az Tehlikeli';case'dangerous':return'Tehlikeli';case'veryDangerous':return'Çok Tehlikeli';default:return'Belirtilmemiş';}};const handleEditWorkplace=()=>{setWorkplaces(prev=>prev.map(workplace=>workplace.id===modalFormData.id?modalFormData:workplace));closeModal();};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setModalFormData({});// Allow background scrolling when modal is closed\ndocument.body.style.overflow='auto';};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),duplicateWarning.show&&/*#__PURE__*/_jsxs(\"div\",{className:\"duplicate-warning-popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Zaten Mevcut\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bu kay\\u0131t daha \\xF6nce girilmi\\u015F. Tekrar kay\\u0131t yapmak i\\xE7in ilgili sat\\u0131r\\u0131 d\\xFCzenleyebilirsiniz.\"})]}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"workplace-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-input\",value:formData.name,onChange:handleChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK Kay\\u0131t No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",className:\"form-input ssk-input\",value:formData.sskRegistrationNo,onChange:handleSSkRegistrationNoChange,placeholder:\"x xxxx xx xx xxxxx xxx xx xx xxx\",maxLength:26// 21 digits + 4 spaces\n,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",className:\"form-textarea smaller-textarea\",value:formData.address,onChange:handleChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",className:\"form-input small-input price-input\",value:formData.price,onChange:handlePriceChange,placeholder:\"0\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"price-suffix\",children:\"TL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kdv-checkbox-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kdvIncluded\",className:\"kdv-checkbox\",checked:isKdvIncluded,onChange:e=>setIsKdvIncluded(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"kdvIncluded\",className:\"kdv-label\",children:\"KDV dahil\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",className:\"form-input small-input\",value:formData.taxOffice,onChange:handleTaxOfficeChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",className:\"form-input small-input\",value:formData.taxNumber,onChange:handleTaxNumberChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",className:\"form-select small-select\",value:formData.riskLevel,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCount\",className:\"form-input small-input\",value:formData.employeeCount,onChange:handleEmployeeCountChange,min:\"0\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",className:\"form-input small-input\",value:formData.source,onChange:handleSourceChange})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",className:\"form-select small-select\",value:formData.assignedExpertId,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Uzman Se\\xE7in\"}),getFilteredExperts(formData.riskLevel,parseInt(formData.employeeCount)||0).map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\" - \",expert.assignedMinutes,\" dakika)\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",className:\"form-select small-select\",value:formData.assignedDoctorId,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Hekim Se\\xE7in\"}),getFilteredDoctors(formData.riskLevel,parseInt(formData.employeeCount)||0).map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName,\" (\",doctor.assignedMinutes,\" dakika)\"]},doctor.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group dsp-selection-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",className:\"form-select small-select\",value:formData.assignedDspId,onChange:handleChange,disabled:!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0)?'DSP Seçin':'DSP atanamaz'}),getFilteredDsps(formData.riskLevel,parseInt(formData.employeeCount)||0).map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName,\" (\",dsp.assignedMinutes,\" dakika)\"]},dsp.id))]}),!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0)&&/*#__PURE__*/_jsx(\"div\",{className:\"form-hint\",children:\"Bu i\\u015F yerine DSP atanamaz\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",className:\"form-input small-input\",value:formData.registrationDate,onChange:handleChange})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-col form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleClose,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Kaydet\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rows-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workplaces-list-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-row-no-box\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-label \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='name'?\"sort-\".concat(sortConfig.direction):''),onClick:()=>sortWorkplaces('name'),children:[\"\\u0130\\u015F Yeri Ad\\u0131\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-source \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='source'?\"sort-\".concat(sortConfig.direction):''),onClick:()=>sortWorkplaces('source'),children:[\"Kimden\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-date \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='registrationDate'?\"sort-\".concat(sortConfig.direction):''),onClick:()=>sortWorkplaces('registrationDate'),children:[\"Tarih\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-price \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='riskLevel'?\"sort-\".concat(sortConfig.direction):''),onClick:()=>sortWorkplaces('riskLevel'),children:[\"Tehlike S\\u0131n\\u0131f\\u0131\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-status \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='approvalStatus'?\"sort-\".concat(sortConfig.direction):''),onClick:()=>sortWorkplaces('approvalStatus'),children:[\"Onay Durumu\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"workplaces-list\",children:(()=>{const sortedWorkplaces=getSortedWorkplaces();const startIndex=(currentPage-1)*workplacesPerPage;const endIndex=startIndex+workplacesPerPage;const currentPageWorkplaces=sortedWorkplaces.slice(startIndex,endIndex);console.log('Rendering workplaces list with:',currentPageWorkplaces);return currentPageWorkplaces.map((workplace,index)=>{var _duplicateWarning$wor;return/*#__PURE__*/_jsxs(\"div\",{id:\"workplace-row-\".concat(workplace.id),className:\"row-item \".concat(((_duplicateWarning$wor=duplicateWarning.workplace)===null||_duplicateWarning$wor===void 0?void 0:_duplicateWarning$wor.id)===workplace.id?'duplicate-highlight':''),onClick:()=>handleRowClick(workplace),children:[/*#__PURE__*/_jsx(\"span\",{className:\"row-label\",children:workplace.name||'İş Yeri Adı'}),/*#__PURE__*/_jsx(\"span\",{className:\"row-source\",children:workplace.source||'Belirtilmemiş'}),/*#__PURE__*/_jsx(\"span\",{className:\"row-date\",children:formatDate(workplace.registrationDate)}),/*#__PURE__*/_jsx(\"span\",{className:\"row-price\",children:formatRiskLevel(workplace.riskLevel)}),/*#__PURE__*/_jsxs(\"select\",{className:\"inline-approval-status approval-status-\".concat(workplace.approvalStatus||'atama'),value:workplace.approvalStatus||'atama',onClick:e=>e.stopPropagation(),onChange:async e=>await handleApprovalStatusChange(workplace.id,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]},(currentPage-1)*10+index);});})()}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[currentPage>1&&/*#__PURE__*/_jsx(\"button\",{className:\"page-number\",onClick:()=>handlePageChange(currentPage-1),children:\"\\xD6nceki Sayfa\"}),[...Array(totalPages)].map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"page-number \".concat(currentPage===index+1?'active':''),onClick:()=>handlePageChange(index+1),children:index+1},index)),currentPage<totalPages&&/*#__PURE__*/_jsx(\"button\",{className:\"page-number\",onClick:()=>handlePageChange(currentPage+1),children:\"Sonraki Sayfa\"})]})]})]}),isModalOpen&&/*#__PURE__*/createPortal(/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0130\\u015F Yeri Detaylar\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleModalSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-input\",value:modalFormData.name||'',onChange:handleModalChange,required:true})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",className:\"form-textarea\",value:modalFormData.address||'',onChange:handleModalChange,required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK Kay\\u0131t No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",className:\"form-input\",value:modalFormData.sskRegistrationNo||'',onChange:handleModalChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",className:\"form-input price-input\",value:modalFormData.price||'',onChange:e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*\\.?\\d*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:value}));}},placeholder:\"0\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"price-suffix\",children:\"TL\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",className:\"form-input\",value:modalFormData.taxOffice||'',onChange:e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxOffice:value}));}},required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",className:\"form-input\",value:modalFormData.taxNumber||'',onChange:e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{taxNumber:value}));}},required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",className:\"form-select\",value:modalFormData.riskLevel||'low',onChange:handleModalChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"employeeCount\",className:\"form-input\",value:modalFormData.employeeCount||0,onChange:e=>{const value=e.target.value;// Allow only numeric values\nif(value===''||/^\\d*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{employeeCount:value}));}},min:\"0\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",className:\"form-select\",value:modalFormData.assignedExpertId||'',onChange:handleModalChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Uzman Se\\xE7in\"}),getFilteredExperts(modalFormData.riskLevel||'low',parseInt(modalFormData.employeeCount)||0).map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\" - \",expert.assignedMinutes,\" dakika)\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",className:\"form-select\",value:modalFormData.assignedDoctorId||'',onChange:handleModalChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Hekim Se\\xE7in\"}),getFilteredDoctors(modalFormData.riskLevel||'low',parseInt(modalFormData.employeeCount)||0).map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName,\" (\",doctor.assignedMinutes,\" dakika)\"]},doctor.id))]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",className:\"form-select\",value:modalFormData.assignedDspId||'',onChange:handleModalChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"DSP Se\\xE7in\"}),getFilteredDsps(modalFormData.riskLevel||'low',parseInt(modalFormData.employeeCount)||0).map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName,\" (\",dsp.assignedMinutes,\" dakika)\"]},dsp.id))]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",className:\"form-input\",value:modalFormData.registrationDate||'',onChange:handleModalChange})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Onay Durumu:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"approvalStatus\",className:\"form-select\",value:modalFormData.approvalStatus||'atama',onChange:handleModalChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",className:\"form-input\",value:modalFormData.source||'',onChange:e=>{const value=e.target.value;// Allow only letters and spaces, no numbers\nif(value===''||/^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{source:value}));}}})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:closeModal,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDeleteWorkplace,children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleEditWorkplace,children:\"D\\xFCzenle\"})]})]})})]})}),document.body)]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","createPortal","useLocation","createWorkplace","updateWorkplace","getAvailableExperts","getAvailableDoctors","getAvailableDsps","getAllWorkplaces","deleteWorkplace","getAllExperts","getAllDoctors","getAllDsps","jsx","_jsx","jsxs","_jsxs","Dashboard","console","log","Date","toISOString","location","formData","setFormData","name","sskRegistrationNo","address","price","taxOffice","taxNumber","riskLevel","employeeCount","source","assignedExpertId","assignedDoctorId","assignedDspId","registrationDate","isKdvIncluded","setIsKdvIncluded","workplaces","setWorkplaces","currentPage","setCurrentPage","isModalOpen","setIsModalOpen","modalFormData","setModalFormData","showNoExpertPopup","setShowNoExpertPopup","showNoDoctorPopup","setShowNoDoctorPopup","showNoDspPopup","setShowNoDspPopup","showDspNotAllowedPopup","setShowDspNotAllowedPopup","showDeleteConfirmation","setShowDeleteConfirmation","allExperts","setAllExperts","allDoctors","setAllDoctors","allDsps","setAllDsps","success","setSuccess","error","setError","duplicateWarning","setDuplicateWarning","show","workplace","workplacesPerPage","totalPages","Math","ceil","length","sortConfig","setSortConfig","sortWorkplaces","key","direction","getSortedWorkplaces","sort","a","b","aValue","bValue","getTime","riskOrder","approvalOrder","fetchAllData","workplacesData","expertsData","doctorsData","dspsData","Promise","all","workplacesCount","expertsCount","doctorsCount","dspsCount","pathname","handleFocus","window","addEventListener","removeEventListener","clearNotifications","setTimeout","handleChange","e","value","target","parseInt","isAllowed","isDspAssignmentAllowed","prev","_objectSpread","handlePriceChange","test","handleTaxOfficeChange","handleTaxNumberChange","handleEmployeeCountChange","handleSourceChange","formatPrice","num","parseFloat","isNaN","toLocaleString","maximumFractionDigits","handleSSkRegistrationNoChange","replace","substring","formattedValue","i","handleClose","calculateRequiredMinutes","calculateRequiredDoctorMinutes","calculateRequiredDspMinutes","getFilteredExperts","requiredMinutes","filter","expert","assignedMinutes","expertiseClass","getFilteredDoctors","doctor","getFilteredDsps","isDspRequired","dsp","checkExpertAssignment","workplaceData","tempWorkplaceId","tempWorkplace","approvalStatus","id","availableExperts","selectedExpert","find","deleteError","checkDoctorAssignment","availableDoctors","selectedDoctor","checkDspAssignment","availableDsps","selectedDsp","handleSubmit","preventDefault","submitTimestamp","now","formattedSskNo","existingWorkplace","element","document","getElementById","concat","scrollIntoView","behavior","block","isExpertValid","isDoctorValid","isDspValid","newWorkplace","dispatchEvent","CustomEvent","detail","message","handlePageChange","pageNumber","getCurrentPageWorkplaces","startIndex","endIndex","result","slice","handleRowClick","body","style","overflow","handleModalChange","finalFormattedValue","handleModalSubmit","updatedWorkplace","handleDeleteWorkplace","confirmDeleteWorkplace","closeModal","newTotalPages","cancelDeleteWorkplace","handleApprovalStatusChange","status","map","w","formatDate","dateString","date","toLocaleDateString","formatRiskLevel","handleEditWorkplace","className","children","onClick","stopPropagation","onSubmit","type","onChange","required","placeholder","maxLength","checked","htmlFor","min","firstName","lastName","disabled","sortedWorkplaces","currentPageWorkplaces","index","_duplicateWarning$wor","Array","_"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Dashboard.css';\r\nimport { createWorkplace, updateWorkplace, getAvailableExperts, getAvailableDoctors, getAvailableDsps, getAllWorkplaces, deleteWorkplace, getAllExperts, getAllDoctors, getAllDsps } from '../services/api';\r\n\r\n// Define types\r\ninterface Workplace {\r\n  id: number;\r\n  name: string;\r\n  sskRegistrationNo: string;\r\n  address: string;\r\n  price: string;\r\n  taxOffice: string;\r\n  taxNumber: string;\r\n  riskLevel: string;\r\n  employeeCount: string;\r\n  source: string;\r\n  assignedExpertId: string;\r\n  assignedDoctorId: string;\r\n  assignedDspId: string;\r\n  registrationDate: string;\r\n  approvalStatus: string;\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  console.log('Dashboard component rendered at:', new Date().toISOString());\r\n  const location = useLocation();\r\n  \r\n  // State declarations\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    sskRegistrationNo: '',\r\n    address: '',\r\n    price: '',\r\n    taxOffice: '',\r\n    taxNumber: '',\r\n    riskLevel: 'low',\r\n    employeeCount: '',\r\n    source: '',\r\n    assignedExpertId: '',\r\n    assignedDoctorId: '',\r\n    assignedDspId: '',\r\n    registrationDate: '',\r\n  });\r\n  \r\n  const [isKdvIncluded, setIsKdvIncluded] = useState<boolean>(false);\r\n  const [workplaces, setWorkplaces] = useState<Workplace[]>([]);\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\r\n  const [modalFormData, setModalFormData] = useState<Partial<Workplace>>({});\r\n  const [showNoExpertPopup, setShowNoExpertPopup] = useState<boolean>(false);\r\n  const [showNoDoctorPopup, setShowNoDoctorPopup] = useState<boolean>(false);\r\n  const [showNoDspPopup, setShowNoDspPopup] = useState<boolean>(false);\r\n  const [showDspNotAllowedPopup, setShowDspNotAllowedPopup] = useState<boolean>(false);\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState<boolean>(false);\r\n  const [allExperts, setAllExperts] = useState<any[]>([]);\r\n  const [allDoctors, setAllDoctors] = useState<any[]>([]);\r\n  const [allDsps, setAllDsps] = useState<any[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [duplicateWarning, setDuplicateWarning] = useState<{show: boolean, workplace: Workplace | null}>({show: false, workplace: null}); // New state for duplicate warning\r\n\r\n  // Constants\r\n  const workplacesPerPage = 10;\r\n  \r\n  // Derived state\r\n  const totalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n  \r\n  // Add state for sorting\r\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' } | null>(null);\r\n  \r\n  // Function to sort workplaces\r\n  const sortWorkplaces = (key: string) => {\r\n    let direction: 'asc' | 'desc' = 'asc';\r\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    \r\n    setSortConfig({ key, direction });\r\n  };\r\n  \r\n  // Apply sorting to workplaces\r\n  const getSortedWorkplaces = () => {\r\n    if (!sortConfig) return workplaces;\r\n    \r\n    return [...workplaces].sort((a, b) => {\r\n      // Type guard to ensure key is a valid keyof Workplace\r\n      const key = sortConfig.key as keyof Workplace;\r\n      \r\n      // Handle different data types for sorting\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (key) {\r\n        case 'name':\r\n        case 'source':\r\n          aValue = a[key] || '';\r\n          bValue = b[key] || '';\r\n          break;\r\n        case 'registrationDate':\r\n          aValue = new Date(a[key] || '').getTime();\r\n          bValue = new Date(b[key] || '').getTime();\r\n          break;\r\n        case 'riskLevel':\r\n          // Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\r\n          const riskOrder: Record<string, number> = {\r\n            'low': 1,\r\n            'dangerous': 2,\r\n            'veryDangerous': 3\r\n          };\r\n          aValue = riskOrder[a[key]] || 0;\r\n          bValue = riskOrder[b[key]] || 0;\r\n          break;\r\n        case 'approvalStatus':\r\n          // Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\r\n          const approvalOrder: Record<string, number> = {\r\n            'atama': 1,\r\n            'bekliyor': 2,\r\n            'onaylandi': 3\r\n          };\r\n          aValue = approvalOrder[a[key]] || 0;\r\n          bValue = approvalOrder[b[key]] || 0;\r\n          break;\r\n        default:\r\n          aValue = a[key];\r\n          bValue = b[key];\r\n      }\r\n      \r\n      if (aValue < bValue) {\r\n        return sortConfig.direction === 'asc' ? -1 : 1;\r\n      }\r\n      if (aValue > bValue) {\r\n        return sortConfig.direction === 'asc' ? 1 : -1;\r\n      }\r\n      return 0;\r\n    });\r\n  };\r\n  \r\n  // Add a useEffect to log when component mounts and unmounts\r\n  useEffect(() => {\r\n    console.log('Dashboard component mounted at:', new Date().toISOString());\r\n    \r\n    // Cleanup function\r\n    return () => {\r\n      console.log('Dashboard component unmounted at:', new Date().toISOString());\r\n    };\r\n  }, []);\r\n  \r\n  // Function to fetch all data - similar to ExpertCardPage approach\r\n  const fetchAllData = useCallback(async () => {\r\n    try {\r\n      console.log('Fetching all data from backend...');\r\n      \r\n      // Fetch all data in parallel\r\n      const [workplacesData, expertsData, doctorsData, dspsData] = await Promise.all([\r\n        getAllWorkplaces(),\r\n        getAllExperts(),\r\n        getAllDoctors(),\r\n        getAllDsps()\r\n      ]);\r\n      \r\n      console.log('Received all data:', { \r\n        workplacesCount: workplacesData.length, \r\n        expertsCount: expertsData.length, \r\n        doctorsCount: doctorsData.length, \r\n        dspsCount: dspsData.length \r\n      });\r\n      \r\n      // Update all state\r\n      setWorkplaces(workplacesData);\r\n      setAllExperts(expertsData);\r\n      setAllDoctors(doctorsData);\r\n      setAllDsps(dspsData);\r\n      console.log('State updated after data fetch');\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setError('Veri alınırken hata oluştu');\r\n    }\r\n  }, []);\r\n\r\n  // Load all data from backend on component mount - similar to ExpertCardPage approach\r\n  useEffect(() => {\r\n    console.log('Dashboard useEffect running - fetching all data at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  // Refresh data when location changes\r\n  useEffect(() => {\r\n    console.log('Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, [location.pathname]);\r\n\r\n  // Refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('Window focused, refreshing all data...');\r\n      fetchAllData();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, [fetchAllData]);\r\n\r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Handlers\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Check if user is trying to assign a DSP when it's not allowed\r\n    if (name === 'assignedDspId' && value) {\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isAllowed = isDspAssignmentAllowed(formData.riskLevel, employeeCount);\r\n      \r\n      if (!isAllowed) {\r\n        // Show warning popup\r\n        setShowDspNotAllowedPopup(true);\r\n        return; // Don't update the form data\r\n      }\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        price: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleTaxOfficeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only letters and spaces, no numbers\r\n    if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        taxOffice: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleTaxNumberChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        taxNumber: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleEmployeeCountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values\r\n    if (value === '' || /^\\d*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        employeeCount: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleSourceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only letters and spaces, no numbers\r\n    if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        source: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Format price with thousands separator\r\n  const formatPrice = (price: string | number): string => {\r\n    if (!price) return '0';\r\n    const num = typeof price === 'string' ? parseFloat(price) : price;\r\n    if (isNaN(num)) return '0';\r\n    return num.toLocaleString('tr-TR', { maximumFractionDigits: 2 });\r\n  };\r\n  \r\n  const handleSSkRegistrationNoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    let value = e.target.value.replace(/\\D/g, ''); // Remove non-digit characters\r\n    \r\n    // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n    if (value.length > 21) value = value.substring(0, 21);\r\n    \r\n    let formattedValue = '';\r\n    for (let i = 0; i < value.length; i++) {\r\n      if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n        formattedValue += ' ' + value[i];\r\n      } else {\r\n        formattedValue += value[i];\r\n      }\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      sskRegistrationNo: formattedValue\r\n    }));\r\n  };\r\n  \r\n  const handleClose = () => {\r\n    setFormData({\r\n      name: '',\r\n      sskRegistrationNo: '',\r\n      address: '',\r\n      price: '',\r\n      taxOffice: '',\r\n      taxNumber: '',\r\n      riskLevel: 'low',\r\n      employeeCount: '',\r\n      source: '',\r\n      assignedExpertId: '',\r\n      assignedDoctorId: '',\r\n      assignedDspId: '',\r\n      registrationDate: '',\r\n    });\r\n    setIsKdvIncluded(false);\r\n  };\r\n  \r\n  // Function to calculate required minutes based on risk level and employee count\r\n  const calculateRequiredMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 10;\r\n      case 'dangerous':\r\n        return employeeCount * 20;\r\n      case 'veryDangerous':\r\n        return employeeCount * 40;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for doctors based on risk level and employee count\r\n  const calculateRequiredDoctorMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 5;\r\n      case 'dangerous':\r\n        return employeeCount * 10;\r\n      case 'veryDangerous':\r\n        return employeeCount * 15;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for DSPs based on risk level and employee count\r\n  const calculateRequiredDspMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    // DSP is only required for very dangerous workplaces with 10+ employees\r\n    if (riskLevel !== 'veryDangerous' || employeeCount < 10) {\r\n      return 0;\r\n    }\r\n    return employeeCount * 5; // 5 minutes per employee for DSP\r\n  };\r\n  \r\n  // Function to filter experts based on risk level and required minutes\r\n  const getFilteredExperts = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredMinutes(riskLevel, employeeCount);\r\n    \r\n    return allExperts.filter(expert => {\r\n      // Check if expert has enough minutes\r\n      if (expert.assignedMinutes < requiredMinutes) {\r\n        return false;\r\n      }\r\n      \r\n      // Filter based on expertise class and risk level\r\n      // A class experts can handle all risk levels\r\n      // B class experts can handle low and dangerous risk levels\r\n      // C class experts can only handle low risk level\r\n      switch (expert.expertiseClass) {\r\n        case 'A':\r\n          return true; // A class can handle all risk levels\r\n        case 'B':\r\n          return riskLevel === 'low' || riskLevel === 'dangerous'; // B class can handle low and dangerous\r\n        case 'C':\r\n          return riskLevel === 'low'; // C class can only handle low risk\r\n        default:\r\n          return false;\r\n      }\r\n    });\r\n  };\r\n  \r\n  // Function to filter doctors based on required minutes\r\n  const getFilteredDoctors = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredDoctorMinutes(riskLevel, employeeCount);\r\n    \r\n    return allDoctors.filter(doctor => {\r\n      // Check if doctor has enough minutes\r\n      return doctor.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to filter DSPs based on required minutes\r\n  const getFilteredDsps = (riskLevel: string, employeeCount: number) => {\r\n    // Check if DSP assignment is allowed for this workplace\r\n    const isAllowed = isDspAssignmentAllowed(riskLevel, employeeCount);\r\n    \r\n    // If DSP assignment is not allowed, return empty array\r\n    if (!isAllowed) {\r\n      return [];\r\n    }\r\n    \r\n    // DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\r\n    const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n    \r\n    // If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\r\n    if (!isDspRequired) {\r\n      return allDsps.filter(dsp => dsp.assignedMinutes > 0); // Return all DSPs with at least 1 minute\r\n    }\r\n    \r\n    // If DSP is required, filter based on required minutes (5 minutes per employee)\r\n    const requiredMinutes = employeeCount * 5;\r\n    \r\n    return allDsps.filter(dsp => {\r\n      // Check if DSP has enough minutes\r\n      return dsp.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to check if expert assignment is valid\r\n  const checkExpertAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available experts for this workplace\r\n      const availableExperts = await getAvailableExperts(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no experts available, show popup\r\n      if (availableExperts.length === 0) {\r\n        setShowNoExpertPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If an expert is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedExpertId) {\r\n        const selectedExpert = availableExperts.find((expert: any) => expert.id === parseInt(workplaceData.assignedExpertId));\r\n        if (!selectedExpert) {\r\n          setShowNoExpertPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking expert assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if doctor assignment is valid\r\n  const checkDoctorAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available doctors for this workplace\r\n      const availableDoctors = await getAvailableDoctors(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no doctors available, show popup\r\n      if (availableDoctors.length === 0) {\r\n        setShowNoDoctorPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a doctor is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDoctorId) {\r\n        const selectedDoctor = availableDoctors.find((doctor: any) => doctor.id === parseInt(workplaceData.assignedDoctorId));\r\n        if (!selectedDoctor) {\r\n          setShowNoDoctorPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking doctor assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is valid\r\n  const checkDspAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseFloat(workplaceData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Check if DSP is actually required for this workplace\r\n      const employeeCount = parseInt(workplaceData.employeeCount) || 0;\r\n      const isDspRequired = workplaceData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // If DSP is not required, don't check availability\r\n      if (!isDspRequired) {\r\n        // Delete the temporary workplace\r\n        await deleteWorkplace(tempWorkplace.id);\r\n        return true; // DSP assignment is not required, so it's valid\r\n      }\r\n      \r\n      // Get available DSPs for this workplace\r\n      const availableDsps = await getAvailableDsps(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no DSPs available when required, show popup\r\n      if (availableDsps.length === 0) {\r\n        setShowNoDspPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a DSP is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDspId) {\r\n        const selectedDsp = availableDsps.find((dsp: any) => dsp.id === parseInt(workplaceData.assignedDspId));\r\n        if (!selectedDsp) {\r\n          setShowNoDspPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking DSP assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is allowed based on risk level and employee count\r\n  const isDspAssignmentAllowed = (riskLevel: string, employeeCount: number): boolean => {\r\n    // DSP can only be assigned to:\r\n    // 1. Very dangerous workplaces with 10+ employees (required)\r\n    // 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\r\n    \r\n    // DSP assignment is NOT allowed for:\r\n    // 1. Low risk (az tehlikeli) workplaces\r\n    // 2. Dangerous (tehlikeli) workplaces\r\n    // 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\r\n    \r\n    if (riskLevel === 'low' || riskLevel === 'dangerous') {\r\n      return false; // DSP assignment not allowed for low or dangerous risk levels\r\n    }\r\n    \r\n    if (riskLevel === 'veryDangerous' && employeeCount < 10) {\r\n      return false; // DSP assignment not allowed for very dangerous workplaces with less than 10 employees\r\n    }\r\n    \r\n    return true; // DSP assignment allowed (and required for very dangerous with 10+ employees)\r\n  };\r\n  \r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const submitTimestamp = Date.now();\r\n    console.log('handleSubmit called at:', new Date().toISOString(), '(submit #', submitTimestamp, ') with formData:', formData);\r\n    \r\n    try {\r\n      // Check for duplicate SGK registration number\r\n      const formattedSskNo = formData.sskRegistrationNo.replace(/\\s/g, ''); // Remove spaces for comparison\r\n      const existingWorkplace = workplaces.find(workplace => \r\n        workplace.sskRegistrationNo && \r\n        workplace.sskRegistrationNo.replace(/\\s/g, '') === formattedSskNo\r\n      );\r\n      \r\n      if (existingWorkplace) {\r\n        // Show duplicate warning popup\r\n        setDuplicateWarning({show: true, workplace: existingWorkplace});\r\n        \r\n        // Clear the warning after 5 seconds\r\n        setTimeout(() => {\r\n          setDuplicateWarning({show: false, workplace: null});\r\n        }, 5000);\r\n        \r\n        // Scroll to the existing workplace row\r\n        setTimeout(() => {\r\n          const element = document.getElementById(`workplace-row-${existingWorkplace.id}`);\r\n          if (element) {\r\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n          }\r\n        }, 100);\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Ensure all required fields are included and handle null values for assigned IDs\r\n      const workplaceData = {\r\n        ...formData,\r\n        employeeCount: parseInt(formData.employeeCount) || 0,\r\n        price: parseFloat(formData.price) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: formData.assignedExpertId || null,\r\n        assignedDoctorId: formData.assignedDoctorId || null,\r\n        assignedDspId: formData.assignedDspId || null\r\n      };\r\n      \r\n      console.log('Sending workplace data to backend (submit #', submitTimestamp, '):', workplaceData);\r\n      \r\n      // Check if personnel assignments are required\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isDspRequired = formData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // Only validate expert and doctor assignments (these are always required)\r\n      const isExpertValid = await checkExpertAssignment(workplaceData);\r\n      const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n      \r\n      // Only validate DSP assignment if it's required\r\n      const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n      \r\n      // If any required assignment is invalid, don't proceed with saving\r\n      if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n        console.log('Personnel assignment validation failed, not saving (submit #', submitTimestamp, ')');\r\n        return;\r\n      }\r\n      \r\n      // Save to backend\r\n      const newWorkplace = await createWorkplace(workplaceData);\r\n      console.log('Created new workplace response (submit #', submitTimestamp, '):', newWorkplace);\r\n      \r\n      // Show success message\r\n      setSuccess('İş yeri başarıyla kaydedildi!');\r\n      \r\n      // Close the form first\r\n      handleClose();\r\n      console.log('Form closed (submit #', submitTimestamp, ')');\r\n      \r\n      // Refresh all data from backend to ensure consistency\r\n      await fetchAllData();\r\n      \r\n      // Dispatch custom event to notify other components about data change\r\n      window.dispatchEvent(new CustomEvent('workplaceCreated', { detail: { workplace: newWorkplace } }));\r\n      \r\n      // Reset to first page since we have new data\r\n      setCurrentPage(1);\r\n      console.log('Page reset to 1 (submit #', submitTimestamp, ')');\r\n      \r\n      // Clear notifications\r\n      clearNotifications();\r\n    } catch (error: any) {\r\n      console.error('Error saving workplace (submit #', submitTimestamp, '):', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri kaydedilirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri kaydedilirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n  \r\n  const handlePageChange = (pageNumber: number) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n  \r\n  const getCurrentPageWorkplaces = (): Workplace[] => {\r\n    const startIndex = (currentPage - 1) * workplacesPerPage;\r\n    const endIndex = startIndex + workplacesPerPage;\r\n    const result = workplaces.slice(startIndex, endIndex);\r\n    console.log('getCurrentPageWorkplaces called, returning:', result);\r\n    return result;\r\n  };\r\n  \r\n  const handleRowClick = (workplace: Workplace) => {\r\n    setModalFormData(workplace);\r\n    setIsModalOpen(true);\r\n    // Prevent background scrolling when modal is open\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n  \r\n  const handleModalChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Apply the same formatting logic for SGK registration number in the modal\r\n    if (name === 'sskRegistrationNo') {\r\n      let formattedValue = value.replace(/\\D/g, ''); // Remove non-digit characters\r\n      \r\n      // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n      if (formattedValue.length > 21) formattedValue = formattedValue.substring(0, 21);\r\n      \r\n      let finalFormattedValue = '';\r\n      for (let i = 0; i < formattedValue.length; i++) {\r\n        if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n          finalFormattedValue += ' ' + formattedValue[i];\r\n        } else {\r\n          finalFormattedValue += formattedValue[i];\r\n        }\r\n      }\r\n      \r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: finalFormattedValue\r\n      }));\r\n    } else {\r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleModalSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (modalFormData.id) {\r\n        // Ensure all required fields are included and handle null values for assigned IDs\r\n        const workplaceData = {\r\n          ...modalFormData,\r\n          employeeCount: parseInt(modalFormData.employeeCount as string) || 0,\r\n          price: parseFloat(modalFormData.price as string) || 0,\r\n          // Handle null values for assigned IDs\r\n          assignedExpertId: modalFormData.assignedExpertId || null,\r\n          assignedDoctorId: modalFormData.assignedDoctorId || null,\r\n          assignedDspId: modalFormData.assignedDspId || null\r\n        };\r\n        \r\n        // Check if personnel assignments are required\r\n        const employeeCount = parseInt(modalFormData.employeeCount as string) || 0;\r\n        const riskLevel = (modalFormData.riskLevel as string) || 'low';\r\n        const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n        \r\n        // Only validate expert and doctor assignments (these are always required)\r\n        const isExpertValid = await checkExpertAssignment(workplaceData);\r\n        const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n        \r\n        // Only validate DSP assignment if it's required\r\n        const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n        \r\n        // If any required assignment is invalid, don't proceed with saving\r\n        if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n          return;\r\n        }\r\n        \r\n        // Update existing workplace\r\n        const updatedWorkplace = await updateWorkplace(modalFormData.id, workplaceData);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla güncellendi!');\r\n        \r\n        // Close modal first\r\n        setIsModalOpen(false);\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error updating workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri güncellenirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri güncellenirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkplace = () => {\r\n    // Show confirmation dialog before deleting\r\n    setShowDeleteConfirmation(true);\r\n  };\r\n\r\n  // Function to confirm deletion\r\n  const confirmDeleteWorkplace = async () => {\r\n    try {\r\n      if (modalFormData.id) {\r\n        // Delete from backend\r\n        await deleteWorkplace(modalFormData.id);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla silindi!');\r\n        \r\n        // Close confirmation dialog and modal\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Reset to first page if we're on an empty page\r\n        const newTotalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n        if (currentPage > newTotalPages && newTotalPages > 0) {\r\n          setCurrentPage(newTotalPages);\r\n        } else if (newTotalPages === 0) {\r\n          setCurrentPage(1);\r\n        }\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      } else {\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error deleting workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri silinirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri silinirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Function to cancel deletion\r\n  const cancelDeleteWorkplace = () => {\r\n    setShowDeleteConfirmation(false);\r\n  };\r\n\r\n  const handleApprovalStatusChange = async (id: number, status: string) => {\r\n    try {\r\n      // Update local state first for immediate UI feedback\r\n      setWorkplaces(prev => \r\n        prev.map(workplace => \r\n          workplace.id === id ? { ...workplace, approvalStatus: status } : workplace\r\n        )\r\n      );\r\n      \r\n      // Update the backend\r\n      await updateWorkplace(id, { ...workplaces.find(w => w.id === id), approvalStatus: status });\r\n      \r\n      // Show success message\r\n      setSuccess('Onay durumu başarıyla güncellendi!');\r\n      clearNotifications();\r\n    } catch (error) {\r\n      console.error('Error updating approval status:', error);\r\n      setError('Onay durumu güncellenirken hata oluştu');\r\n      clearNotifications();\r\n      \r\n      // Revert the local state change if backend update fails\r\n      await fetchAllData();\r\n    }\r\n  };\r\n  \r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('tr-TR');\r\n  };\r\n  \r\n  // Function to format risk level in Turkish\r\n  const formatRiskLevel = (riskLevel: string): string => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return 'Az Tehlikeli';\r\n      case 'dangerous':\r\n        return 'Tehlikeli';\r\n      case 'veryDangerous':\r\n        return 'Çok Tehlikeli';\r\n      default:\r\n        return 'Belirtilmemiş';\r\n    }\r\n  };\r\n  \r\n  const handleEditWorkplace = () => {\r\n    setWorkplaces(prev => \r\n      prev.map(workplace => \r\n        workplace.id === modalFormData.id ? modalFormData as Workplace : workplace\r\n      )\r\n    );\r\n    closeModal();\r\n  };\r\n  \r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setModalFormData({});\r\n    // Allow background scrolling when modal is closed\r\n    document.body.style.overflow = 'auto';\r\n  };\r\n  \r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Expert Popup */}\r\n      {showNoExpertPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Uzman Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Doctor Popup */}\r\n      {showNoDoctorPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Hekim Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No DSP Popup */}\r\n      {showNoDspPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun DSP Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* DSP Not Allowed Popup */}\r\n      {showDspNotAllowedPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>DSP Atanamaz</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Seçilen iş yerine DSP atanamaz.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Delete Confirmation Popup */}\r\n      {showDeleteConfirmation && (\r\n        <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Kayıt Silme Onayı</h3>\r\n              <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n              <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Existing form */}\r\n        <div className=\"form-container\">\r\n          {/* Popup notifications */}\r\n          {success && (\r\n            <div className=\"popup-notification alert alert-info\">\r\n              {success}\r\n            </div>\r\n          )}\r\n          {error && (\r\n            <div className=\"popup-notification alert alert-warning\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Duplicate warning popup */}\r\n          {duplicateWarning.show && (\r\n            <div className=\"duplicate-warning-popup\">\r\n              <h3>Kayıt Zaten Mevcut</h3>\r\n              <p>Bu kayıt daha önce girilmiş. Tekrar kayıt yapmak için ilgili satırı düzenleyebilirsiniz.</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Expert Popup */}\r\n          {showNoExpertPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Uzman Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Doctor Popup */}\r\n          {showNoDoctorPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Hekim Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No DSP Popup */}\r\n          {showNoDspPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun DSP Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* DSP Not Allowed Popup */}\r\n          {showDspNotAllowedPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>DSP Atanamaz</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Seçilen iş yerine DSP atanamaz.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Delete Confirmation Popup */}\r\n          {showDeleteConfirmation && (\r\n            <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Kayıt Silme Onayı</h3>\r\n                  <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n                  <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"workplace-form\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">İş Yeri Adı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    className=\"form-input\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">SGK Kayıt No:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"sskRegistrationNo\"\r\n                    className=\"form-input ssk-input\"\r\n                    value={formData.sskRegistrationNo}\r\n                    onChange={handleSSkRegistrationNoChange}\r\n                    placeholder=\"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n                    maxLength={26} // 21 digits + 4 spaces\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Adres:</label>\r\n                  <textarea\r\n                    name=\"address\"\r\n                    className=\"form-textarea smaller-textarea\"\r\n                    value={formData.address}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Fiyat:</label>\r\n                  <div className=\"price-input-container\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"price\"\r\n                      className=\"form-input small-input price-input\"\r\n                      value={formData.price}\r\n                      onChange={handlePriceChange}\r\n                      placeholder=\"0\"\r\n                      required\r\n                    />\r\n                    <span className=\"price-suffix\">TL</span>\r\n                  </div>\r\n                  <div className=\"kdv-checkbox-container\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"kdvIncluded\"\r\n                      className=\"kdv-checkbox\"\r\n                      checked={isKdvIncluded}\r\n                      onChange={(e) => setIsKdvIncluded(e.target.checked)}\r\n                    />\r\n                    <label htmlFor=\"kdvIncluded\" className=\"kdv-label\">KDV dahil</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi Dairesi:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxOffice\"\r\n                    className=\"form-input small-input\"\r\n                    value={formData.taxOffice}\r\n                    onChange={handleTaxOfficeChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi No:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxNumber\"\r\n                    className=\"form-input small-input\"\r\n                    value={formData.taxNumber}\r\n                    onChange={handleTaxNumberChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                  <select\r\n                    name=\"riskLevel\"\r\n                    className=\"form-select small-select\"\r\n                    value={formData.riskLevel}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"low\">Az Tehlikeli</option>\r\n                    <option value=\"dangerous\">Tehlikeli</option>\r\n                    <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"employeeCount\"\r\n                    className=\"form-input small-input\"\r\n                    value={formData.employeeCount}\r\n                    onChange={handleEmployeeCountChange}\r\n                    min=\"0\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kaynak:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"source\"\r\n                    className=\"form-input small-input\"\r\n                    value={formData.source}\r\n                    onChange={handleSourceChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Uzman:</label>\r\n                  <select\r\n                    name=\"assignedExpertId\"\r\n                    className=\"form-select small-select\"\r\n                    value={formData.assignedExpertId}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"\">Uzman Seçin</option>\r\n                    {getFilteredExperts(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(expert => (\r\n                      <option key={expert.id} value={expert.id}>\r\n                        {expert.firstName} {expert.lastName} ({expert.expertiseClass} - {expert.assignedMinutes} dakika)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Hekim:</label>\r\n                  <select\r\n                    name=\"assignedDoctorId\"\r\n                    className=\"form-select small-select\"\r\n                    value={formData.assignedDoctorId}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"\">Hekim Seçin</option>\r\n                    {getFilteredDoctors(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(doctor => (\r\n                      <option key={doctor.id} value={doctor.id}>\r\n                        {doctor.firstName} {doctor.lastName} ({doctor.assignedMinutes} dakika)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group dsp-selection-container\">\r\n                  <label className=\"form-label\">Atanan DSP:</label>\r\n                  <select\r\n                    name=\"assignedDspId\"\r\n                    className=\"form-select small-select\"\r\n                    value={formData.assignedDspId}\r\n                    onChange={handleChange}\r\n                    disabled={!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0)}\r\n                  >\r\n                    <option value=\"\">\r\n                      {isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0) \r\n                        ? 'DSP Seçin' \r\n                        : 'DSP atanamaz'}\r\n                    </option>\r\n                    {getFilteredDsps(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(dsp => (\r\n                      <option key={dsp.id} value={dsp.id}>\r\n                        {dsp.firstName} {dsp.lastName} ({dsp.assignedMinutes} dakika)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  {!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0) && (\r\n                    <div className=\"form-hint\">\r\n                      Bu iş yerine DSP atanamaz\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"registrationDate\"\r\n                    className=\"form-input small-input\"\r\n                    value={formData.registrationDate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col form-actions\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleClose}>\r\n                  İptal\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                  Kaydet\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        \r\n        {/* Rows with pagination - Approval status selection outside of compact row */}\r\n        <div className=\"rows-container\">\r\n          {/* Display header row without container box */}\r\n          <div className=\"workplaces-list-header\">\r\n            <div className=\"header-row-no-box\">\r\n              <button \r\n                className={`row-header-label ${sortConfig?.key === 'name' ? `sort-${sortConfig.direction}` : ''}`}\r\n                onClick={() => sortWorkplaces('name')}\r\n              >\r\n                İş Yeri Adı\r\n                <span className=\"sort-arrows\">\r\n                  <span className=\"sort-arrow sort-arrow-up\"></span>\r\n                  <span className=\"sort-arrow sort-arrow-down\"></span>\r\n                </span>\r\n              </button>\r\n              <button \r\n                className={`row-header-source ${sortConfig?.key === 'source' ? `sort-${sortConfig.direction}` : ''}`}\r\n                onClick={() => sortWorkplaces('source')}\r\n              >\r\n                Kimden\r\n                <span className=\"sort-arrows\">\r\n                  <span className=\"sort-arrow sort-arrow-up\"></span>\r\n                  <span className=\"sort-arrow sort-arrow-down\"></span>\r\n                </span>\r\n              </button>\r\n              <button \r\n                className={`row-header-date ${sortConfig?.key === 'registrationDate' ? `sort-${sortConfig.direction}` : ''}`}\r\n                onClick={() => sortWorkplaces('registrationDate')}\r\n              >\r\n                Tarih\r\n                <span className=\"sort-arrows\">\r\n                  <span className=\"sort-arrow sort-arrow-up\"></span>\r\n                  <span className=\"sort-arrow sort-arrow-down\"></span>\r\n                </span>\r\n              </button>\r\n              <button \r\n                className={`row-header-price ${sortConfig?.key === 'riskLevel' ? `sort-${sortConfig.direction}` : ''}`}\r\n                onClick={() => sortWorkplaces('riskLevel')}\r\n              >\r\n                Tehlike Sınıfı\r\n                <span className=\"sort-arrows\">\r\n                  <span className=\"sort-arrow sort-arrow-up\"></span>\r\n                  <span className=\"sort-arrow sort-arrow-down\"></span>\r\n                </span>\r\n              </button>\r\n              <button \r\n                className={`row-header-status ${sortConfig?.key === 'approvalStatus' ? `sort-${sortConfig.direction}` : ''}`}\r\n                onClick={() => sortWorkplaces('approvalStatus')}\r\n              >\r\n                Onay Durumu\r\n                <span className=\"sort-arrows\">\r\n                  <span className=\"sort-arrow sort-arrow-up\"></span>\r\n                  <span className=\"sort-arrow sort-arrow-down\"></span>\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Display current page rows */}\r\n          <div className=\"workplaces-list\">\r\n            {(() => {\r\n              const sortedWorkplaces = getSortedWorkplaces();\r\n              const startIndex = (currentPage - 1) * workplacesPerPage;\r\n              const endIndex = startIndex + workplacesPerPage;\r\n              const currentPageWorkplaces = sortedWorkplaces.slice(startIndex, endIndex);\r\n              console.log('Rendering workplaces list with:', currentPageWorkplaces);\r\n              return currentPageWorkplaces.map((workplace, index) => (\r\n                <div \r\n                  key={(currentPage - 1) * 10 + index} \r\n                  id={`workplace-row-${workplace.id}`}\r\n                  className={`row-item ${duplicateWarning.workplace?.id === workplace.id ? 'duplicate-highlight' : ''}`}\r\n                  onClick={() => handleRowClick(workplace)}\r\n                >\r\n                  <span className=\"row-label\">{workplace.name || 'İş Yeri Adı'}</span>\r\n                  <span className=\"row-source\">{workplace.source || 'Belirtilmemiş'}</span>\r\n                  <span className=\"row-date\">{formatDate(workplace.registrationDate)}</span>\r\n                  <span className=\"row-price\">{formatRiskLevel(workplace.riskLevel)}</span>\r\n                  <select\r\n                    className={`inline-approval-status approval-status-${workplace.approvalStatus || 'atama'}`}\r\n                    value={workplace.approvalStatus || 'atama'}\r\n                    onClick={(e) => e.stopPropagation()}\r\n                    onChange={async (e) => await handleApprovalStatusChange(workplace.id, (e.target as HTMLSelectElement).value)}\r\n                  >\r\n                    <option value=\"atama\">Atama yapılacak</option>\r\n                    <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                    <option value=\"onaylandi\">Onaylandı</option>\r\n                  </select>\r\n                </div>\r\n              ));\r\n            })()}\r\n          </div>\r\n          \r\n          {/* Page numbers */}\r\n          {totalPages > 1 && (\r\n            <div className=\"pagination\">\r\n              {currentPage > 1 && (\r\n                <button\r\n                  className=\"page-number\"\r\n                  onClick={() => handlePageChange(currentPage - 1)}\r\n                >\r\n                  Önceki Sayfa\r\n                </button>\r\n              )}\r\n              {[...Array(totalPages)].map((_, index) => (\r\n                <button\r\n                  key={index}\r\n                  className={`page-number ${currentPage === index + 1 ? 'active' : ''}`}\r\n                  onClick={() => handlePageChange(index + 1)}\r\n                >\r\n                  {index + 1}\r\n                </button>\r\n              ))}\r\n              {currentPage < totalPages && (\r\n                <button\r\n                  className=\"page-number\"\r\n                  onClick={() => handlePageChange(currentPage + 1)}\r\n                >\r\n                  Sonraki Sayfa\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Modal for workplace details */}\r\n      {isModalOpen && createPortal(\r\n        <div className=\"modal-overlay\" onClick={closeModal}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>İş Yeri Detayları</h3>\r\n              <button className=\"modal-close\" onClick={closeModal}>\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={handleModalSubmit}>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">İş Yeri Adı:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.name || ''}\r\n                        onChange={handleModalChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Adres:</label>\r\n                      <textarea\r\n                        name=\"address\"\r\n                        className=\"form-textarea\"\r\n                        value={modalFormData.address || ''}\r\n                        onChange={handleModalChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">SGK Kayıt No:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"sskRegistrationNo\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.sskRegistrationNo || ''}\r\n                        onChange={handleModalChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Fiyat:</label>\r\n                      <div className=\"price-input-container\">\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"price\"\r\n                          className=\"form-input price-input\"\r\n                          value={modalFormData.price || ''}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            // Allow only numeric values\r\n                            if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\r\n                              setModalFormData(prev => ({\r\n                                ...prev,\r\n                                price: value\r\n                              }));\r\n                            }\r\n                          }}\r\n                          placeholder=\"0\"\r\n                          required\r\n                        />\r\n                        <span className=\"price-suffix\">TL</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi Dairesi:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxOffice\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.taxOffice || ''}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          // Allow only letters and spaces, no numbers\r\n                          if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n                            setModalFormData(prev => ({\r\n                              ...prev,\r\n                              taxOffice: value\r\n                            }));\r\n                          }\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi No:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxNumber\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.taxNumber || ''}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          // Allow only numeric values\r\n                          if (value === '' || /^\\d*$/.test(value)) {\r\n                            setModalFormData(prev => ({\r\n                              ...prev,\r\n                              taxNumber: value\r\n                            }));\r\n                          }\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                      <select\r\n                        name=\"riskLevel\"\r\n                        className=\"form-select\"\r\n                        value={modalFormData.riskLevel || 'low'}\r\n                        onChange={handleModalChange}\r\n                      >\r\n                        <option value=\"low\">Az Tehlikeli</option>\r\n                        <option value=\"dangerous\">Tehlikeli</option>\r\n                        <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"employeeCount\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.employeeCount || 0}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          // Allow only numeric values\r\n                          if (value === '' || /^\\d*$/.test(value)) {\r\n                            setModalFormData(prev => ({\r\n                              ...prev,\r\n                              employeeCount: value\r\n                            }));\r\n                          }\r\n                        }}\r\n                        min=\"0\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Uzman:</label>\r\n                      <select\r\n                        name=\"assignedExpertId\"\r\n                        className=\"form-select\"\r\n                        value={modalFormData.assignedExpertId || ''}\r\n                        onChange={handleModalChange}\r\n                      >\r\n                        <option value=\"\">Uzman Seçin</option>\r\n                        {getFilteredExperts(\r\n                          modalFormData.riskLevel || 'low', \r\n                          parseInt(modalFormData.employeeCount as string) || 0\r\n                        ).map(expert => (\r\n                          <option key={expert.id} value={expert.id}>\r\n                            {expert.firstName} {expert.lastName} ({expert.expertiseClass} - {expert.assignedMinutes} dakika)\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Hekim:</label>\r\n                      <select\r\n                        name=\"assignedDoctorId\"\r\n                        className=\"form-select\"\r\n                        value={modalFormData.assignedDoctorId || ''}\r\n                        onChange={handleModalChange}\r\n                      >\r\n                        <option value=\"\">Hekim Seçin</option>\r\n                        {getFilteredDoctors(\r\n                          modalFormData.riskLevel || 'low', \r\n                          parseInt(modalFormData.employeeCount as string) || 0\r\n                        ).map(doctor => (\r\n                          <option key={doctor.id} value={doctor.id}>\r\n                            {doctor.firstName} {doctor.lastName} ({doctor.assignedMinutes} dakika)\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan DSP:</label>\r\n                      <select\r\n                        name=\"assignedDspId\"\r\n                        className=\"form-select\"\r\n                        value={modalFormData.assignedDspId || ''}\r\n                        onChange={handleModalChange}\r\n                      >\r\n                        <option value=\"\">DSP Seçin</option>\r\n                        {getFilteredDsps(\r\n                          modalFormData.riskLevel || 'low', \r\n                          parseInt(modalFormData.employeeCount as string) || 0\r\n                        ).map(dsp => (\r\n                          <option key={dsp.id} value={dsp.id}>\r\n                            {dsp.firstName} {dsp.lastName} ({dsp.assignedMinutes} dakika)\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        name=\"registrationDate\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.registrationDate || ''}\r\n                        onChange={handleModalChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Onay Durumu:</label>\r\n                      <select\r\n                        name=\"approvalStatus\"\r\n                        className=\"form-select\"\r\n                        value={modalFormData.approvalStatus || 'atama'}\r\n                        onChange={handleModalChange}\r\n                      >\r\n                        <option value=\"atama\">Atama yapılacak</option>\r\n                        <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                        <option value=\"onaylandi\">Onaylandı</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kaynak:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"source\"\r\n                        className=\"form-input\"\r\n                        value={modalFormData.source || ''}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          // Allow only letters and spaces, no numbers\r\n                          if (value === '' || /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*$/.test(value)) {\r\n                            setModalFormData(prev => ({\r\n                              ...prev,\r\n                              source: value\r\n                            }));\r\n                          }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"modal-actions\">\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModal}>\r\n                    İptal\r\n                  </button>\r\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={handleDeleteWorkplace}>\r\n                    Sil\r\n                  </button>\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={handleEditWorkplace}>\r\n                    Düzenle\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>,\r\n        document.body\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}