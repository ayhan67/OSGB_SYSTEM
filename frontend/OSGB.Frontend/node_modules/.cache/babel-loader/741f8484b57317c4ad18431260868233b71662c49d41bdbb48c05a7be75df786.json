{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{createDsp,getAllDsps,deleteDsp,updateDsp,getDspAssignedWorkplaces}from'../services/api';import'./DspCardPage.css';import{useNavigate,useLocation}from'react-router-dom';import AssignedWorkplacesModal from'./AssignedWorkplacesModal';// Define interface for form data\n// Define interface for DSP data\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DspCardPage=()=>{// DSP Card Page Component\nconst[formData,setFormData]=useState({firstName:'',lastName:'',phone:'',assignedMinutes:11900});const[dsps,setDsps]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const location=useLocation();// Validation functions\nconst isValidName=name=>{return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);};const isValidPhone=phone=>{return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);};// Format phone number as user types\nconst formatPhoneNumber=value=>{// Remove all non-digit characters\nconst digits=value.replace(/\\D/g,'');// Limit to 10 digits\nconst limitedDigits=digits.substring(0,10);// Format as 5xx xxx xx xx\nlet formatted='';for(let i=0;i<limitedDigits.length;i++){if(i===3||i===6||i===8){formatted+=' ';}formatted+=limitedDigits[i];}return formatted;};// Function to handle clicking on a DSP row\nconst handleDspClick=dsp=>{openDspDetails(dsp);};useEffect(()=>{fetchDsps();},[]);// Add useEffect to refresh data when location changes (navigation)\nuseEffect(()=>{console.log('DspCardPage: Location changed to:',location.pathname,'at:',new Date().toISOString());fetchDsps();},[location.pathname]);// Add useEffect to refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('DspCardPage: Window focused, refreshing DSPs...');fetchDsps();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[]);// Add useEffect to refresh data when workplace is created\nuseEffect(()=>{const handleWorkplaceCreated=()=>{console.log('DspCardPage: Workplace created, refreshing DSPs...');fetchDsps();};window.addEventListener('workplaceCreated',handleWorkplaceCreated);return()=>{window.removeEventListener('workplaceCreated',handleWorkplaceCreated);};},[]);const fetchDsps=async()=>{try{const data=await getAllDsps();setDsps(data);}catch(err){console.error('DSP\\'ler getirilirken hata oluştu:',err);setError(err.message||'DSP\\'ler getirilirken hata oluştu');}};// Calculate statistics for DSPs\nconst calculateDspStats=()=>{const stats={totalCount:dsps.length,totalMinutes:0,usedMinutes:0,remainingMinutes:0};dsps.forEach(dsp=>{stats.totalMinutes+=dsp.assignedMinutes||0;stats.usedMinutes+=dsp.usedMinutes||0;stats.remainingMinutes+=(dsp.assignedMinutes||0)-(dsp.usedMinutes||0);});return stats;};const dspStats=calculateDspStats();// Function to get assigned workplace names for a DSP\nconst getAssignedWorkplaceNames=dspId=>{// This would require a new endpoint to get workplaces assigned to a DSP\n// For now, we'll return a placeholder\nreturn'Atanmamış';};const handleChange=e=>{const{name,value}=e.target;// Special handling for name fields - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?value===''?0:parseInt(value)||0:value}));}};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');// Validation checks\nif(!isValidName(formData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(formData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(formData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}if(formData.assignedMinutes>11900){setError('Atanan dakika 11.900\\'ü geçemez');clearNotifications();return;}try{await createDsp(formData);setSuccess('DSP başarıyla kaydedildi!');setFormData({firstName:'',lastName:'',phone:'',assignedMinutes:11900});// Refresh the DSPs list\nfetchDsps();clearNotifications();}catch(err){console.error('Create DSP error:',err);const errorMessage=err.message||'DSP kaydedilirken hata oluştu';setError(errorMessage);clearNotifications();}};// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};const handleClose=()=>{// Redirect to dashboard\nnavigate('/');};// Function to open modal with DSP details\nconst openDspDetails=async dsp=>{// Fetch assigned workplaces when opening the DSP details modal\ntry{const workplaces=await getDspAssignedWorkplaces(dsp.id);setAssignedWorkplaces(workplaces);setSelectedDspForWorkplaces(dsp);}catch(error){console.error('Error fetching assigned workplaces:',error);setAssignedWorkplaces([]);}setSelectedDsp(dsp);setIsEditMode(false);setIsModalOpen(true);};// Function to open modal in edit mode\nconst openEditDsp=dsp=>{setSelectedDsp(dsp);setEditFormData({firstName:dsp.firstName||'',lastName:dsp.lastName||'',phone:dsp.phone||'',assignedMinutes:dsp.assignedMinutes||11900});setIsEditMode(true);setIsModalOpen(true);};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setSelectedDsp(null);setIsEditMode(false);};// State for modal dialog\nconst[selectedDsp,setSelectedDsp]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[isEditMode,setIsEditMode]=useState(false);// State for edit form data\nconst[editFormData,setEditFormData]=useState({firstName:'',lastName:'',phone:'',assignedMinutes:11900});const handleEditFormDataChange=e=>{const{name,value}=e.target;// Special handling for name fields - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?value===''?0:parseInt(value)||0:value}));}};const handleUpdateDsp=async e=>{e.preventDefault();if(!selectedDsp)return;// Validation checks for edit form\nif(!isValidName(editFormData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(editFormData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(editFormData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}if(editFormData.assignedMinutes>11900){setError('Atanan dakika 11.900\\'ü geçemez');clearNotifications();return;}try{await updateDsp(selectedDsp.id,editFormData);setSuccess('DSP başarıyla güncellendi!');closeModal();fetchDsps();// Refresh the DSPs list\nclearNotifications();}catch(err){console.error('Update error:',err);const errorMessage=err.message||'DSP güncellenirken hata oluştu';setError(errorMessage);clearNotifications();}};const handleDelete=async id=>{// Show confirmation dialog before deleting\nconst confirmed=window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');if(!confirmed){return;// User cancelled the deletion\n}try{await deleteDsp(id);setSuccess('DSP başarıyla silindi!');// Refresh the DSPs list\nfetchDsps();// Close modal if it was open for this DSP\nif(selectedDsp&&selectedDsp.id===id){setIsModalOpen(false);setSelectedDsp(null);}clearNotifications();}catch(err){console.error('Delete error:',err);const errorMessage=err.message||'DSP silinirken hata oluştu';setError(errorMessage);clearNotifications();}};// State for assigned workplaces modal\nconst[isAssignedWorkplacesModalOpen,setIsAssignedWorkplacesModalOpen]=useState(false);const[assignedWorkplaces,setAssignedWorkplaces]=useState([]);const[selectedDspForWorkplaces,setSelectedDspForWorkplaces]=useState(null);// Function to open assigned workplaces modal\nconst openAssignedWorkplacesModal=async dsp=>{try{const workplaces=await getDspAssignedWorkplaces(dsp.id);setAssignedWorkplaces(workplaces);setSelectedDspForWorkplaces(dsp);setIsAssignedWorkplacesModalOpen(true);}catch(error){console.error('Error fetching assigned workplaces:',error);// Show error message\n}};// Function to close assigned workplaces modal\nconst closeAssignedWorkplacesModal=()=>{setIsAssignedWorkplacesModalOpen(false);// Don't clear assignedWorkplaces to keep the \"Gör\" button visible\n// setAssignedWorkplaces([]);\nsetSelectedDspForWorkplaces(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-card-page\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',left:65,top:10,width:375,height:320,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"Yeni DSP Kay\\u0131t\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"registration-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:formData.firstName,onChange:handleChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:formData.lastName,onChange:handleChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:formData.phone,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:formData.assignedMinutes,onChange:handleChange,min:\"0\",max:\"11900\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"DSP Kaydet\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',right:70,// Positioned to the right edge of the page\ntop:10,width:300,height:400,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"DSP \\u0130statistikleri\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible',padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131tl\\u0131 DSP Say\\u0131s\\u0131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:dspStats.totalCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tan\\u0131mlanan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:dspStats.totalMinutes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kullan\\u0131lan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:dspStats.usedMinutes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kalan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:dspStats.remainingMinutes})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"registered-dsps-container\",style:{position:'absolute',right:'430px',top:'0px',width:'450px'},children:dsps.map(dsp=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleDspClick(dsp),style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'8px',margin:'10px 0',borderRadius:'8px',cursor:'pointer',transition:'all 0.3s ease',position:'relative',top:'0px',left:'0px',width:'100%',// Using blue color scheme for all DSPs (similar to B class experts)\nbackgroundColor:'#bbdefb'// Blue background\n},onMouseEnter:e=>{// Enhanced hover effect with more vibrant blue\ne.currentTarget.style.backgroundColor='#90caf9';// More vibrant blue on hover\ne.currentTarget.style.boxShadow='0 4px 8px rgba(33, 150, 243, 0.3)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{// Reset to original blue color when not hovering\ne.currentTarget.style.backgroundColor='#bbdefb';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-info-display\",style:{fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-name-display\",children:[dsp.firstName,\" \",dsp.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"dsp-phone-display\",children:dsp.phone})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dsp-class-display\",style:{// Blue badge for all DSPs\nbackgroundColor:'#1976d2',color:'white',fontSize:'12px',fontWeight:'bold',padding:'2px 8px',borderRadius:'12px'},children:\"D\"})]},dsp.id))}),isModalOpen&&selectedDsp&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:e=>{// Only close modal if clicking on the overlay (not the content)\nif(e.target===e.currentTarget){closeModal();}},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content draggable-card\",onClick:e=>e.stopPropagation(),style:{width:400,height:500,maxWidth:'90vw',maxHeight:'90vh',position:'absolute',left:'50%',top:'50%',transform:'translate(-50%, -50%)',margin:0,zIndex:2001},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:[/*#__PURE__*/_jsx(\"span\",{children:isEditMode?'DSP Düzenle':'DSP Detayları'}),/*#__PURE__*/_jsx(\"div\",{className:\"window-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"window-button\",onClick:closeModal,\"aria-label\":\"Kapat\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",children:isEditMode?/*#__PURE__*/// Edit form\n_jsxs(\"form\",{onSubmit:handleUpdateDsp,className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:editFormData.firstName,onChange:handleEditFormDataChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:editFormData.lastName,onChange:handleEditFormDataChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:editFormData.phone,onChange:handleEditFormDataChange,placeholder:\"5xx xxx xx xx\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:editFormData.assignedMinutes,onChange:handleEditFormDataChange,min:\"0\",max:\"11900\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"G\\xFCncelle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:closeModal,children:\"\\u0130ptal\"})]})]}):/*#__PURE__*/// View mode\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ad:\"}),\" \",selectedDsp.firstName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Soyad:\"}),\" \",selectedDsp.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefon:\"}),\" \",selectedDsp.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Toplam Dakika:\"}),\" \",selectedDsp.assignedMinutes]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Atanan Dakika:\"}),\" \",selectedDsp.usedMinutes||0]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kalan Dakika:\"}),\" \",selectedDsp.assignedMinutes-(selectedDsp.usedMinutes||0)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsp-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Atand\\u0131\\u011F\\u0131 \\u0130\\u015F Yeri:\"}),assignedWorkplaces.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"atand\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{marginTop:'22px',marginLeft:'10px',padding:'1px 14px',fontSize:'15px'},onClick:()=>setIsAssignedWorkplacesModalOpen(true),children:\"g\\xF6r\"})]}):/*#__PURE__*/_jsx(\"span\",{children:\"Atanmam\\u0131\\u015F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>openEditDsp(selectedDsp),children:\"D\\xFCzenle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{const confirmed=window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');if(confirmed){handleDelete(selectedDsp.id);}},children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-close\",onClick:closeModal,children:\"Kapat\"})]})]})})]})})}),/*#__PURE__*/_jsx(AssignedWorkplacesModal,{isOpen:isAssignedWorkplacesModalOpen,onClose:closeAssignedWorkplacesModal,workplaces:assignedWorkplaces,personnelName:selectedDspForWorkplaces?\"\".concat(selectedDspForWorkplaces.firstName,\" \").concat(selectedDspForWorkplaces.lastName):'',personnelType:\"DSP\"})]});};export default DspCardPage;","map":{"version":3,"names":["React","useState","useEffect","createDsp","getAllDsps","deleteDsp","updateDsp","getDspAssignedWorkplaces","useNavigate","useLocation","AssignedWorkplacesModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DspCardPage","formData","setFormData","firstName","lastName","phone","assignedMinutes","dsps","setDsps","success","setSuccess","error","setError","navigate","location","isValidName","name","test","isValidPhone","formatPhoneNumber","value","digits","replace","limitedDigits","substring","formatted","i","length","handleDspClick","dsp","openDspDetails","fetchDsps","console","log","pathname","Date","toISOString","handleFocus","window","addEventListener","removeEventListener","handleWorkplaceCreated","data","err","message","calculateDspStats","stats","totalCount","totalMinutes","usedMinutes","remainingMinutes","forEach","dspStats","getAssignedWorkplaceNames","dspId","handleChange","e","target","cleanValue","prev","_objectSpread","formattedPhone","parseInt","handleSubmit","preventDefault","clearNotifications","errorMessage","setTimeout","handleClose","workplaces","id","setAssignedWorkplaces","setSelectedDspForWorkplaces","setSelectedDsp","setIsEditMode","setIsModalOpen","openEditDsp","setEditFormData","closeModal","selectedDsp","isModalOpen","isEditMode","editFormData","handleEditFormDataChange","handleUpdateDsp","handleDelete","confirmed","confirm","isAssignedWorkplacesModalOpen","setIsAssignedWorkplacesModalOpen","assignedWorkplaces","selectedDspForWorkplaces","openAssignedWorkplacesModal","closeAssignedWorkplacesModal","className","children","style","position","left","top","width","height","zIndex","display","flexDirection","userSelect","flex","overflow","onSubmit","type","onChange","required","min","max","right","padding","map","onClick","justifyContent","alignItems","margin","borderRadius","cursor","transition","backgroundColor","onMouseEnter","currentTarget","boxShadow","transform","onMouseLeave","fontSize","color","fontWeight","stopPropagation","maxWidth","maxHeight","placeholder","marginTop","marginLeft","isOpen","onClose","personnelName","concat","personnelType"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/DspCardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createDsp, getAllDsps, deleteDsp, updateDsp, getDspAssignedWorkplaces } from '../services/api';\r\nimport './DspCardPage.css';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport AssignedWorkplacesModal from './AssignedWorkplacesModal';\r\n\r\n// Define interface for form data\r\ninterface FormData {\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  assignedMinutes: number;\r\n}\r\n\r\n// Define interface for DSP data\r\ninterface DspData extends FormData {\r\n  id: number;\r\n  usedMinutes?: number;\r\n}\r\n\r\nconst DspCardPage = () => {\r\n  // DSP Card Page Component\r\n  const [formData, setFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  const [dsps, setDsps] = useState<DspData[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Validation functions\r\n  const isValidName = (name: string) => {\r\n    return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);\r\n  };\r\n\r\n  const isValidPhone = (phone: string) => {\r\n    return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);\r\n  };\r\n\r\n  // Format phone number as user types\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Remove all non-digit characters\r\n    const digits = value.replace(/\\D/g, '');\r\n    \r\n    // Limit to 10 digits\r\n    const limitedDigits = digits.substring(0, 10);\r\n    \r\n    // Format as 5xx xxx xx xx\r\n    let formatted = '';\r\n    for (let i = 0; i < limitedDigits.length; i++) {\r\n      if (i === 3 || i === 6 || i === 8) {\r\n        formatted += ' ';\r\n      }\r\n      formatted += limitedDigits[i];\r\n    }\r\n    \r\n    return formatted;\r\n  };\r\n\r\n  // Function to handle clicking on a DSP row\r\n  const handleDspClick = (dsp: DspData) => {\r\n    openDspDetails(dsp);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDsps();\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when location changes (navigation)\r\n  useEffect(() => {\r\n    console.log('DspCardPage: Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchDsps();\r\n  }, [location.pathname]);\r\n\r\n  // Add useEffect to refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('DspCardPage: Window focused, refreshing DSPs...');\r\n      fetchDsps();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when workplace is created\r\n  useEffect(() => {\r\n    const handleWorkplaceCreated = () => {\r\n      console.log('DspCardPage: Workplace created, refreshing DSPs...');\r\n      fetchDsps();\r\n    };\r\n\r\n    window.addEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    return () => {\r\n      window.removeEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    };\r\n  }, []);\r\n\r\n  const fetchDsps = async () => {\r\n    try {\r\n      const data = await getAllDsps();\r\n      setDsps(data);\r\n    } catch (err: any) {\r\n      console.error('DSP\\'ler getirilirken hata oluştu:', err);\r\n      setError(err.message || 'DSP\\'ler getirilirken hata oluştu');\r\n    }\r\n  };\r\n\r\n  // Calculate statistics for DSPs\r\n  const calculateDspStats = () => {\r\n    const stats = {\r\n      totalCount: dsps.length,\r\n      totalMinutes: 0,\r\n      usedMinutes: 0,\r\n      remainingMinutes: 0\r\n    };\r\n\r\n    dsps.forEach(dsp => {\r\n      stats.totalMinutes += dsp.assignedMinutes || 0;\r\n      stats.usedMinutes += dsp.usedMinutes || 0;\r\n      stats.remainingMinutes += (dsp.assignedMinutes || 0) - (dsp.usedMinutes || 0);\r\n    });\r\n\r\n    return stats;\r\n  };\r\n\r\n  const dspStats = calculateDspStats();\r\n\r\n  // Function to get assigned workplace names for a DSP\r\n  const getAssignedWorkplaceNames = (dspId: number) => {\r\n    // This would require a new endpoint to get workplaces assigned to a DSP\r\n    // For now, we'll return a placeholder\r\n    return 'Atanmamış';\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    // Validation checks\r\n    if (!isValidName(formData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(formData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(formData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (formData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await createDsp(formData);\r\n      setSuccess('DSP başarıyla kaydedildi!');\r\n      setFormData({\r\n        firstName: '',\r\n        lastName: '',\r\n        phone: '',\r\n        assignedMinutes: 11900\r\n      });\r\n      // Refresh the DSPs list\r\n      fetchDsps();\r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Create DSP error:', err);\r\n      const errorMessage = err.message || 'DSP kaydedilirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    // Redirect to dashboard\r\n    navigate('/');\r\n  };\r\n\r\n  // Function to open modal with DSP details\r\n  const openDspDetails = async (dsp: DspData) => {\r\n    // Fetch assigned workplaces when opening the DSP details modal\r\n    try {\r\n      const workplaces = await getDspAssignedWorkplaces(dsp.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDspForWorkplaces(dsp);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      setAssignedWorkplaces([]);\r\n    }\r\n    \r\n    setSelectedDsp(dsp);\r\n    setIsEditMode(false);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to open modal in edit mode\r\n  const openEditDsp = (dsp: DspData) => {\r\n    setSelectedDsp(dsp);\r\n    setEditFormData({\r\n      firstName: dsp.firstName || '',\r\n      lastName: dsp.lastName || '',\r\n      phone: dsp.phone || '',\r\n      assignedMinutes: dsp.assignedMinutes || 11900\r\n    });\r\n    setIsEditMode(true);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedDsp(null);\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  // State for modal dialog\r\n  const [selectedDsp, setSelectedDsp] = useState<DspData | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  \r\n  // State for edit form data\r\n  const [editFormData, setEditFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  \r\n  const handleEditFormDataChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleUpdateDsp = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedDsp) return;\r\n    \r\n    // Validation checks for edit form\r\n    if (!isValidName(editFormData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(editFormData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(editFormData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (editFormData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await updateDsp(selectedDsp.id, editFormData);\r\n      setSuccess('DSP başarıyla güncellendi!');\r\n      closeModal();\r\n      fetchDsps(); // Refresh the DSPs list\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Update error:', err);\r\n      const errorMessage = err.message || 'DSP güncellenirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    // Show confirmation dialog before deleting\r\n    const confirmed = window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');\r\n    if (!confirmed) {\r\n      return; // User cancelled the deletion\r\n    }\r\n    \r\n    try {\r\n      await deleteDsp(id);\r\n      setSuccess('DSP başarıyla silindi!');\r\n      // Refresh the DSPs list\r\n      fetchDsps();\r\n      \r\n      // Close modal if it was open for this DSP\r\n      if (selectedDsp && selectedDsp.id === id) {\r\n        setIsModalOpen(false);\r\n        setSelectedDsp(null);\r\n      }\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Delete error:', err);\r\n      const errorMessage = err.message || 'DSP silinirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // State for assigned workplaces modal\r\n  const [isAssignedWorkplacesModalOpen, setIsAssignedWorkplacesModalOpen] = useState(false);\r\n  const [assignedWorkplaces, setAssignedWorkplaces] = useState<any[]>([]);\r\n  const [selectedDspForWorkplaces, setSelectedDspForWorkplaces] = useState<DspData | null>(null);\r\n\r\n  // Function to open assigned workplaces modal\r\n  const openAssignedWorkplacesModal = async (dsp: DspData) => {\r\n    try {\r\n      const workplaces = await getDspAssignedWorkplaces(dsp.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDspForWorkplaces(dsp);\r\n      setIsAssignedWorkplacesModalOpen(true);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      // Show error message\r\n    }\r\n  };\r\n  \r\n  // Function to close assigned workplaces modal\r\n  const closeAssignedWorkplacesModal = () => {\r\n    setIsAssignedWorkplacesModalOpen(false);\r\n    // Don't clear assignedWorkplaces to keep the \"Gör\" button visible\r\n    // setAssignedWorkplaces([]);\r\n    setSelectedDspForWorkplaces(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dsp-card-page\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* \"Yeni DSP Kayıt\" card (fixed position and size) */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          left: 65,\r\n          top: 10,\r\n          width: 375,\r\n          height: 320,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Yeni DSP Kayıt</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible' }}>\r\n            <form onSubmit={handleSubmit} className=\"registration-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Ad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      className=\"form-input\"\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Soyad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      className=\"form-input\"\r\n                      value={formData.lastName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Telefon:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  className=\"form-input\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Atanan Dakika:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"assignedMinutes\"\r\n                  className=\"form-input\"\r\n                  value={formData.assignedMinutes}\r\n                  onChange={handleChange}\r\n                  min=\"0\"\r\n                  max=\"11900\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <button type=\"submit\" className=\"btn btn-primary\">DSP Kaydet</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Statistics card for DSPs */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          right: 70, // Positioned to the right edge of the page\r\n          top: 10,\r\n          width: 300,\r\n          height: 400,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>DSP İstatistikleri</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible', padding: '15px' }}>\r\n            <div className=\"stats-container\">\r\n              <div className=\"stats-section\">\r\n                <h3>Kayıtlı DSP Sayısı</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.totalCount}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Tanımlanan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.totalMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kullanılan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.usedMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kalan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.remainingMinutes}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Display registered DSPs in individual rows positioned on the right side of the page */}\r\n      <div className=\"registered-dsps-container\" style={{ \r\n        position: 'absolute',\r\n        right: '430px',\r\n        top: '0px',\r\n        width: '450px'\r\n      }}>\r\n        {dsps.map((dsp) => (\r\n          <div\r\n            key={dsp.id}\r\n            onClick={() => handleDspClick(dsp)}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '8px',\r\n              margin: '10px 0',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease',\r\n              position: 'relative',\r\n              top: '0px',\r\n              left: '0px',\r\n              width: '100%',\r\n              // Using blue color scheme for all DSPs (similar to B class experts)\r\n              backgroundColor: '#bbdefb' // Blue background\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              // Enhanced hover effect with more vibrant blue\r\n              e.currentTarget.style.backgroundColor = '#90caf9'; // More vibrant blue on hover\r\n              e.currentTarget.style.boxShadow = '0 4px 8px rgba(33, 150, 243, 0.3)';\r\n              e.currentTarget.style.transform = 'translateY(-2px)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              // Reset to original blue color when not hovering\r\n              e.currentTarget.style.backgroundColor = '#bbdefb';\r\n              e.currentTarget.style.boxShadow = 'none';\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n            }}\r\n          >\r\n            <div className=\"dsp-info-display\" style={{ fontSize: '14px' }}>\r\n              <div className=\"dsp-name-display\">{dsp.firstName} {dsp.lastName}</div>\r\n              <div className=\"dsp-phone-display\">{dsp.phone}</div>\r\n            </div>\r\n            <div \r\n              className=\"dsp-class-display\"\r\n              style={{\r\n                // Blue badge for all DSPs\r\n                backgroundColor: '#1976d2',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: 'bold',\r\n                padding: '2px 8px',\r\n                borderRadius: '12px'\r\n              }}\r\n            >\r\n              D\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* DSP Details Modal */}\r\n      {isModalOpen && selectedDsp && (\r\n        <div className=\"modal-overlay\" onClick={(e) => {\r\n          // Only close modal if clicking on the overlay (not the content)\r\n          if (e.target === e.currentTarget) {\r\n            closeModal();\r\n          }\r\n        }}>\r\n          <div \r\n            className=\"modal-content draggable-card\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              width: 400,\r\n              height: 500,\r\n              maxWidth: '90vw',\r\n              maxHeight: '90vh',\r\n              position: 'absolute',\r\n              left: '50%',\r\n              top: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              margin: 0,\r\n              zIndex: 2001\r\n            }}\r\n          >\r\n            <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n              <div \r\n                className=\"window-header\"\r\n                style={{ userSelect: 'none' }}\r\n              >\r\n                <span>{isEditMode ? 'DSP Düzenle' : 'DSP Detayları'}</span>\r\n                <div className=\"window-controls\">\r\n                  <button className=\"window-button\" onClick={closeModal} aria-label=\"Kapat\">×</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"window-content\">\r\n                {isEditMode ? (\r\n                  // Edit form\r\n                  <form onSubmit={handleUpdateDsp} className=\"edit-form\">\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Ad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"firstName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.firstName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Soyad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"lastName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.lastName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Telefon:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.phone}\r\n                        onChange={handleEditFormDataChange}\r\n                        placeholder=\"5xx xxx xx xx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Dakika:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"assignedMinutes\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.assignedMinutes}\r\n                        onChange={handleEditFormDataChange}\r\n                        min=\"0\"\r\n                        max=\"11900\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\">Güncelle</button>\r\n                      <button type=\"button\" className=\"btn\" onClick={closeModal}>İptal</button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  // View mode\r\n                  <>\r\n                    <div className=\"dsp-detail-info\">\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Ad:</strong> {selectedDsp.firstName}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Soyad:</strong> {selectedDsp.lastName}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Telefon:</strong> {selectedDsp.phone}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Toplam Dakika:</strong> {selectedDsp.assignedMinutes}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Atanan Dakika:</strong> {selectedDsp.usedMinutes || 0}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Kalan Dakika:</strong> {selectedDsp.assignedMinutes - (selectedDsp.usedMinutes || 0)}\r\n                      </div>\r\n                      \r\n                      {/* Workplace assignment information - show \"atandı\" and \"gör\" button if assigned */}\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Atandığı İş Yeri:</strong> \r\n                        {assignedWorkplaces.length > 0 ? (\r\n                          <>\r\n                            <span>atandı</span>\r\n                            <button \r\n                              className=\"btn btn-primary\" \r\n                              style={{ marginTop: '22px' , marginLeft: '10px', padding: '1px 14px', fontSize: '15px' }}\r\n                              onClick={() => setIsAssignedWorkplacesModalOpen(true)}\r\n                            >\r\n                              gör\r\n                            </button>\r\n                          </>\r\n                        ) : (\r\n                          <span>Atanmamış</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button className=\"btn btn-primary\" onClick={() => openEditDsp(selectedDsp)}>Düzenle</button>\r\n                      <button className=\"btn btn-danger\" onClick={() => {\r\n                        const confirmed = window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');\r\n                        if (confirmed) {\r\n                          handleDelete(selectedDsp.id);\r\n                        }\r\n                      }}>Sil</button>\r\n                      <button className=\"btn btn-close\" onClick={closeModal}>Kapat</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Assigned Workplaces Modal */}\r\n      <AssignedWorkplacesModal\r\n        isOpen={isAssignedWorkplacesModalOpen}\r\n        onClose={closeAssignedWorkplacesModal}\r\n        workplaces={assignedWorkplaces}\r\n        personnelName={selectedDspForWorkplaces ? `${selectedDspForWorkplaces.firstName} ${selectedDspForWorkplaces.lastName}` : ''}\r\n        personnelType=\"DSP\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DspCardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}