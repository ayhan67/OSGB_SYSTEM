{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getAllExperts,getAllDoctors,getAllDsps,getAllWorkplaces}from'../services/api';import{useAuth}from'../contexts/AuthContext';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[expertCount,setExpertCount]=useState(0);const[doctorCount,setDoctorCount]=useState(0);const[dspCount,setDspCount]=useState(0);const[workplaceCount,setWorkplaceCount]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const{user}=useAuth();useEffect(()=>{fetchCounts();},[]);const fetchCounts=async()=>{try{setLoading(true);const[experts,doctors,dsps,workplaces]=await Promise.all([getAllExperts(),getAllDoctors(),getAllDsps(),getAllWorkplaces()]);setExpertCount(experts.length);setDoctorCount(doctors.length);setDspCount(dsps.length);setWorkplaceCount(workplaces.length);setError('');}catch(err){setError('Failed to fetch dashboard data: '+err.message);console.error('Dashboard error:',err);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.fullName,\"!\"]}),user.organizationId&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Organization ID: \",user.organizationId]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Experts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:expertCount}),/*#__PURE__*/_jsx(Link,{to:\"/experts\",className:\"stat-link\",children:\"View Experts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Doctors\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:doctorCount}),/*#__PURE__*/_jsx(Link,{to:\"/doctors\",className:\"stat-link\",children:\"View Doctors\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSPs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:dspCount}),/*#__PURE__*/_jsx(Link,{to:\"/dsps\",className:\"stat-link\",children:\"View DSPs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Workplaces\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:workplaceCount}),/*#__PURE__*/_jsx(Link,{to:\"/workplaces\",className:\"stat-link\",children:\"View Workplaces\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-actions\",children:/*#__PURE__*/_jsx(Link,{to:\"/visits\",className:\"action-button\",children:\"Manage Visits\"})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","getAllExperts","getAllDoctors","getAllDsps","getAllWorkplaces","useAuth","jsx","_jsx","jsxs","_jsxs","Dashboard","expertCount","setExpertCount","doctorCount","setDoctorCount","dspCount","setDspCount","workplaceCount","setWorkplaceCount","loading","setLoading","error","setError","user","fetchCounts","experts","doctors","dsps","workplaces","Promise","all","length","err","message","console","className","children","fullName","organizationId","to"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getAllExperts, getAllDoctors, getAllDsps, getAllWorkplaces } from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n  const [expertCount, setExpertCount] = useState(0);\r\n  const [doctorCount, setDoctorCount] = useState(0);\r\n  const [dspCount, setDspCount] = useState(0);\r\n  const [workplaceCount, setWorkplaceCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  \r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchCounts();\r\n  }, []);\r\n\r\n  const fetchCounts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [experts, doctors, dsps, workplaces] = await Promise.all([\r\n        getAllExperts(),\r\n        getAllDoctors(),\r\n        getAllDsps(),\r\n        getAllWorkplaces()\r\n      ]);\r\n      \r\n      setExpertCount(experts.length);\r\n      setDoctorCount(doctors.length);\r\n      setDspCount(dsps.length);\r\n      setWorkplaceCount(workplaces.length);\r\n      setError('');\r\n    } catch (err: any) {\r\n      setError('Failed to fetch dashboard data: ' + err.message);\r\n      console.error('Dashboard error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"dashboard\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1>Dashboard</h1>\r\n      \r\n      {user && (\r\n        <div className=\"welcome-message\">\r\n          <h2>Welcome, {user.fullName}!</h2>\r\n          {user.organizationId && (\r\n            <p>Organization ID: {user.organizationId}</p>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      \r\n      <div className=\"dashboard-stats\">\r\n        <div className=\"stat-card\">\r\n          <h3>Experts</h3>\r\n          <p className=\"stat-number\">{expertCount}</p>\r\n          <Link to=\"/experts\" className=\"stat-link\">View Experts</Link>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <h3>Doctors</h3>\r\n          <p className=\"stat-number\">{doctorCount}</p>\r\n          <Link to=\"/doctors\" className=\"stat-link\">View Doctors</Link>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <h3>DSPs</h3>\r\n          <p className=\"stat-number\">{dspCount}</p>\r\n          <Link to=\"/dsps\" className=\"stat-link\">View DSPs</Link>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <h3>Workplaces</h3>\r\n          <p className=\"stat-number\">{workplaceCount}</p>\r\n          <Link to=\"/workplaces\" className=\"stat-link\">View Workplaces</Link>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-actions\">\r\n        <Link to=\"/visits\" className=\"action-button\">Manage Visits</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,aAAa,CAAEC,aAAa,CAAEC,UAAU,CAAEC,gBAAgB,KAAQ,iBAAiB,CAC5F,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACmB,cAAc,CAAEC,iBAAiB,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACvD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAEyB,IAAK,CAAC,CAAGlB,OAAO,CAAC,CAAC,CAE1BN,SAAS,CAAC,IAAM,CACdyB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACFJ,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAACK,OAAO,CAAEC,OAAO,CAAEC,IAAI,CAAEC,UAAU,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC7D7B,aAAa,CAAC,CAAC,CACfC,aAAa,CAAC,CAAC,CACfC,UAAU,CAAC,CAAC,CACZC,gBAAgB,CAAC,CAAC,CACnB,CAAC,CAEFQ,cAAc,CAACa,OAAO,CAACM,MAAM,CAAC,CAC9BjB,cAAc,CAACY,OAAO,CAACK,MAAM,CAAC,CAC9Bf,WAAW,CAACW,IAAI,CAACI,MAAM,CAAC,CACxBb,iBAAiB,CAACU,UAAU,CAACG,MAAM,CAAC,CACpCT,QAAQ,CAAC,EAAE,CAAC,CACd,CAAE,MAAOU,GAAQ,CAAE,CACjBV,QAAQ,CAAC,kCAAkC,CAAGU,GAAG,CAACC,OAAO,CAAC,CAC1DC,OAAO,CAACb,KAAK,CAAC,kBAAkB,CAAEW,GAAG,CAAC,CACxC,CAAC,OAAS,CACRZ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBAAOZ,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CACpD,CAEA,mBACE3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,WAAS,CAAI,CAAC,CAEjBb,IAAI,eACHd,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,KAAA,OAAA2B,QAAA,EAAI,WAAS,CAACb,IAAI,CAACc,QAAQ,CAAC,GAAC,EAAI,CAAC,CACjCd,IAAI,CAACe,cAAc,eAClB7B,KAAA,MAAA2B,QAAA,EAAG,mBAAiB,CAACb,IAAI,CAACe,cAAc,EAAI,CAC7C,EACE,CACN,CAEAjB,KAAK,eAAId,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEf,KAAK,CAAM,CAAC,cAEtDZ,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB7B,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEzB,WAAW,CAAI,CAAC,cAC5CJ,IAAA,CAACP,IAAI,EAACuC,EAAE,CAAC,UAAU,CAACJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EAC1D,CAAC,cAEN3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB7B,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEvB,WAAW,CAAI,CAAC,cAC5CN,IAAA,CAACP,IAAI,EAACuC,EAAE,CAAC,UAAU,CAACJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EAC1D,CAAC,cAEN3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,MAAI,CAAI,CAAC,cACb7B,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAErB,QAAQ,CAAI,CAAC,cACzCR,IAAA,CAACP,IAAI,EAACuC,EAAE,CAAC,OAAO,CAACJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EACpD,CAAC,cAEN3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB7B,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEnB,cAAc,CAAI,CAAC,cAC/CV,IAAA,CAACP,IAAI,EAACuC,EAAE,CAAC,aAAa,CAACJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,EAChE,CAAC,EACH,CAAC,cAEN7B,IAAA,QAAK4B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC7B,IAAA,CAACP,IAAI,EAACuC,EAAE,CAAC,SAAS,CAACJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,CAC9D,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}