{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Updated API service with authentication support\nconst API_BASE_URL='http://localhost:5002/api';// Store token in memory (in a real app, you might want to use localStorage)\nlet authToken=null;let organizationId=null;// Rate limiting\nconst RATE_LIMIT_WINDOW=60000;// 1 minute\nconst MAX_REQUESTS=100;const requestTimestamps=[];const checkRateLimit=()=>{const now=Date.now();// Remove timestamps older than the window\nwhile(requestTimestamps.length>0&&requestTimestamps[0]<now-RATE_LIMIT_WINDOW){requestTimestamps.shift();}// Check if we've exceeded the limit\nif(requestTimestamps.length>=MAX_REQUESTS){throw new Error('Rate limit exceeded. Please try again later.');}// Add current timestamp\nrequestTimestamps.push(now);};// Input sanitization to prevent XSS\nconst sanitizeInput=input=>{const div=document.createElement('div');div.textContent=input;return div.innerHTML;};const sanitizeObject=obj=>{if(typeof obj==='string'){return sanitizeInput(obj);}if(Array.isArray(obj)){return obj.map(sanitizeObject);}if(obj&&typeof obj==='object'){const sanitized={};for(const key in obj){if(obj.hasOwnProperty(key)){sanitized[key]=sanitizeObject(obj[key]);}}return sanitized;}return obj;};// Simple in-memory cache\nconst apiCache=new Map();const CACHE_TTL=5*60*1000;// 5 minutes\nconst getCachedData=key=>{const cached=apiCache.get(key);if(cached&&Date.now()-cached.timestamp<CACHE_TTL){return cached.data;}apiCache.delete(key);return null;};const setCachedData=(key,data)=>{apiCache.set(key,{data,timestamp:Date.now()});};const clearCache=pattern=>{const keys=Array.from(apiCache.keys());const matchingKeys=keys.filter(key=>key.includes(pattern));matchingKeys.forEach(key=>apiCache.delete(key));};// Create headers with authentication\nconst getHeaders=function(){let contentType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'application/json';// Check rate limit before each request\ncheckRateLimit();const headers={'Content-Type':contentType};if(authToken){headers['Authorization']=\"Bearer \".concat(authToken);}if(organizationId){headers['x-organization-id']=organizationId.toString();}return headers;};// User authentication\nexport const login=async(username,password)=>{var _data$user;// Sanitize inputs\nconst sanitizedUsername=sanitizeInput(username);const sanitizedPassword=sanitizeInput(password);const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/login\"),{method:'POST',headers:getHeaders(),body:JSON.stringify({username:sanitizedUsername,password:sanitizedPassword})});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Login failed');}const data=await response.json();// Set auth token if provided\nif(data.token){setAuthToken(data.token);}// Set organization ID if provided\nif((_data$user=data.user)!==null&&_data$user!==void 0&&_data$user.organizationId){setOrganizationId(data.user.organizationId);}return data;};export const register=async userData=>{var _data$user2;// Sanitize inputs\nconst sanitizedData=sanitizeObject(userData);const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/register\"),{method:'POST',headers:getHeaders(),body:JSON.stringify(sanitizedData)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Registration failed');}const data=await response.json();// Set auth token if provided\nif(data.token){setAuthToken(data.token);}// Set organization ID if provided\nif((_data$user2=data.user)!==null&&_data$user2!==void 0&&_data$user2.organizationId){setOrganizationId(data.user.organizationId);}return data;};// Get current user profile\nexport const getCurrentUser=async()=>{const cacheKey='current_user';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/me\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch user profile');}const data=await response.json();setCachedData(cacheKey,data);return data;};// Workplaces\nexport const getAllWorkplaces=async()=>{const cacheKey='workplaces';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch workplaces');}const data=await response.json();console.log('getAllWorkplaces response:',data);setCachedData(cacheKey,data);return data;};export const getWorkplaceById=async id=>{const cacheKey=\"workplace_\".concat(id);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(id),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch workplace');}const data=await response.json();setCachedData(cacheKey,data);return data;};export const createWorkplace=async workplace=>{// Handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},workplace),{},{assignedExpertId:workplace.assignedExpertId||null,assignedDoctorId:workplace.assignedDoctorId||null,assignedDspId:workplace.assignedDspId||null,trackingExpertId:workplace.trackingExpertId||null});// Sanitize inputs\nconst sanitizedData=sanitizeObject(workplaceData);const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces\"),{method:'POST',headers:getHeaders(),body:JSON.stringify(sanitizedData)});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to create workplace: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();console.log('createWorkplace response:',data);// Clear cache for workplaces\nclearCache('workplaces');return data;};export const updateWorkplace=async(id,workplace)=>{// Handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},workplace),{},{assignedExpertId:workplace.assignedExpertId||null,assignedDoctorId:workplace.assignedDoctorId||null,assignedDspId:workplace.assignedDspId||null,trackingExpertId:workplace.trackingExpertId||null});// Remove any undefined values\nObject.keys(workplaceData).forEach(key=>workplaceData[key]===undefined&&delete workplaceData[key]);// Sanitize inputs\nconst sanitizedData=sanitizeObject(workplaceData);const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(id),{method:'PUT',headers:getHeaders(),body:JSON.stringify(sanitizedData)});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to update workplace: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();// Clear cache for workplaces\nclearCache('workplaces');return data;};export const deleteWorkplace=async id=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(id),{method:'DELETE',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to delete workplace');}const data=await response.json();// Clear cache for workplaces\nclearCache('workplaces');return data;};// Get available experts for a workplace based on risk level and employee count\nexport const getAvailableExperts=async workplaceId=>{const cacheKey=\"available_experts_\".concat(workplaceId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(workplaceId,\"/available-experts\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to fetch available experts: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();setCachedData(cacheKey,data);return data;};// Get available doctors for a workplace based on risk level and employee count\nexport const getAvailableDoctors=async workplaceId=>{const cacheKey=\"available_doctors_\".concat(workplaceId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(workplaceId,\"/available-doctors\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to fetch available doctors: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();setCachedData(cacheKey,data);return data;};// Get available DSPs for a workplace based on risk level and employee count\nexport const getAvailableDsps=async workplaceId=>{const cacheKey=\"available_dsps_\".concat(workplaceId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/workplaces/\").concat(workplaceId,\"/available-dsps\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to fetch available DSPs: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();setCachedData(cacheKey,data);return data;};// Experts\nexport const getAllExperts=async()=>{const cacheKey='experts';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/experts\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to fetch experts: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();console.log('getAllExperts response:',data);setCachedData(cacheKey,data);return data;};export const getExpertById=async id=>{const cacheKey=\"expert_\".concat(id);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/experts/\").concat(id),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch expert');}const data=await response.json();setCachedData(cacheKey,data);return data;};export const createExpert=async expert=>{// Sanitize inputs\nconst sanitizedExpert=sanitizeObject(expert);const response=await fetch(\"\".concat(API_BASE_URL,\"/experts\"),{method:'POST',headers:getHeaders(),body:JSON.stringify(sanitizedExpert)});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to create expert: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();// Clear cache for experts\nclearCache('experts');return data;};export const updateExpert=async(id,expert)=>{// Sanitize inputs\nconst sanitizedExpert=sanitizeObject(expert);const response=await fetch(\"\".concat(API_BASE_URL,\"/experts/\").concat(id),{method:'PUT',headers:getHeaders(),body:JSON.stringify(sanitizedExpert)});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.message||\"Failed to update expert: \".concat(response.status,\" \").concat(response.statusText);throw new Error(errorMessage);}const data=await response.json();// Clear cache for experts\nclearCache('experts');return data;};export const deleteExpert=async id=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/experts/\").concat(id),{method:'DELETE',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to delete expert');}const data=await response.json();// Clear cache for experts\nclearCache('experts');return data;};// Get assigned workplaces for an expert\nexport const getExpertAssignedWorkplaces=async expertId=>{const cacheKey=\"expert_assigned_workplaces_\".concat(expertId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/experts/\").concat(expertId,\"/assigned-workplaces\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch assigned workplaces for expert');}const data=await response.json();setCachedData(cacheKey,data);return data;};// Doctors\nexport const getAllDoctors=async()=>{const cacheKey='doctors';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch doctors');}const data=await response.json();console.log('getAllDoctors response:',data);setCachedData(cacheKey,data);return data;};export const getDoctorById=async id=>{const cacheKey=\"doctor_\".concat(id);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors/\").concat(id),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch doctor');}const data=await response.json();setCachedData(cacheKey,data);return data;};export const createDoctor=async doctor=>{// Sanitize inputs\nconst sanitizedDoctor=sanitizeObject(doctor);const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors\"),{method:'POST',headers:getHeaders(),body:JSON.stringify(sanitizedDoctor)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to create doctor');}const data=await response.json();// Clear cache for doctors\nclearCache('doctors');return data;};export const updateDoctor=async(id,doctor)=>{// Sanitize inputs\nconst sanitizedDoctor=sanitizeObject(doctor);const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors/\").concat(id),{method:'PUT',headers:getHeaders(),body:JSON.stringify(sanitizedDoctor)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to update doctor');}const data=await response.json();// Clear cache for doctors\nclearCache('doctors');return data;};export const deleteDoctor=async id=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors/\").concat(id),{method:'DELETE',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to delete doctor');}const data=await response.json();// Clear cache for doctors\nclearCache('doctors');return data;};// Get assigned workplaces for a doctor\nexport const getDoctorAssignedWorkplaces=async doctorId=>{const cacheKey=\"doctor_assigned_workplaces_\".concat(doctorId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/doctors/\").concat(doctorId,\"/assigned-workplaces\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch assigned workplaces for doctor');}const data=await response.json();setCachedData(cacheKey,data);return data;};// DSPs\nexport const getAllDsps=async()=>{const cacheKey='dsps';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch DSPs');}const data=await response.json();console.log('getAllDsps response:',data);setCachedData(cacheKey,data);return data;};export const getDspById=async id=>{const cacheKey=\"dsp_\".concat(id);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps/\").concat(id),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch DSP');}const data=await response.json();setCachedData(cacheKey,data);return data;};export const createDsp=async dsp=>{// Sanitize inputs\nconst sanitizedDsp=sanitizeObject(dsp);const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps\"),{method:'POST',headers:getHeaders(),body:JSON.stringify(sanitizedDsp)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to create DSP');}const data=await response.json();// Clear cache for dsps\nclearCache('dsps');return data;};export const updateDsp=async(id,dsp)=>{// Sanitize inputs\nconst sanitizedDsp=sanitizeObject(dsp);const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps/\").concat(id),{method:'PUT',headers:getHeaders(),body:JSON.stringify(sanitizedDsp)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to update DSP');}const data=await response.json();// Clear cache for dsps\nclearCache('dsps');return data;};export const deleteDsp=async id=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps/\").concat(id),{method:'DELETE',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to delete DSP');}const data=await response.json();// Clear cache for dsps\nclearCache('dsps');return data;};// Get assigned workplaces for a DSP\nexport const getDspAssignedWorkplaces=async dspId=>{const cacheKey=\"dsp_assigned_workplaces_\".concat(dspId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/dsps/\").concat(dspId,\"/assigned-workplaces\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch assigned workplaces for DSP');}const data=await response.json();setCachedData(cacheKey,data);return data;};// Visits\nexport const getExpertVisits=async expertId=>{const cacheKey=\"expert_visits_\".concat(expertId);const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/experts/\").concat(expertId,\"/visit-summary\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch expert visits');}const data=await response.json();setCachedData(cacheKey,data);return data;};export const updateVisitStatus=async(expertId,workplaceId,month,visited)=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/visits/experts/\").concat(expertId,\"/workplaces/\").concat(workplaceId,\"/visits\"),{method:'POST',headers:getHeaders(),body:JSON.stringify({visitMonth:month,visited,visitDate:new Date().toISOString()})});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to update visit status');}const data=await response.json();// Clear cache for visits\nclearCache('expert_visits');return data;};// Get all visits\nexport const getAllVisits=async()=>{const cacheKey='all_visits';const cached=getCachedData(cacheKey);if(cached){return cached;}const response=await fetch(\"\".concat(API_BASE_URL,\"/visits\"),{method:'GET',headers:getHeaders()});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Failed to fetch visits');}const data=await response.json();setCachedData(cacheKey,data);return data;};// Set authentication token\nexport const setAuthToken=token=>{authToken=token;};// Set organization ID\nexport const setOrganizationId=orgId=>{organizationId=orgId;};// Clear all cache\nexport const clearAllCache=()=>{apiCache.clear();};","map":{"version":3,"names":["API_BASE_URL","authToken","organizationId","RATE_LIMIT_WINDOW","MAX_REQUESTS","requestTimestamps","checkRateLimit","now","Date","length","shift","Error","push","sanitizeInput","input","div","document","createElement","textContent","innerHTML","sanitizeObject","obj","Array","isArray","map","sanitized","key","hasOwnProperty","apiCache","Map","CACHE_TTL","getCachedData","cached","get","timestamp","data","delete","setCachedData","set","clearCache","pattern","keys","from","matchingKeys","filter","includes","forEach","getHeaders","contentType","arguments","undefined","headers","concat","toString","login","username","password","_data$user","sanitizedUsername","sanitizedPassword","response","fetch","method","body","JSON","stringify","ok","errorData","json","catch","message","token","setAuthToken","user","setOrganizationId","register","userData","_data$user2","sanitizedData","getCurrentUser","cacheKey","getAllWorkplaces","console","log","getWorkplaceById","id","createWorkplace","workplace","workplaceData","_objectSpread","assignedExpertId","assignedDoctorId","assignedDspId","trackingExpertId","errorMessage","status","statusText","updateWorkplace","Object","deleteWorkplace","getAvailableExperts","workplaceId","getAvailableDoctors","getAvailableDsps","getAllExperts","getExpertById","createExpert","expert","sanitizedExpert","updateExpert","deleteExpert","getExpertAssignedWorkplaces","expertId","getAllDoctors","getDoctorById","createDoctor","doctor","sanitizedDoctor","updateDoctor","deleteDoctor","getDoctorAssignedWorkplaces","doctorId","getAllDsps","getDspById","createDsp","dsp","sanitizedDsp","updateDsp","deleteDsp","getDspAssignedWorkplaces","dspId","getExpertVisits","updateVisitStatus","month","visited","visitMonth","visitDate","toISOString","getAllVisits","orgId","clearAllCache","clear"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/services/api.ts"],"sourcesContent":["// Updated API service with authentication support\r\nconst API_BASE_URL = 'http://localhost:5002/api';\r\n\r\n// Store token in memory (in a real app, you might want to use localStorage)\r\nlet authToken: string | null = null;\r\nlet organizationId: number | null = null;\r\n\r\n// Rate limiting\r\nconst RATE_LIMIT_WINDOW = 60000; // 1 minute\r\nconst MAX_REQUESTS = 100;\r\nconst requestTimestamps: number[] = [];\r\n\r\nconst checkRateLimit = () => {\r\n  const now = Date.now();\r\n  // Remove timestamps older than the window\r\n  while (requestTimestamps.length > 0 && requestTimestamps[0] < now - RATE_LIMIT_WINDOW) {\r\n    requestTimestamps.shift();\r\n  }\r\n  \r\n  // Check if we've exceeded the limit\r\n  if (requestTimestamps.length >= MAX_REQUESTS) {\r\n    throw new Error('Rate limit exceeded. Please try again later.');\r\n  }\r\n  \r\n  // Add current timestamp\r\n  requestTimestamps.push(now);\r\n};\r\n\r\n// Input sanitization to prevent XSS\r\nconst sanitizeInput = (input: string): string => {\r\n  const div = document.createElement('div');\r\n  div.textContent = input;\r\n  return div.innerHTML;\r\n};\r\n\r\nconst sanitizeObject = (obj: any): any => {\r\n  if (typeof obj === 'string') {\r\n    return sanitizeInput(obj);\r\n  }\r\n  \r\n  if (Array.isArray(obj)) {\r\n    return obj.map(sanitizeObject);\r\n  }\r\n  \r\n  if (obj && typeof obj === 'object') {\r\n    const sanitized: any = {};\r\n    for (const key in obj) {\r\n      if (obj.hasOwnProperty(key)) {\r\n        sanitized[key] = sanitizeObject(obj[key]);\r\n      }\r\n    }\r\n    return sanitized;\r\n  }\r\n  \r\n  return obj;\r\n};\r\n\r\n// Simple in-memory cache\r\nconst apiCache = new Map<string, { data: any; timestamp: number }>();\r\nconst CACHE_TTL = 5 * 60 * 1000; // 5 minutes\r\n\r\nconst getCachedData = (key: string) => {\r\n  const cached = apiCache.get(key);\r\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\r\n    return cached.data;\r\n  }\r\n  apiCache.delete(key);\r\n  return null;\r\n};\r\n\r\nconst setCachedData = (key: string, data: any) => {\r\n  apiCache.set(key, { data, timestamp: Date.now() });\r\n};\r\n\r\nconst clearCache = (pattern: string) => {\r\n  const keys = Array.from(apiCache.keys());\r\n  const matchingKeys = keys.filter(key => key.includes(pattern));\r\n  matchingKeys.forEach(key => apiCache.delete(key));\r\n};\r\n\r\n// Create headers with authentication\r\nconst getHeaders = (contentType: string = 'application/json') => {\r\n  // Check rate limit before each request\r\n  checkRateLimit();\r\n  \r\n  const headers: Record<string, string> = {\r\n    'Content-Type': contentType,\r\n  };\r\n  \r\n  if (authToken) {\r\n    headers['Authorization'] = `Bearer ${authToken}`;\r\n  }\r\n  \r\n  if (organizationId) {\r\n    headers['x-organization-id'] = organizationId.toString();\r\n  }\r\n  \r\n  return headers;\r\n};\r\n\r\n// User authentication\r\nexport const login = async (username: string, password: string) => {\r\n  // Sanitize inputs\r\n  const sanitizedUsername = sanitizeInput(username);\r\n  const sanitizedPassword = sanitizeInput(password);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/auth/login`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify({ username: sanitizedUsername, password: sanitizedPassword }),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Login failed');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Set auth token if provided\r\n  if (data.token) {\r\n    setAuthToken(data.token);\r\n  }\r\n  \r\n  // Set organization ID if provided\r\n  if (data.user?.organizationId) {\r\n    setOrganizationId(data.user.organizationId);\r\n  }\r\n  \r\n  return data;\r\n};\r\n\r\nexport const register = async (userData: { username: string; password: string; fullName: string }) => {\r\n  // Sanitize inputs\r\n  const sanitizedData = sanitizeObject(userData);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/auth/register`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedData),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Registration failed');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Set auth token if provided\r\n  if (data.token) {\r\n    setAuthToken(data.token);\r\n  }\r\n  \r\n  // Set organization ID if provided\r\n  if (data.user?.organizationId) {\r\n    setOrganizationId(data.user.organizationId);\r\n  }\r\n  \r\n  return data;\r\n};\r\n\r\n// Get current user profile\r\nexport const getCurrentUser = async () => {\r\n  const cacheKey = 'current_user';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/auth/me`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch user profile');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Workplaces\r\nexport const getAllWorkplaces = async () => {\r\n  const cacheKey = 'workplaces';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/workplaces`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch workplaces');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  console.log('getAllWorkplaces response:', data);\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const getWorkplaceById = async (id: number) => {\r\n  const cacheKey = `workplace_${id}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${id}`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch workplace');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const createWorkplace = async (workplace: any) => {\r\n  // Handle null values for assigned IDs\r\n  const workplaceData = {\r\n    ...workplace,\r\n    assignedExpertId: workplace.assignedExpertId || null,\r\n    assignedDoctorId: workplace.assignedDoctorId || null,\r\n    assignedDspId: workplace.assignedDspId || null,\r\n    trackingExpertId: workplace.trackingExpertId || null\r\n  };\r\n\r\n  // Sanitize inputs\r\n  const sanitizedData = sanitizeObject(workplaceData);\r\n\r\n  const response = await fetch(`${API_BASE_URL}/workplaces`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedData),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to create workplace: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  console.log('createWorkplace response:', data);\r\n  \r\n  // Clear cache for workplaces\r\n  clearCache('workplaces');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const updateWorkplace = async (id: number, workplace: any) => {\r\n  // Handle null values for assigned IDs\r\n  const workplaceData: Record<string, any> = {\r\n    ...workplace,\r\n    assignedExpertId: workplace.assignedExpertId || null,\r\n    assignedDoctorId: workplace.assignedDoctorId || null,\r\n    assignedDspId: workplace.assignedDspId || null,\r\n    trackingExpertId: workplace.trackingExpertId || null\r\n  };\r\n\r\n  // Remove any undefined values\r\n  Object.keys(workplaceData).forEach(key => \r\n    workplaceData[key] === undefined && delete workplaceData[key]\r\n  );\r\n\r\n  // Sanitize inputs\r\n  const sanitizedData = sanitizeObject(workplaceData);\r\n\r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${id}`, {\r\n    method: 'PUT',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedData),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to update workplace: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for workplaces\r\n  clearCache('workplaces');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const deleteWorkplace = async (id: number) => {\r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${id}`, {\r\n    method: 'DELETE',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to delete workplace');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for workplaces\r\n  clearCache('workplaces');\r\n  \r\n  return data;\r\n};\r\n\r\n// Get available experts for a workplace based on risk level and employee count\r\nexport const getAvailableExperts = async (workplaceId: number) => {\r\n  const cacheKey = `available_experts_${workplaceId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${workplaceId}/available-experts`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to fetch available experts: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Get available doctors for a workplace based on risk level and employee count\r\nexport const getAvailableDoctors = async (workplaceId: number) => {\r\n  const cacheKey = `available_doctors_${workplaceId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${workplaceId}/available-doctors`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to fetch available doctors: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Get available DSPs for a workplace based on risk level and employee count\r\nexport const getAvailableDsps = async (workplaceId: number) => {\r\n  const cacheKey = `available_dsps_${workplaceId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/workplaces/${workplaceId}/available-dsps`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to fetch available DSPs: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Experts\r\nexport const getAllExperts = async () => {\r\n  const cacheKey = 'experts';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to fetch experts: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  console.log('getAllExperts response:', data);\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const getExpertById = async (id: number) => {\r\n  const cacheKey = `expert_${id}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts/${id}`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch expert');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const createExpert = async (expert: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedExpert = sanitizeObject(expert);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedExpert),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to create expert: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for experts\r\n  clearCache('experts');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const updateExpert = async (id: number, expert: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedExpert = sanitizeObject(expert);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts/${id}`, {\r\n    method: 'PUT',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedExpert),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    const errorMessage = errorData.message || `Failed to update expert: ${response.status} ${response.statusText}`;\r\n    throw new Error(errorMessage);\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for experts\r\n  clearCache('experts');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const deleteExpert = async (id: number) => {\r\n  const response = await fetch(`${API_BASE_URL}/experts/${id}`, {\r\n    method: 'DELETE',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to delete expert');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for experts\r\n  clearCache('experts');\r\n  \r\n  return data;\r\n};\r\n\r\n// Get assigned workplaces for an expert\r\nexport const getExpertAssignedWorkplaces = async (expertId: number) => {\r\n  const cacheKey = `expert_assigned_workplaces_${expertId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts/${expertId}/assigned-workplaces`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch assigned workplaces for expert');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Doctors\r\nexport const getAllDoctors = async () => {\r\n  const cacheKey = 'doctors';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/doctors`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch doctors');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  console.log('getAllDoctors response:', data);\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const getDoctorById = async (id: number) => {\r\n  const cacheKey = `doctor_${id}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/doctors/${id}`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch doctor');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const createDoctor = async (doctor: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedDoctor = sanitizeObject(doctor);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/doctors`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedDoctor),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to create doctor');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for doctors\r\n  clearCache('doctors');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const updateDoctor = async (id: number, doctor: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedDoctor = sanitizeObject(doctor);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/doctors/${id}`, {\r\n    method: 'PUT',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedDoctor),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to update doctor');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for doctors\r\n  clearCache('doctors');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const deleteDoctor = async (id: number) => {\r\n  const response = await fetch(`${API_BASE_URL}/doctors/${id}`, {\r\n    method: 'DELETE',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to delete doctor');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for doctors\r\n  clearCache('doctors');\r\n  \r\n  return data;\r\n};\r\n\r\n// Get assigned workplaces for a doctor\r\nexport const getDoctorAssignedWorkplaces = async (doctorId: number) => {\r\n  const cacheKey = `doctor_assigned_workplaces_${doctorId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/doctors/${doctorId}/assigned-workplaces`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch assigned workplaces for doctor');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// DSPs\r\nexport const getAllDsps = async () => {\r\n  const cacheKey = 'dsps';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/dsps`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch DSPs');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  console.log('getAllDsps response:', data);\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const getDspById = async (id: number) => {\r\n  const cacheKey = `dsp_${id}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/dsps/${id}`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch DSP');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const createDsp = async (dsp: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedDsp = sanitizeObject(dsp);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/dsps`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedDsp),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to create DSP');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for dsps\r\n  clearCache('dsps');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const updateDsp = async (id: number, dsp: any) => {\r\n  // Sanitize inputs\r\n  const sanitizedDsp = sanitizeObject(dsp);\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/dsps/${id}`, {\r\n    method: 'PUT',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify(sanitizedDsp),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to update DSP');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for dsps\r\n  clearCache('dsps');\r\n  \r\n  return data;\r\n};\r\n\r\nexport const deleteDsp = async (id: number) => {\r\n  const response = await fetch(`${API_BASE_URL}/dsps/${id}`, {\r\n    method: 'DELETE',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to delete DSP');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for dsps\r\n  clearCache('dsps');\r\n  \r\n  return data;\r\n};\r\n\r\n// Get assigned workplaces for a DSP\r\nexport const getDspAssignedWorkplaces = async (dspId: number) => {\r\n  const cacheKey = `dsp_assigned_workplaces_${dspId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/dsps/${dspId}/assigned-workplaces`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch assigned workplaces for DSP');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Visits\r\nexport const getExpertVisits = async (expertId: number) => {\r\n  const cacheKey = `expert_visits_${expertId}`;\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/experts/${expertId}/visit-summary`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch expert visits');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\nexport const updateVisitStatus = async (expertId: number, workplaceId: number, month: string, visited: boolean) => {\r\n  const response = await fetch(`${API_BASE_URL}/visits/experts/${expertId}/workplaces/${workplaceId}/visits`, {\r\n    method: 'POST',\r\n    headers: getHeaders(),\r\n    body: JSON.stringify({ visitMonth: month, visited, visitDate: new Date().toISOString() }),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to update visit status');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  \r\n  // Clear cache for visits\r\n  clearCache('expert_visits');\r\n  \r\n  return data;\r\n};\r\n\r\n// Get all visits\r\nexport const getAllVisits = async () => {\r\n  const cacheKey = 'all_visits';\r\n  const cached = getCachedData(cacheKey);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/visits`, {\r\n    method: 'GET',\r\n    headers: getHeaders(),\r\n  });\r\n  \r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    throw new Error(errorData.message || 'Failed to fetch visits');\r\n  }\r\n  \r\n  const data = await response.json();\r\n  setCachedData(cacheKey, data);\r\n  return data;\r\n};\r\n\r\n// Set authentication token\r\nexport const setAuthToken = (token: string) => {\r\n  authToken = token;\r\n};\r\n\r\n// Set organization ID\r\nexport const setOrganizationId = (orgId: number) => {\r\n  organizationId = orgId;\r\n};\r\n\r\n// Clear all cache\r\nexport const clearAllCache = () => {\r\n  apiCache.clear();\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}