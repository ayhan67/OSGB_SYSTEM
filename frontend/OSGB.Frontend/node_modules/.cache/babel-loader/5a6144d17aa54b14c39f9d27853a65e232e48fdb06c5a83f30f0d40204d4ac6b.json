{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{createExpert,getAllExperts,deleteExpert,updateExpert,getExpertAssignedWorkplaces}from'../services/api';import'./ExpertCardPage.css';import{useNavigate,useLocation}from'react-router-dom';import AssignedWorkplacesModal from'./AssignedWorkplacesModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ExpertCardPage=()=>{const[formData,setFormData]=useState({firstName:'',lastName:'',phone:'',expertiseClass:'A',assignedMinutes:11900});const[experts,setExperts]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');// Load saved positions from localStorage or use defaults\nconst getSavedCardState=cardType=>{try{const savedState=localStorage.getItem(\"expertCard_\".concat(cardType,\"_state\"));if(savedState){const parsedState=JSON.parse(savedState);// Validate that the parsed state has the required properties\nif(typeof parsedState==='object'&&parsedState!==null&&'x'in parsedState&&'y'in parsedState&&'width'in parsedState&&'height'in parsedState){return _objectSpread(_objectSpread({},parsedState),{},{isDragging:false,isResizing:false,resizeDirection:'',dragStartX:0,dragStartY:0,resizeStartX:0,resizeStartY:0});}}}catch(e){// If there's an error parsing, we'll use the default state\nconsole.warn(\"Failed to parse saved state for \".concat(cardType,\" card, using defaults\"));}// Default positions\nif(cardType==='new'){return{x:50,y:50,// Changed from -175 to 50 to avoid covering navbar\nwidth:400,height:500,isDragging:false,isResizing:false,resizeDirection:'',dragStartX:0,dragStartY:0,resizeStartX:0,resizeStartY:0,originalX:50,originalY:50,// Changed from -175 to 50 to avoid covering navbar\noriginalWidth:400,originalHeight:500};}else{return{x:500,y:50,// Changed from -175 to 50 to avoid covering navbar\nwidth:500,height:500,isDragging:false,isResizing:false,resizeDirection:'',dragStartX:0,dragStartY:0,resizeStartX:0,resizeStartY:0,originalX:500,originalY:50,// Changed from -175 to 50 to avoid covering navbar\noriginalWidth:500,originalHeight:500};}};// Get saved modal state or use defaults\nconst getSavedModalState=()=>{try{const savedState=localStorage.getItem('expertModal_state');if(savedState){const parsedState=JSON.parse(savedState);// Validate that the parsed state has the required properties\nif(typeof parsedState==='object'&&parsedState!==null&&'width'in parsedState&&'height'in parsedState){return _objectSpread(_objectSpread({},parsedState),{},{isResizing:false,resizeDirection:'',resizeStartX:0,resizeStartY:0,originalWidth:parsedState.width,originalHeight:parsedState.height});}}}catch(e){console.warn('Failed to parse saved modal state, using defaults');}// Default modal size with centered position\nconst defaultWidth=400;const defaultHeight=500;return{width:defaultWidth,height:defaultHeight,originalX:(window.innerWidth-defaultWidth)/2,originalY:(window.innerHeight-defaultHeight)/2,isResizing:false,resizeDirection:'',resizeStartX:0,resizeStartY:0,originalWidth:defaultWidth,originalHeight:defaultHeight};};// State for Expert Modal\nconst[modalState,setModalState]=useState(getSavedModalState());const navigate=useNavigate();const location=useLocation();// Validation functions\nconst isValidName=name=>{return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);};const isValidPhone=phone=>{return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);};// Format phone number as user types\nconst formatPhoneNumber=value=>{// Remove all non-digit characters\nconst digits=value.replace(/\\D/g,'');// Limit to 10 digits\nconst limitedDigits=digits.substring(0,10);// Format as 5xx xxx xx xx\nlet formatted='';for(let i=0;i<limitedDigits.length;i++){if(i===3||i===6||i===8){formatted+=' ';}formatted+=limitedDigits[i];}return formatted;};// Function to handle clicking on an expert row\n// This function opens the expert details modal when an expert row is clicked\nconst handleExpertClick=expert=>{openExpertDetails(expert);};useEffect(()=>{fetchExperts();},[]);// Add useEffect to refresh data when location changes (navigation)\nuseEffect(()=>{console.log('ExpertCardPage: Location changed to:',location.pathname,'at:',new Date().toISOString());fetchExperts();},[location.pathname]);// Add useEffect to refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('ExpertCardPage: Window focused, refreshing experts...');fetchExperts();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[]);// Add useEffect to refresh data when workplace is created\nuseEffect(()=>{const handleWorkplaceCreated=()=>{console.log('ExpertCardPage: Workplace created, refreshing experts...');fetchExperts();};window.addEventListener('workplaceCreated',handleWorkplaceCreated);return()=>{window.removeEventListener('workplaceCreated',handleWorkplaceCreated);};},[]);// Add useEffect to refresh data when component mounts\nuseEffect(()=>{console.log('ExpertCardPage: Component mounted, fetching experts...');fetchExperts();},[]);const fetchExperts=async()=>{try{const data=await getAllExperts();setExperts(data);}catch(err){console.error('Uzmanlar getirilirken hata oluştu:',err);setError(err.message||'Uzmanlar getirilirken hata oluştu');}};const handleChange=e=>{const{name,value}=e.target;// Special handling for name fields - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?parseInt(value):value}));}};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');// Validation checks\nif(!isValidName(formData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(formData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(formData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}if(formData.assignedMinutes>11900){setError('Atanan dakika 11.900\\'ü geçemez');clearNotifications();return;}try{await createExpert(formData);setSuccess('Uzman başarıyla kaydedildi!');setFormData({firstName:'',lastName:'',phone:'',expertiseClass:'A',assignedMinutes:11900});// Refresh the experts list\nfetchExperts();clearNotifications();}catch(err){console.error('Create expert error:',err);const errorMessage=err.message||'Uzman kaydedilirken hata oluştu';setError(errorMessage);clearNotifications();}};// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};const handleDelete=async id=>{// Show confirmation dialog before deleting\nconst confirmed=window.confirm('Bu uzman kaydını silmek istediğinize emin misiniz?');if(!confirmed){return;// User cancelled the deletion\n}try{await deleteExpert(id);setSuccess('Uzman başarıyla silindi!');// Refresh the experts list\nfetchExperts();// Close modal if it was open for this expert\nif(selectedExpert&&selectedExpert.id===id){setIsModalOpen(false);setSelectedExpert(null);}clearNotifications();}catch(err){console.error('Delete error:',err);const errorMessage=err.message||'Uzman silinirken hata oluştu';setError(errorMessage);clearNotifications();}};const handleClose=()=>{// Redirect to dashboard\nnavigate('/');};// Function to open modal with expert details\nconst openExpertDetails=async expert=>{// Fetch assigned workplaces when opening the expert details modal\ntry{const workplaces=await getExpertAssignedWorkplaces(expert.id);setAssignedWorkplaces(workplaces);setSelectedExpertForWorkplaces(expert);}catch(error){console.error('Error fetching assigned workplaces:',error);setAssignedWorkplaces([]);}setSelectedExpert(expert);setIsEditMode(false);setIsModalOpen(true);// Reset modal position to center when opening\nconst defaultWidth=100;const defaultHeight=500;setModalState(prev=>_objectSpread(_objectSpread({},prev),{},{width:defaultWidth,height:defaultHeight,originalX:(window.innerWidth-defaultWidth)/2,originalY:(window.innerHeight-defaultHeight)/2,originalWidth:defaultWidth,originalHeight:defaultHeight}));};// Function to open modal in edit mode\nconst openEditExpert=expert=>{setSelectedExpert(expert);setEditFormData({firstName:expert.firstName||'',lastName:expert.lastName||'',phone:expert.phone||'',expertiseClass:expert.expertiseClass||'A',assignedMinutes:expert.assignedMinutes||11900});setIsEditMode(true);setIsModalOpen(true);// Reset modal position to center when opening\nconst defaultWidth=100;const defaultHeight=500;setModalState(prev=>_objectSpread(_objectSpread({},prev),{},{width:defaultWidth,height:defaultHeight,originalX:(window.innerWidth-defaultWidth)/2,originalY:(window.innerHeight-defaultHeight)/2,originalWidth:defaultWidth,originalHeight:defaultHeight}));};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setSelectedExpert(null);setIsEditMode(false);};// Function to handle edit action from modal\nconst handleEditExpert=async expert=>{// This function was a placeholder, but we'll keep it for consistency\n// The actual update is handled by handleUpdateExpert\nconsole.log('Edit expert called for:',expert);};// State for modal dialog\nconst[selectedExpert,setSelectedExpert]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[isEditMode,setIsEditMode]=useState(false);// State for edit form data\nconst[editFormData,setEditFormData]=useState({firstName:'',lastName:'',phone:'',expertiseClass:'A',assignedMinutes:11900});const handleEditFormDataChange=e=>{const{name,value}=e.target;// Special handling for name fields in edit form - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting in edit form\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?parseInt(value):value}));}};const handleUpdateExpert=async e=>{e.preventDefault();if(!selectedExpert)return;// Validation checks for edit form\nif(!isValidName(editFormData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(editFormData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(editFormData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}try{await updateExpert(selectedExpert.id,editFormData);setSuccess('Uzman başarıyla güncellendi!');closeModal();fetchExperts();// Refresh the experts list\nclearNotifications();}catch(err){console.error('Update error:',err);const errorMessage=err.message||'Uzman güncellenirken hata oluştu';setError(errorMessage);clearNotifications();}};const handleEdit=async id=>{// Find the expert by id\nconst expert=experts.find(exp=>exp.id===id);if(expert){openEditExpert(expert);}else{setError('Uzman bulunamadı');}};// Mouse event handlers\nconst handleMouseDown=function(e,cardType,action){let direction=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';e.preventDefault();e.stopPropagation();// Only support drag and resize for modal since main cards are fixed\nif(cardType==='modal'){if(action==='drag'){// For modal dragging, we need to get the current position\nsetModalState(prev=>_objectSpread(_objectSpread({},prev),{},{isDragging:true,dragStartX:e.clientX-(prev.originalX||0),dragStartY:e.clientY-(prev.originalY||0)}));}else if(action==='resize'){// Get the current modal position relative to the viewport\nconst modalElement=e.currentTarget.closest('.modal-content');if(modalElement){const rect=modalElement.getBoundingClientRect();const currentX=rect.left;const currentY=rect.top;setModalState(prev=>_objectSpread(_objectSpread({},prev),{},{isResizing:true,resizeDirection:direction,resizeStartX:e.clientX,resizeStartY:e.clientY,originalX:currentX,originalY:currentY,originalWidth:prev.width,originalHeight:prev.height}));}}// Ensure global event listeners are attached\ndocument.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);}// Ignore drag and resize for 'new' and 'list' cards since they are fixed\n};const handleMouseMove=e=>{// Handle resizing for Expert Modal\nif(modalState.isResizing){const deltaX=e.clientX-modalState.resizeStartX;const deltaY=e.clientY-modalState.resizeStartY;let newWidth=modalState.originalWidth;let newHeight=modalState.originalHeight;let newX=modalState.originalX||0;let newY=modalState.originalY||0;// Handle different resize directions\nif(modalState.resizeDirection.includes('right')){newWidth=Math.max(300,modalState.originalWidth+deltaX);}if(modalState.resizeDirection.includes('left')){newWidth=Math.max(300,modalState.originalWidth-deltaX);newX=modalState.originalX+deltaX;}if(modalState.resizeDirection.includes('bottom')){newHeight=Math.max(200,modalState.originalHeight+deltaY);}if(modalState.resizeDirection.includes('top')){newHeight=Math.max(200,modalState.originalHeight-deltaY);newY=modalState.originalY+deltaY;}setModalState(prev=>_objectSpread(_objectSpread({},prev),{},{width:newWidth,height:newHeight,originalWidth:newWidth,originalHeight:newHeight,originalX:newX,originalY:newY}));}// Handle dragging for Expert Modal\nif(modalState.isDragging){const newX=e.clientX-modalState.dragStartX;const newY=e.clientY-modalState.dragStartY;setModalState(prev=>_objectSpread(_objectSpread({},prev),{},{originalX:newX,originalY:newY}));}};const handleMouseUp=()=>{setModalState(prev=>{const newState=_objectSpread(_objectSpread({},prev),{},{isDragging:false,isResizing:false,resizeDirection:''});// Save the modal state to localStorage\nlocalStorage.setItem('expertModal_state',JSON.stringify(newState));return newState;});};useEffect(()=>{// Define cleanup function\nconst cleanup=()=>{document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);};// Always remove any existing listeners first to ensure clean state\ncleanup();// Only add global event listeners when actually needed\nif(modalState.isDragging||modalState.isResizing){document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);}// Cleanup function to remove event listeners when component unmounts or dependencies change\nreturn cleanup;},[modalState.isDragging,modalState.isResizing]);// Calculate statistics for the new card\nconst calculateExpertStats=()=>{const stats={aClassCount:0,bClassCount:0,cClassCount:0,aClassMinutes:0,bClassMinutes:0,cClassMinutes:0,aClassRemaining:0,bClassRemaining:0,cClassRemaining:0};experts.forEach(expert=>{switch(expert.expertiseClass){case'A':stats.aClassCount++;stats.aClassMinutes+=expert.assignedMinutes||0;stats.aClassRemaining+=expert.assignedMinutes||0;break;case'B':stats.bClassCount++;stats.bClassMinutes+=expert.assignedMinutes||0;stats.bClassRemaining+=expert.assignedMinutes||0;break;case'C':stats.cClassCount++;stats.cClassMinutes+=expert.assignedMinutes||0;stats.cClassRemaining+=expert.assignedMinutes||0;break;}});return stats;};const expertStats=calculateExpertStats();// State for assigned workplaces modal\nconst[isAssignedWorkplacesModalOpen,setIsAssignedWorkplacesModalOpen]=useState(false);const[assignedWorkplaces,setAssignedWorkplaces]=useState([]);const[selectedExpertForWorkplaces,setSelectedExpertForWorkplaces]=useState(null);// Function to open assigned workplaces modal\nconst openAssignedWorkplacesModal=async expert=>{try{const workplaces=await getExpertAssignedWorkplaces(expert.id);setAssignedWorkplaces(workplaces);setSelectedExpertForWorkplaces(expert);setIsAssignedWorkplacesModalOpen(true);}catch(error){console.error('Error fetching assigned workplaces:',error);// Show error message\n}};// Function to close assigned workplaces modal\nconst closeAssignedWorkplacesModal=()=>{setIsAssignedWorkplacesModalOpen(false);// Don't clear assignedWorkplaces to keep the \"Gör\" button visible\n// setAssignedWorkplaces([]);\nsetSelectedExpertForWorkplaces(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"expert-card-page\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',left:65,top:-90,width:375,height:375,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"Yeni Uzman Kay\\u0131t\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"registration-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:formData.firstName,onChange:handleChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:formData.lastName,onChange:handleChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:formData.phone,onChange:handleChange,placeholder:\"5xx xxx xx xx\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Uzmanl\\u0131k S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"expertiseClass\",className:\"form-select\",value:formData.expertiseClass,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"A S\\u0131n\\u0131f\\u0131\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B\",children:\"B S\\u0131n\\u0131f\\u0131\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C\",children:\"C S\\u0131n\\u0131f\\u0131\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:formData.assignedMinutes,onChange:handleChange,min:\"0\",max:\"11900\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Uzman\\u0131 Kaydet\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',right:70,// Positioned to the right edge of the page\ntop:-90,width:300,height:500,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"Uzman \\u0130statistikleri\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible',padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131tl\\u0131 Uzman Say\\u0131lar\\u0131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"A S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.aClassCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"B S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.bClassCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"C S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.cClassCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tan\\u0131mlanan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"A S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.aClassMinutes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"B S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.bClassMinutes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"C S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.cClassMinutes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kalan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"A S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.aClassRemaining})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"B S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.bClassRemaining})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"C S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:expertStats.cClassRemaining})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"registered-experts-container\",style:{position:'absolute',right:'70px',top:'100px',width:'400px'// Reduced width from 400px to 300px\n},children:experts.map(expert=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleExpertClick(expert),style:_objectSpread(_objectSpread(_objectSpread({display:'flex',justifyContent:'space-between',alignItems:'center',padding:'8px',margin:'10px 0',borderRadius:'8px',cursor:'pointer',transition:'all 0.3s ease',// Reset positioning to normal size and remove previous offsets\nposition:'relative',top:'-100px',left:'-400px',width:'100%'},expert.expertiseClass==='A'&&{backgroundColor:'#ffcdd2'// More vibrant red for A class\n}),expert.expertiseClass==='B'&&{backgroundColor:'#bbdefb'// Blue for B class\n}),expert.expertiseClass==='C'&&{backgroundColor:'#c8e6c9'// More vibrant green for C class\n}),onMouseEnter:e=>{// Enhanced hover effect with color changes\nif(expert.expertiseClass==='A'){e.currentTarget.style.backgroundColor='#ef9a9a';// Even more vibrant red on hover\ne.currentTarget.style.boxShadow='0 4px 8px rgba(211, 47, 47, 0.3)';e.currentTarget.style.transform='translateY(-2px)';}else if(expert.expertiseClass==='B'){e.currentTarget.style.backgroundColor='#90caf9';// More vibrant blue on hover\ne.currentTarget.style.boxShadow='0 4px 8px rgba(33, 150, 243, 0.3)';e.currentTarget.style.transform='translateY(-2px)';}else if(expert.expertiseClass==='C'){e.currentTarget.style.backgroundColor='#a5d6a7';// Even more vibrant green on hover\ne.currentTarget.style.boxShadow='0 4px 8px rgba(56, 142, 60, 0.3)';e.currentTarget.style.transform='translateY(-2px)';}},onMouseLeave:e=>{// Reset to original colors when not hovering\nif(expert.expertiseClass==='A'){e.currentTarget.style.backgroundColor='#ffcdd2';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';}else if(expert.expertiseClass==='B'){e.currentTarget.style.backgroundColor='#bbdefb';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';}else if(expert.expertiseClass==='C'){e.currentTarget.style.backgroundColor='#c8e6c9';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-info-display\",style:{fontSize:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-name-display\",children:[expert.firstName,\" \",expert.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-phone-display\",children:expert.phone})]}),/*#__PURE__*/_jsx(\"div\",{className:\"expert-class-display\",style:_objectSpread(_objectSpread(_objectSpread({},expert.expertiseClass==='A'&&{backgroundColor:'#d32f2f',color:'white'}),expert.expertiseClass==='B'&&{backgroundColor:'#1976d2',color:'white'}),expert.expertiseClass==='C'&&{backgroundColor:'#388e3c',color:'white'}),children:expert.expertiseClass})]},expert.id))}),isModalOpen&&selectedExpert&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:e=>{// Only close modal if clicking on the overlay (not the content)\nif(e.target===e.currentTarget){closeModal();}},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content draggable-card\",onClick:e=>e.stopPropagation(),style:{width:modalState.width,height:modalState.height,maxWidth:'90vw',maxHeight:'90vh',position:'absolute',left:'50%',top:'50%',transform:'translate(-50%, -50%)',margin:0,zIndex:2001},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"window-header\",onMouseDown:e=>handleMouseDown(e,'modal','drag'),style:{cursor:'move',userSelect:'none'},children:[/*#__PURE__*/_jsx(\"span\",{children:isEditMode?'Uzmanı Düzenle':'Uzman Detayları'}),/*#__PURE__*/_jsx(\"div\",{className:\"window-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"window-button\",onClick:closeModal,\"aria-label\":\"Kapat\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",children:isEditMode?/*#__PURE__*/// Edit form\n_jsxs(\"form\",{onSubmit:handleUpdateExpert,className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:editFormData.firstName,onChange:handleEditFormDataChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:editFormData.lastName,onChange:handleEditFormDataChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:editFormData.phone,onChange:handleEditFormDataChange,placeholder:\"5xx xxx xx xx\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Uzmanl\\u0131k S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"expertiseClass\",className:\"form-select\",value:editFormData.expertiseClass,onChange:handleEditFormDataChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B\",children:\"B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C\",children:\"C\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:editFormData.assignedMinutes,onChange:handleEditFormDataChange,min:\"0\",max:\"11900\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"G\\xFCncelle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:closeModal,children:\"\\u0130ptal\"})]})]}):/*#__PURE__*/// View mode\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ad:\"}),\" \",selectedExpert.firstName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Soyad:\"}),\" \",selectedExpert.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefon:\"}),\" \",selectedExpert.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Uzmanl\\u0131k S\\u0131n\\u0131f\\u0131:\"}),\" \",selectedExpert.expertiseClass]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Toplam Dakika:\"}),\" \",selectedExpert.assignedMinutes]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kullan\\u0131lan Dakika:\"}),\" \",selectedExpert.usedMinutes||0]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kalan Dakika:\"}),\" \",selectedExpert.assignedMinutes-(selectedExpert.usedMinutes||0)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expert-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Atand\\u0131\\u011F\\u0131 \\u0130\\u015F Yeri:\"}),assignedWorkplaces.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"atand\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{marginTop:'22px',marginLeft:'10px',padding:'1px 14px',fontSize:'15px'},onClick:()=>setIsAssignedWorkplacesModalOpen(true),children:\"g\\xF6r\"})]}):/*#__PURE__*/_jsx(\"span\",{children:\"Atanmam\\u0131\\u015F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>openEditExpert(selectedExpert),children:\"D\\xFCzenle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{const confirmed=window.confirm('Bu uzman kaydını silmek istediğinize emin misiniz?');if(confirmed){handleDelete(selectedExpert.id);}},children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-close\",onClick:closeModal,children:\"Kapat\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-nw\",onMouseDown:e=>handleMouseDown(e,'modal','resize','top-left')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-ne\",onMouseDown:e=>handleMouseDown(e,'modal','resize','top-right')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-sw\",onMouseDown:e=>handleMouseDown(e,'modal','resize','bottom-left')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-se\",onMouseDown:e=>handleMouseDown(e,'modal','resize','bottom-right')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-n\",onMouseDown:e=>handleMouseDown(e,'modal','resize','top')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-s\",onMouseDown:e=>handleMouseDown(e,'modal','resize','bottom')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-w\",onMouseDown:e=>handleMouseDown(e,'modal','resize','left')}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle resize-e\",onMouseDown:e=>handleMouseDown(e,'modal','resize','right')})]})}),/*#__PURE__*/_jsx(AssignedWorkplacesModal,{isOpen:isAssignedWorkplacesModalOpen,onClose:closeAssignedWorkplacesModal,workplaces:assignedWorkplaces,personnelName:selectedExpertForWorkplaces?\"\".concat(selectedExpertForWorkplaces.firstName,\" \").concat(selectedExpertForWorkplaces.lastName):'',personnelType:\"Uzman\"})]});};export default ExpertCardPage;","map":{"version":3,"names":["React","useState","useEffect","createExpert","getAllExperts","deleteExpert","updateExpert","getExpertAssignedWorkplaces","useNavigate","useLocation","AssignedWorkplacesModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ExpertCardPage","formData","setFormData","firstName","lastName","phone","expertiseClass","assignedMinutes","experts","setExperts","success","setSuccess","error","setError","getSavedCardState","cardType","savedState","localStorage","getItem","concat","parsedState","JSON","parse","_objectSpread","isDragging","isResizing","resizeDirection","dragStartX","dragStartY","resizeStartX","resizeStartY","e","console","warn","x","y","width","height","originalX","originalY","originalWidth","originalHeight","getSavedModalState","defaultWidth","defaultHeight","window","innerWidth","innerHeight","modalState","setModalState","navigate","location","isValidName","name","test","isValidPhone","formatPhoneNumber","value","digits","replace","limitedDigits","substring","formatted","i","length","handleExpertClick","expert","openExpertDetails","fetchExperts","log","pathname","Date","toISOString","handleFocus","addEventListener","removeEventListener","handleWorkplaceCreated","data","err","message","handleChange","target","cleanValue","prev","formattedPhone","parseInt","handleSubmit","preventDefault","clearNotifications","errorMessage","setTimeout","handleDelete","id","confirmed","confirm","selectedExpert","setIsModalOpen","setSelectedExpert","handleClose","workplaces","setAssignedWorkplaces","setSelectedExpertForWorkplaces","setIsEditMode","openEditExpert","setEditFormData","closeModal","handleEditExpert","isModalOpen","isEditMode","editFormData","handleEditFormDataChange","handleUpdateExpert","handleEdit","find","exp","handleMouseDown","action","direction","arguments","undefined","stopPropagation","clientX","clientY","modalElement","currentTarget","closest","rect","getBoundingClientRect","currentX","left","currentY","top","document","handleMouseMove","handleMouseUp","deltaX","deltaY","newWidth","newHeight","newX","newY","includes","Math","max","newState","setItem","stringify","cleanup","calculateExpertStats","stats","aClassCount","bClassCount","cClassCount","aClassMinutes","bClassMinutes","cClassMinutes","aClassRemaining","bClassRemaining","cClassRemaining","forEach","expertStats","isAssignedWorkplacesModalOpen","setIsAssignedWorkplacesModalOpen","assignedWorkplaces","selectedExpertForWorkplaces","openAssignedWorkplacesModal","closeAssignedWorkplacesModal","className","children","style","position","zIndex","display","flexDirection","userSelect","flex","overflow","onSubmit","type","onChange","required","placeholder","min","right","padding","map","onClick","justifyContent","alignItems","margin","borderRadius","cursor","transition","backgroundColor","onMouseEnter","boxShadow","transform","onMouseLeave","fontSize","color","maxWidth","maxHeight","onMouseDown","usedMinutes","marginTop","marginLeft","isOpen","onClose","personnelName","personnelType"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/ExpertCardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createExpert, getAllExperts, deleteExpert, updateExpert, getExpertAssignedWorkplaces } from '../services/api';\r\nimport './ExpertCardPage.css';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport AssignedWorkplacesModal from './AssignedWorkplacesModal';\r\n\r\nconst ExpertCardPage = () => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    expertiseClass: 'A',\r\n    assignedMinutes: 11900\r\n  });\r\n  const [experts, setExperts] = useState<any[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  // Load saved positions from localStorage or use defaults\r\n  const getSavedCardState = (cardType: 'new' | 'list') => {\r\n    try {\r\n      const savedState = localStorage.getItem(`expertCard_${cardType}_state`);\r\n      if (savedState) {\r\n        const parsedState = JSON.parse(savedState);\r\n        // Validate that the parsed state has the required properties\r\n        if (typeof parsedState === 'object' && parsedState !== null &&\r\n            'x' in parsedState && 'y' in parsedState && \r\n            'width' in parsedState && 'height' in parsedState) {\r\n          return {\r\n            ...parsedState,\r\n            isDragging: false,\r\n            isResizing: false,\r\n            resizeDirection: '',\r\n            dragStartX: 0,\r\n            dragStartY: 0,\r\n            resizeStartX: 0,\r\n            resizeStartY: 0\r\n          };\r\n        }\r\n      }\r\n    } catch (e) {\r\n      // If there's an error parsing, we'll use the default state\r\n      console.warn(`Failed to parse saved state for ${cardType} card, using defaults`);\r\n    }\r\n    \r\n    // Default positions\r\n    if (cardType === 'new') {\r\n      return {\r\n        x: 50,\r\n        y: 50,  // Changed from -175 to 50 to avoid covering navbar\r\n        width: 400,\r\n        height: 500,\r\n        isDragging: false,\r\n        isResizing: false,\r\n        resizeDirection: '',\r\n        dragStartX: 0,\r\n        dragStartY: 0,\r\n        resizeStartX: 0,\r\n        resizeStartY: 0,\r\n        originalX: 50,\r\n        originalY: 50,  // Changed from -175 to 50 to avoid covering navbar\r\n        originalWidth: 400,\r\n        originalHeight: 500\r\n      };\r\n    } else {\r\n      return {\r\n        x: 500,\r\n        y: 50,  // Changed from -175 to 50 to avoid covering navbar\r\n        width: 500,\r\n        height: 500,\r\n        isDragging: false,\r\n        isResizing: false,\r\n        resizeDirection: '',\r\n        dragStartX: 0,\r\n        dragStartY: 0,\r\n        resizeStartX: 0,\r\n        resizeStartY: 0,\r\n        originalX: 500,\r\n        originalY: 50,  // Changed from -175 to 50 to avoid covering navbar\r\n        originalWidth: 500,\r\n        originalHeight: 500\r\n      };\r\n    }\r\n  };\r\n\r\n  // Get saved modal state or use defaults\r\n  const getSavedModalState = () => {\r\n    try {\r\n      const savedState = localStorage.getItem('expertModal_state');\r\n      if (savedState) {\r\n        const parsedState = JSON.parse(savedState);\r\n        // Validate that the parsed state has the required properties\r\n        if (typeof parsedState === 'object' && parsedState !== null &&\r\n            'width' in parsedState && 'height' in parsedState) {\r\n          return {\r\n            ...parsedState,\r\n            isResizing: false,\r\n            resizeDirection: '',\r\n            resizeStartX: 0,\r\n            resizeStartY: 0,\r\n            originalWidth: parsedState.width,\r\n            originalHeight: parsedState.height\r\n          };\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to parse saved modal state, using defaults');\r\n    }\r\n    \r\n    // Default modal size with centered position\r\n    const defaultWidth = 400;\r\n    const defaultHeight = 500;\r\n    return {\r\n      width: defaultWidth,\r\n      height: defaultHeight,\r\n      originalX: (window.innerWidth - defaultWidth) / 2,\r\n      originalY: (window.innerHeight - defaultHeight) / 2,\r\n      isResizing: false,\r\n      resizeDirection: '',\r\n      resizeStartX: 0,\r\n      resizeStartY: 0,\r\n      originalWidth: defaultWidth,\r\n      originalHeight: defaultHeight\r\n    };\r\n  };\r\n\r\n  // State for Expert Modal\r\n  const [modalState, setModalState] = useState(getSavedModalState());\r\n  \r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Validation functions\r\n  const isValidName = (name: string) => {\r\n    return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);\r\n  };\r\n\r\n  const isValidPhone = (phone: string) => {\r\n    return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);\r\n  };\r\n\r\n  // Format phone number as user types\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Remove all non-digit characters\r\n    const digits = value.replace(/\\D/g, '');\r\n    \r\n    // Limit to 10 digits\r\n    const limitedDigits = digits.substring(0, 10);\r\n    \r\n    // Format as 5xx xxx xx xx\r\n    let formatted = '';\r\n    for (let i = 0; i < limitedDigits.length; i++) {\r\n      if (i === 3 || i === 6 || i === 8) {\r\n        formatted += ' ';\r\n      }\r\n      formatted += limitedDigits[i];\r\n    }\r\n    \r\n    return formatted;\r\n  };\r\n\r\n  // Function to handle clicking on an expert row\r\n  // This function opens the expert details modal when an expert row is clicked\r\n  const handleExpertClick = (expert: any) => {\r\n    openExpertDetails(expert);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExperts();\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when location changes (navigation)\r\n  useEffect(() => {\r\n    console.log('ExpertCardPage: Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchExperts();\r\n  }, [location.pathname]);\r\n\r\n  // Add useEffect to refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('ExpertCardPage: Window focused, refreshing experts...');\r\n      fetchExperts();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when workplace is created\r\n  useEffect(() => {\r\n    const handleWorkplaceCreated = () => {\r\n      console.log('ExpertCardPage: Workplace created, refreshing experts...');\r\n      fetchExperts();\r\n    };\r\n\r\n    window.addEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    return () => {\r\n      window.removeEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    };\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when component mounts\r\n  useEffect(() => {\r\n    console.log('ExpertCardPage: Component mounted, fetching experts...');\r\n    fetchExperts();\r\n  }, []);\r\n\r\n  const fetchExperts = async () => {\r\n    try {\r\n      const data = await getAllExperts();\r\n      setExperts(data);\r\n    } catch (err: any) {\r\n      console.error('Uzmanlar getirilirken hata oluştu:', err);\r\n      setError(err.message || 'Uzmanlar getirilirken hata oluştu');\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setFormData((prev: typeof formData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setFormData((prev: typeof formData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setFormData((prev: typeof formData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? parseInt(value) : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    // Validation checks\r\n    if (!isValidName(formData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(formData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(formData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (formData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await createExpert(formData);\r\n      setSuccess('Uzman başarıyla kaydedildi!');\r\n      setFormData({\r\n        firstName: '',\r\n        lastName: '',\r\n        phone: '',\r\n        expertiseClass: 'A',\r\n        assignedMinutes: 11900\r\n      });\r\n      // Refresh the experts list\r\n      fetchExperts();\r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Create expert error:', err);\r\n      const errorMessage = err.message || 'Uzman kaydedilirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    // Show confirmation dialog before deleting\r\n    const confirmed = window.confirm('Bu uzman kaydını silmek istediğinize emin misiniz?');\r\n    if (!confirmed) {\r\n      return; // User cancelled the deletion\r\n    }\r\n    \r\n    try {\r\n      await deleteExpert(id);\r\n      setSuccess('Uzman başarıyla silindi!');\r\n      // Refresh the experts list\r\n      fetchExperts();\r\n      \r\n      // Close modal if it was open for this expert\r\n      if (selectedExpert && selectedExpert.id === id) {\r\n        setIsModalOpen(false);\r\n        setSelectedExpert(null);\r\n      }\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Delete error:', err);\r\n      const errorMessage = err.message || 'Uzman silinirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    // Redirect to dashboard\r\n    navigate('/');\r\n  };\r\n\r\n  // Function to open modal with expert details\r\n  const openExpertDetails = async (expert: any) => {\r\n    // Fetch assigned workplaces when opening the expert details modal\r\n    try {\r\n      const workplaces = await getExpertAssignedWorkplaces(expert.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedExpertForWorkplaces(expert);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      setAssignedWorkplaces([]);\r\n    }\r\n    \r\n    setSelectedExpert(expert);\r\n    setIsEditMode(false);\r\n    setIsModalOpen(true);\r\n    // Reset modal position to center when opening\r\n    const defaultWidth = 100;\r\n    const defaultHeight = 500;\r\n    setModalState((prev: typeof modalState) => ({\r\n      ...prev,\r\n      width: defaultWidth,\r\n      height: defaultHeight,\r\n      originalX: (window.innerWidth - defaultWidth) / 2,\r\n      originalY: (window.innerHeight - defaultHeight) / 2,\r\n      originalWidth: defaultWidth,\r\n      originalHeight: defaultHeight\r\n    }));\r\n  };\r\n\r\n  // Function to open modal in edit mode\r\n  const openEditExpert = (expert: any) => {\r\n    setSelectedExpert(expert);\r\n    setEditFormData({\r\n      firstName: expert.firstName || '',\r\n      lastName: expert.lastName || '',\r\n      phone: expert.phone || '',\r\n      expertiseClass: expert.expertiseClass || 'A',\r\n      assignedMinutes: expert.assignedMinutes || 11900\r\n    });\r\n    setIsEditMode(true);\r\n    setIsModalOpen(true);\r\n    // Reset modal position to center when opening\r\n    const defaultWidth = 100;\r\n    const defaultHeight = 500;\r\n    setModalState((prev: typeof modalState) => ({\r\n      ...prev,\r\n      width: defaultWidth,\r\n      height: defaultHeight,\r\n      originalX: (window.innerWidth - defaultWidth) / 2,\r\n      originalY: (window.innerHeight - defaultHeight) / 2,\r\n      originalWidth: defaultWidth,\r\n      originalHeight: defaultHeight\r\n    }));\r\n  };\r\n\r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedExpert(null);\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  // Function to handle edit action from modal\r\n  const handleEditExpert = async (expert: any) => {\r\n    // This function was a placeholder, but we'll keep it for consistency\r\n    // The actual update is handled by handleUpdateExpert\r\n    console.log('Edit expert called for:', expert);\r\n  };\r\n\r\n  // State for modal dialog\r\n  const [selectedExpert, setSelectedExpert] = useState<any>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  \r\n  // State for edit form data\r\n  const [editFormData, setEditFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    expertiseClass: 'A',\r\n    assignedMinutes: 11900\r\n  });\r\n  \r\n  const handleEditFormDataChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields in edit form - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setEditFormData((prev: typeof editFormData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting in edit form\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setEditFormData((prev: typeof editFormData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setEditFormData((prev: typeof editFormData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? parseInt(value) : value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleUpdateExpert = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedExpert) return;\r\n    \r\n    // Validation checks for edit form\r\n    if (!isValidName(editFormData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(editFormData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(editFormData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await updateExpert(selectedExpert.id, editFormData);\r\n      setSuccess('Uzman başarıyla güncellendi!');\r\n      closeModal();\r\n      fetchExperts(); // Refresh the experts list\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Update error:', err);\r\n      const errorMessage = err.message || 'Uzman güncellenirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleEdit = async (id: number) => {\r\n    // Find the expert by id\r\n    const expert = experts.find(exp => exp.id === id);\r\n    if (expert) {\r\n      openEditExpert(expert);\r\n    } else {\r\n      setError('Uzman bulunamadı');\r\n    }\r\n  };\r\n\r\n  // Mouse event handlers\r\n  const handleMouseDown = (e: React.MouseEvent, cardType: 'new' | 'list' | 'modal', action: 'drag' | 'resize', direction: string = '') => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    // Only support drag and resize for modal since main cards are fixed\r\n    if (cardType === 'modal') {\r\n      if (action === 'drag') {\r\n        // For modal dragging, we need to get the current position\r\n        setModalState((prev: typeof modalState) => ({\r\n          ...prev,\r\n          isDragging: true,\r\n          dragStartX: e.clientX - (prev.originalX || 0),\r\n          dragStartY: e.clientY - (prev.originalY || 0)\r\n        }));\r\n      } else if (action === 'resize') {\r\n        // Get the current modal position relative to the viewport\r\n        const modalElement = e.currentTarget.closest('.modal-content');\r\n        if (modalElement) {\r\n          const rect = modalElement.getBoundingClientRect();\r\n          const currentX = rect.left;\r\n          const currentY = rect.top;\r\n          \r\n          setModalState((prev: typeof modalState) => ({\r\n            ...prev,\r\n            isResizing: true,\r\n            resizeDirection: direction,\r\n            resizeStartX: e.clientX,\r\n            resizeStartY: e.clientY,\r\n            originalX: currentX,\r\n            originalY: currentY,\r\n            originalWidth: prev.width,\r\n            originalHeight: prev.height\r\n          }));\r\n        }\r\n      }\r\n      \r\n      // Ensure global event listeners are attached\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n    }\r\n    // Ignore drag and resize for 'new' and 'list' cards since they are fixed\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => {\r\n    // Handle resizing for Expert Modal\r\n    if (modalState.isResizing) {\r\n      const deltaX = e.clientX - modalState.resizeStartX;\r\n      const deltaY = e.clientY - modalState.resizeStartY;\r\n      \r\n      let newWidth = modalState.originalWidth;\r\n      let newHeight = modalState.originalHeight;\r\n      let newX = modalState.originalX || 0;\r\n      let newY = modalState.originalY || 0;\r\n      \r\n      // Handle different resize directions\r\n      if (modalState.resizeDirection.includes('right')) {\r\n        newWidth = Math.max(300, modalState.originalWidth + deltaX);\r\n      }\r\n      if (modalState.resizeDirection.includes('left')) {\r\n        newWidth = Math.max(300, modalState.originalWidth - deltaX);\r\n        newX = modalState.originalX + deltaX;\r\n      }\r\n      if (modalState.resizeDirection.includes('bottom')) {\r\n        newHeight = Math.max(200, modalState.originalHeight + deltaY);\r\n      }\r\n      if (modalState.resizeDirection.includes('top')) {\r\n        newHeight = Math.max(200, modalState.originalHeight - deltaY);\r\n        newY = modalState.originalY + deltaY;\r\n      }\r\n      \r\n      setModalState((prev: typeof modalState) => ({\r\n        ...prev,\r\n        width: newWidth,\r\n        height: newHeight,\r\n        originalWidth: newWidth,\r\n        originalHeight: newHeight,\r\n        originalX: newX,\r\n        originalY: newY\r\n      }));\r\n    }\r\n    \r\n    // Handle dragging for Expert Modal\r\n    if (modalState.isDragging) {\r\n      const newX = e.clientX - modalState.dragStartX;\r\n      const newY = e.clientY - modalState.dragStartY;\r\n      setModalState((prev: typeof modalState) => ({\r\n        ...prev,\r\n        originalX: newX,\r\n        originalY: newY\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setModalState((prev: typeof modalState) => {\r\n      const newState = { ...prev, isDragging: false, isResizing: false, resizeDirection: '' };\r\n      // Save the modal state to localStorage\r\n      localStorage.setItem('expertModal_state', JSON.stringify(newState));\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Define cleanup function\r\n    const cleanup = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n    \r\n    // Always remove any existing listeners first to ensure clean state\r\n    cleanup();\r\n    \r\n    // Only add global event listeners when actually needed\r\n    if (modalState.isDragging || modalState.isResizing) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n    }\r\n    \r\n    // Cleanup function to remove event listeners when component unmounts or dependencies change\r\n    return cleanup;\r\n  }, [modalState.isDragging, modalState.isResizing]);\r\n\r\n  // Calculate statistics for the new card\r\n  const calculateExpertStats = () => {\r\n    const stats = {\r\n      aClassCount: 0,\r\n      bClassCount: 0,\r\n      cClassCount: 0,\r\n      aClassMinutes: 0,\r\n      bClassMinutes: 0,\r\n      cClassMinutes: 0,\r\n      aClassRemaining: 0,\r\n      bClassRemaining: 0,\r\n      cClassRemaining: 0\r\n    };\r\n\r\n    experts.forEach(expert => {\r\n      switch (expert.expertiseClass) {\r\n        case 'A':\r\n          stats.aClassCount++;\r\n          stats.aClassMinutes += expert.assignedMinutes || 0;\r\n          stats.aClassRemaining += expert.assignedMinutes || 0;\r\n          break;\r\n        case 'B':\r\n          stats.bClassCount++;\r\n          stats.bClassMinutes += expert.assignedMinutes || 0;\r\n          stats.bClassRemaining += expert.assignedMinutes || 0;\r\n          break;\r\n        case 'C':\r\n          stats.cClassCount++;\r\n          stats.cClassMinutes += expert.assignedMinutes || 0;\r\n          stats.cClassRemaining += expert.assignedMinutes || 0;\r\n          break;\r\n      }\r\n    });\r\n\r\n    return stats;\r\n  };\r\n\r\n  const expertStats = calculateExpertStats();\r\n\r\n  // State for assigned workplaces modal\r\n  const [isAssignedWorkplacesModalOpen, setIsAssignedWorkplacesModalOpen] = useState(false);\r\n  const [assignedWorkplaces, setAssignedWorkplaces] = useState<any[]>([]);\r\n  const [selectedExpertForWorkplaces, setSelectedExpertForWorkplaces] = useState<any>(null);\r\n\r\n  // Function to open assigned workplaces modal\r\n  const openAssignedWorkplacesModal = async (expert: any) => {\r\n    try {\r\n      const workplaces = await getExpertAssignedWorkplaces(expert.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedExpertForWorkplaces(expert);\r\n      setIsAssignedWorkplacesModalOpen(true);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      // Show error message\r\n    }\r\n  };\r\n  \r\n  // Function to close assigned workplaces modal\r\n  const closeAssignedWorkplacesModal = () => {\r\n    setIsAssignedWorkplacesModalOpen(false);\r\n    // Don't clear assignedWorkplaces to keep the \"Gör\" button visible\r\n    // setAssignedWorkplaces([]);\r\n    setSelectedExpertForWorkplaces(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"expert-card-page\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* \"Yeni Uzman Kayıt\" card (fixed position and size) */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          left: 65,\r\n          top: -90,\r\n          width: 375,\r\n          height: 375,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Yeni Uzman Kayıt</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible' }}>\r\n            <form onSubmit={handleSubmit} className=\"registration-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Ad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      className=\"form-input\"\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Soyad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      className=\"form-input\"\r\n                      value={formData.lastName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Telefon:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  className=\"form-input\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  placeholder=\"5xx xxx xx xx\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Uzmanlık Sınıfı:</label>\r\n                <select\r\n                  name=\"expertiseClass\"\r\n                  className=\"form-select\"\r\n                  value={formData.expertiseClass}\r\n                  onChange={handleChange}\r\n                  required\r\n                >\r\n                  <option value=\"A\">A Sınıfı</option>\r\n                  <option value=\"B\">B Sınıfı</option>\r\n                  <option value=\"C\">C Sınıfı</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Atanan Dakika:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"assignedMinutes\"\r\n                  className=\"form-input\"\r\n                  value={formData.assignedMinutes}\r\n                  onChange={handleChange}\r\n                  min=\"0\"\r\n                  max=\"11900\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <button type=\"submit\" className=\"btn btn-primary\">Uzmanı Kaydet</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Statistics card for expert classes */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          right: 70, // Positioned to the right edge of the page\r\n          top: -90,\r\n          width: 300,\r\n          height: 500,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Uzman İstatistikleri</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible', padding: '15px' }}>\r\n            <div className=\"stats-container\">\r\n              <div className=\"stats-section\">\r\n                <h3>Kayıtlı Uzman Sayıları</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">A Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.aClassCount}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">B Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.bClassCount}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">C Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.cClassCount}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Tanımlanan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">A Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.aClassMinutes}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">B Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.bClassMinutes}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">C Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.cClassMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kalan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">A Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.aClassRemaining}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">B Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.bClassRemaining}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">C Sınıfı:</span>\r\n                  <span className=\"stat-value\">{expertStats.cClassRemaining}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Display registered experts in individual rows positioned on the right side of the page */}\r\n      <div className=\"registered-experts-container\" style={{ \r\n        position: 'absolute',\r\n        right: '70px',\r\n        top: '100px',\r\n        width: '400px'  // Reduced width from 400px to 300px\r\n      }}>\r\n        {experts.map((expert) => (\r\n          <div\r\n            key={expert.id}\r\n            onClick={() => handleExpertClick(expert)}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '8px',\r\n              margin: '10px 0',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease',\r\n              // Reset positioning to normal size and remove previous offsets\r\n              position: 'relative',\r\n              top: '-100px',\r\n              left: '-400px',\r\n              width: '100%',  // Full width within the container\r\n              // Color coding based on expertise class - B class is now blue\r\n              ...(expert.expertiseClass === 'A' && { \r\n                backgroundColor: '#ffcdd2' // More vibrant red for A class\r\n              }),\r\n              ...(expert.expertiseClass === 'B' && { \r\n                backgroundColor: '#bbdefb' // Blue for B class\r\n              }),\r\n              ...(expert.expertiseClass === 'C' && { \r\n                backgroundColor: '#c8e6c9' // More vibrant green for C class\r\n              })\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              // Enhanced hover effect with color changes\r\n              if (expert.expertiseClass === 'A') {\r\n                e.currentTarget.style.backgroundColor = '#ef9a9a'; // Even more vibrant red on hover\r\n                e.currentTarget.style.boxShadow = '0 4px 8px rgba(211, 47, 47, 0.3)';\r\n                e.currentTarget.style.transform = 'translateY(-2px)';\r\n              } else if (expert.expertiseClass === 'B') {\r\n                e.currentTarget.style.backgroundColor = '#90caf9'; // More vibrant blue on hover\r\n                e.currentTarget.style.boxShadow = '0 4px 8px rgba(33, 150, 243, 0.3)';\r\n                e.currentTarget.style.transform = 'translateY(-2px)';\r\n              } else if (expert.expertiseClass === 'C') {\r\n                e.currentTarget.style.backgroundColor = '#a5d6a7'; // Even more vibrant green on hover\r\n                e.currentTarget.style.boxShadow = '0 4px 8px rgba(56, 142, 60, 0.3)';\r\n                e.currentTarget.style.transform = 'translateY(-2px)';\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              // Reset to original colors when not hovering\r\n              if (expert.expertiseClass === 'A') {\r\n                e.currentTarget.style.backgroundColor = '#ffcdd2';\r\n                e.currentTarget.style.boxShadow = 'none';\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n              } else if (expert.expertiseClass === 'B') {\r\n                e.currentTarget.style.backgroundColor = '#bbdefb';\r\n                e.currentTarget.style.boxShadow = 'none';\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n              } else if (expert.expertiseClass === 'C') {\r\n                e.currentTarget.style.backgroundColor = '#c8e6c9';\r\n                e.currentTarget.style.boxShadow = 'none';\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n              }\r\n            }}\r\n          >\r\n            <div className=\"expert-info-display\" style={{ fontSize: '15px' }}>\r\n              <div className=\"expert-name-display\">{expert.firstName} {expert.lastName}</div>\r\n              <div className=\"expert-phone-display\">{expert.phone}</div>\r\n            </div>\r\n            <div \r\n              className=\"expert-class-display\"\r\n              style={{\r\n                // Color coding for expertise class badge - B class is now blue\r\n                ...(expert.expertiseClass === 'A' && { \r\n                  backgroundColor: '#d32f2f',\r\n                  color: 'white'\r\n                }),\r\n                ...(expert.expertiseClass === 'B' && { \r\n                  backgroundColor: '#1976d2',\r\n                  color: 'white'\r\n                }),\r\n                ...(expert.expertiseClass === 'C' && { \r\n                  backgroundColor: '#388e3c',\r\n                  color: 'white'\r\n                })\r\n              }}\r\n            >\r\n              {expert.expertiseClass}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* Expert Details Modal */}\r\n      {isModalOpen && selectedExpert && (\r\n        <div className=\"modal-overlay\" onClick={(e) => {\r\n          // Only close modal if clicking on the overlay (not the content)\r\n          if (e.target === e.currentTarget) {\r\n            closeModal();\r\n          }\r\n        }}>\r\n          <div \r\n            className=\"modal-content draggable-card\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              width: modalState.width,\r\n              height: modalState.height,\r\n              maxWidth: '90vw',\r\n              maxHeight: '90vh',\r\n              position: 'absolute',\r\n              left: '50%',\r\n              top: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              margin: 0,\r\n              zIndex: 2001\r\n            }}\r\n          >\r\n            <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n              <div \r\n                className=\"window-header\"\r\n                onMouseDown={(e) => handleMouseDown(e, 'modal', 'drag')}\r\n                style={{ cursor: 'move', userSelect: 'none' }}\r\n              >\r\n                <span>{isEditMode ? 'Uzmanı Düzenle' : 'Uzman Detayları'}</span>\r\n                <div className=\"window-controls\">\r\n                  <button className=\"window-button\" onClick={closeModal} aria-label=\"Kapat\">×</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"window-content\">\r\n                {isEditMode ? (\r\n                  // Edit form\r\n                  <form onSubmit={handleUpdateExpert} className=\"edit-form\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Ad:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"firstName\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.firstName}\r\n                        onChange={handleEditFormDataChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Soyad:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"lastName\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.lastName}\r\n                        onChange={handleEditFormDataChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Telefon:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.phone}\r\n                        onChange={handleEditFormDataChange}\r\n                        placeholder=\"5xx xxx xx xx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Uzmanlık Sınıfı:</label>\r\n                          <select\r\n                            name=\"expertiseClass\"\r\n                            className=\"form-select\"\r\n                            value={editFormData.expertiseClass}\r\n                            onChange={handleEditFormDataChange}\r\n                          >\r\n                            <option value=\"A\">A</option>\r\n                            <option value=\"B\">B</option>\r\n                            <option value=\"C\">C</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Atanan Dakika:</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"assignedMinutes\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.assignedMinutes}\r\n                            onChange={handleEditFormDataChange}\r\n                            min=\"0\"\r\n                            max=\"11900\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\">Güncelle</button>\r\n                      <button type=\"button\" className=\"btn\" onClick={closeModal}>İptal</button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  // View mode\r\n                  <>\r\n                    <div className=\"expert-detail-info\">\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Ad:</strong> {selectedExpert.firstName}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Soyad:</strong> {selectedExpert.lastName}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Telefon:</strong> {selectedExpert.phone}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Uzmanlık Sınıfı:</strong> {selectedExpert.expertiseClass}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Toplam Dakika:</strong> {selectedExpert.assignedMinutes}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Kullanılan Dakika:</strong> {selectedExpert.usedMinutes || 0}\r\n                      </div>\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Kalan Dakika:</strong> {selectedExpert.assignedMinutes - (selectedExpert.usedMinutes || 0)}\r\n                      </div>\r\n                      \r\n                      {/* Workplace assignment information - show \"atandı\" and \"gör\" button if assigned */}\r\n                      <div className=\"expert-detail-row\">\r\n                        <strong>Atandığı İş Yeri:</strong> \r\n                        {assignedWorkplaces.length > 0 ? (\r\n                          <>\r\n                            <span>atandı</span>\r\n                            <button \r\n                              className=\"btn btn-primary\" \r\n                              style={{ marginTop: '22px' , marginLeft: '10px', padding: '1px 14px', fontSize: '15px' }}\r\n                              onClick={() => setIsAssignedWorkplacesModalOpen(true)}\r\n                            >\r\n                              gör\r\n                            </button>\r\n                          </>\r\n                        ) : (\r\n                          <span>Atanmamış</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button className=\"btn btn-primary\" onClick={() => openEditExpert(selectedExpert)}>Düzenle</button>\r\n                      <button className=\"btn btn-danger\" onClick={() => {\r\n                        const confirmed = window.confirm('Bu uzman kaydını silmek istediğinize emin misiniz?');\r\n                        if (confirmed) {\r\n                          handleDelete(selectedExpert.id);\r\n                        }\r\n                      }}>Sil</button>\r\n                      <button className=\"btn btn-close\" onClick={closeModal}>Kapat</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* Resize handles for modal */}\r\n            <div \r\n              className=\"resize-handle resize-nw\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'top-left')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-ne\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'top-right')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-sw\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'bottom-left')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-se\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'bottom-right')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-n\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'top')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-s\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'bottom')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-w\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'left')}\r\n            />\r\n            <div \r\n              className=\"resize-handle resize-e\"\r\n              onMouseDown={(e) => handleMouseDown(e, 'modal', 'resize', 'right')}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Assigned Workplaces Modal */}\r\n      <AssignedWorkplacesModal\r\n        isOpen={isAssignedWorkplacesModalOpen}\r\n        onClose={closeAssignedWorkplacesModal}\r\n        workplaces={assignedWorkplaces}\r\n        personnelName={selectedExpertForWorkplaces ? `${selectedExpertForWorkplaces.firstName} ${selectedExpertForWorkplaces.lastName}` : ''}\r\n        personnelType=\"Uzman\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpertCardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}