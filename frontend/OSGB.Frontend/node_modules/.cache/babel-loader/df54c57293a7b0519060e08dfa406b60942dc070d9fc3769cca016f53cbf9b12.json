{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllWorkplaces,createWorkplace}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataPersistenceTest=()=>{const[workplaces,setWorkplaces]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{try{setLoading(true);const data=await getAllWorkplaces();setWorkplaces(data);setError(null);}catch(err){setError('Failed to fetch workplaces');console.error(err);}finally{setLoading(false);}};const createTestWorkplace=async()=>{try{const testWorkplace={name:\"Test Workplace \".concat(Date.now()),address:'Test Address',sskRegistrationNo:'1234567890',taxOffice:'Test Tax Office',taxNumber:'1234567890',price:1000,riskLevel:'low',employeeCount:10,source:'Test Source',approvalStatus:'atama'};await createWorkplace(testWorkplace);await fetchData();// Refresh the list\n}catch(err){setError('Failed to create test workplace');console.error(err);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Data Persistence Test\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createTestWorkplace,style:{marginBottom:'20px'},children:\"Create Test Workplace\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Workplaces (\",workplaces.length,\")\"]}),workplaces.map(workplace=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ccc',margin:'10px',padding:'10px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",workplace.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",workplace.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created At:\"}),\" \",new Date(workplace.createdAt).toLocaleString()]})]},workplace.id))]})]});};export default DataPersistenceTest;","map":{"version":3,"names":["React","useState","useEffect","getAllWorkplaces","createWorkplace","jsx","_jsx","jsxs","_jsxs","DataPersistenceTest","workplaces","setWorkplaces","loading","setLoading","error","setError","fetchData","data","err","console","createTestWorkplace","testWorkplace","name","concat","Date","now","address","sskRegistrationNo","taxOffice","taxNumber","price","riskLevel","employeeCount","source","approvalStatus","children","style","padding","onClick","marginBottom","length","map","workplace","border","margin","id","createdAt","toLocaleString"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/DataPersistenceTest.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllWorkplaces, createWorkplace } from '../services/api';\r\n\r\nconst DataPersistenceTest: React.FC = () => {\r\n  const [workplaces, setWorkplaces] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getAllWorkplaces();\r\n      setWorkplaces(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to fetch workplaces');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createTestWorkplace = async () => {\r\n    try {\r\n      const testWorkplace = {\r\n        name: `Test Workplace ${Date.now()}`,\r\n        address: 'Test Address',\r\n        sskRegistrationNo: '1234567890',\r\n        taxOffice: 'Test Tax Office',\r\n        taxNumber: '1234567890',\r\n        price: 1000,\r\n        riskLevel: 'low',\r\n        employeeCount: 10,\r\n        source: 'Test Source',\r\n        approvalStatus: 'atama'\r\n      };\r\n\r\n      await createWorkplace(testWorkplace);\r\n      await fetchData(); // Refresh the list\r\n    } catch (err) {\r\n      setError('Failed to create test workplace');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error}</div>;\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>Data Persistence Test</h2>\r\n      <button onClick={createTestWorkplace} style={{ marginBottom: '20px' }}>\r\n        Create Test Workplace\r\n      </button>\r\n      <div>\r\n        <h3>Workplaces ({workplaces.length})</h3>\r\n        {workplaces.map((workplace) => (\r\n          <div key={workplace.id} style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}>\r\n            <p><strong>ID:</strong> {workplace.id}</p>\r\n            <p><strong>Name:</strong> {workplace.name}</p>\r\n            <p><strong>Created At:</strong> {new Date(workplace.createdAt).toLocaleString()}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataPersistenceTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}