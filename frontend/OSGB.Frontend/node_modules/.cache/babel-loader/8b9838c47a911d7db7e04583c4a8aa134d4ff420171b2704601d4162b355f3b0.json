{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useLocation}from'react-router-dom';import'./Dashboard.css';import{createWorkplace,updateWorkplace,getAvailableExperts,getAvailableDoctors,getAvailableDsps,getAllWorkplaces,deleteWorkplace,getAllExperts,getAllDoctors,getAllDsps}from'../services/api';// Define types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{console.log('Dashboard component rendered at:',new Date().toISOString());const location=useLocation();// State declarations\nconst[formData,setFormData]=useState({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',trackingExpertId:'',// Added for tracking expert\nregistrationDate:''});const[isKdvIncluded,setIsKdvIncluded]=useState(false);const[workplaces,setWorkplaces]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[isModalOpen,setIsModalOpen]=useState(false);const[modalFormData,setModalFormData]=useState({});const[showNoExpertPopup,setShowNoExpertPopup]=useState(false);const[showNoDoctorPopup,setShowNoDoctorPopup]=useState(false);const[showNoDspPopup,setShowNoDspPopup]=useState(false);const[showDspNotAllowedPopup,setShowDspNotAllowedPopup]=useState(false);const[showDeleteConfirmation,setShowDeleteConfirmation]=useState(false);const[allExperts,setAllExperts]=useState([]);const[allDoctors,setAllDoctors]=useState([]);const[allDsps,setAllDsps]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');const[duplicateWarning,setDuplicateWarning]=useState({show:false,workplace:null});// Constants\nconst workplacesPerPage=10;// Derived state\nconst totalPages=Math.ceil(workplaces.length/workplacesPerPage);// Add state for sorting\nconst[sortConfig,setSortConfig]=useState(null);// Function to sort workplaces\nconst sortWorkplaces=key=>{let direction='asc';if(sortConfig&&sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};// Apply sorting to workplaces\nconst getSortedWorkplaces=()=>{// If no sort config is set, sort by registration date descending (newest first)\nif(!sortConfig){return[...workplaces].sort((a,b)=>{const dateA=new Date(a.registrationDate||'').getTime();const dateB=new Date(b.registrationDate||'').getTime();return dateB-dateA;// Descending order - newest first\n});}return[...workplaces].sort((a,b)=>{// Type guard to ensure key is a valid keyof Workplace\nconst key=sortConfig.key;// Handle different data types for sorting\nlet aValue,bValue;switch(key){case'name':case'source':aValue=a[key]||'';bValue=b[key]||'';break;case'registrationDate':aValue=new Date(a[key]||'').getTime();bValue=new Date(b[key]||'').getTime();break;case'riskLevel':// Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\nconst riskOrder={'low':1,'dangerous':2,'veryDangerous':3};aValue=riskOrder[a[key]]||0;bValue=riskOrder[b[key]]||0;break;case'approvalStatus':// Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\nconst approvalOrder={'atama':1,'bekliyor':2,'onaylandi':3};aValue=approvalOrder[a[key]]||0;bValue=approvalOrder[b[key]]||0;break;case'assignedExpertId':aValue=getExpertName(a[key]);bValue=getExpertName(b[key]);break;case'assignedDoctorId':aValue=getDoctorName(a[key]);bValue=getDoctorName(b[key]);break;case'assignedDspId':aValue=getDspName(a[key]);bValue=getDspName(b[key]);break;default:aValue=a[key];bValue=b[key];}if(aValue<bValue){return sortConfig.direction==='asc'?-1:1;}if(aValue>bValue){return sortConfig.direction==='asc'?1:-1;}return 0;});};// Add a useEffect to log when component mounts and unmounts\nuseEffect(()=>{console.log('Dashboard component mounted at:',new Date().toISOString());// Cleanup function\nreturn()=>{console.log('Dashboard component unmounted at:',new Date().toISOString());};},[]);// Function to fetch all data - similar to ExpertCardPage approach\nconst fetchAllData=useCallback(async()=>{try{console.log('Fetching all data from backend...');// Fetch all data in parallel\nconst[workplacesData,expertsData,doctorsData,dspsData]=await Promise.all([getAllWorkplaces(),getAllExperts(),getAllDoctors(),getAllDsps()]);console.log('Received all data:',{workplacesCount:workplacesData.length,expertsCount:expertsData.length,doctorsCount:doctorsData.length,dspsCount:dspsData.length});// Log first workplace to see structure\nif(workplacesData.length>0){console.log('First workplace data:',workplacesData[0]);}// Update all state\nsetWorkplaces(workplacesData);setAllExperts(expertsData);setAllDoctors(doctorsData);setAllDsps(dspsData);console.log('State updated after data fetch');}catch(error){console.error('Error fetching data:',error);setError('Veri alınırken hata oluştu');}},[]);// Load all data from backend on component mount - similar to ExpertCardPage approach\nuseEffect(()=>{console.log('Dashboard useEffect running - fetching all data at:',new Date().toISOString());fetchAllData();},[]);// Refresh data when location changes\nuseEffect(()=>{console.log('Location changed to:',location.pathname,'at:',new Date().toISOString());fetchAllData();},[location.pathname]);// Refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('Window focused, refreshing all data...');fetchAllData();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[]);// Add effect to log workplaces data when it changes\nuseEffect(()=>{console.log('Workplaces data updated:',workplaces);},[workplaces]);// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};// Helper function to validate Turkish text (letters, spaces, and Turkish characters only)\nconst isValidTurkishText=text=>{// Allow letters, spaces, and Turkish-specific characters: ğ, ü, ş, ı, ö, ç (both lowercase and uppercase)\nreturn /^([a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*)$/.test(text);};// Helper function to validate numeric input only\nconst isNumericOnly=text=>{// Allow only digits (0-9)\nreturn /^([0-9]*)$/.test(text);};// Handlers\nconst handleChange=e=>{const{name,value}=e.target;// Check if user is trying to assign a DSP when it's not allowed\nif(name==='assignedDspId'&&value){const employeeCount=parseInt(formData.employeeCount)||0;const isAllowed=isDspAssignmentAllowed(formData.riskLevel,employeeCount);if(!isAllowed){// Show warning popup\nsetShowDspNotAllowedPopup(true);return;// Don't update the form data\n}}// Validate tax office field - only allow letters and Turkish characters\nif(name==='taxOffice'&&value&&!isValidTurkishText(value)){return;// Don't update the form data if validation fails\n}// Validate tax number field - only allow numeric values\nif(name==='taxNumber'&&value&&!isNumericOnly(value)){return;// Don't update the form data if validation fails\n}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// State to track if price fields are focused\nconst[isPriceFocused,setIsPriceFocused]=useState(false);const[isModalPriceFocused,setIsModalPriceFocused]=useState(false);// Format price with Turkish thousands separators without rounding\nconst formatPriceForDisplay=price=>{if(!price)return'';// Validate that the input is a valid number string\nif(!/^[0-9]*$/.test(price))return price;// Format without any rounding, preserving exact input\nreturn parseInt(price).toLocaleString('tr-TR');};// Parse formatted price back to plain number string\nconst parsePrice=formattedPrice=>{if(!formattedPrice)return'';// Remove thousands separators (periods) - no decimal handling needed\nconst cleaned=formattedPrice.replace(/\\./g,'');// Validate that the result is a valid number\nreturn /^[0-9]*$/.test(cleaned)?cleaned:'';};const handlePriceChange=e=>{const value=e.target.value;// Allow only numeric values (no formatting characters needed)\nif(value===''||/^[0-9]*$/.test(value)){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:value}));}};const handleModalPriceChange=e=>{const value=e.target.value;// Allow only numeric values (no formatting characters needed)\nif(value===''||/^[0-9]*$/.test(value)){setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:value}));}};// Handle price field focus\nconst handlePriceFocus=()=>{setIsPriceFocused(true);// When focusing, show the raw number value\nsetFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:parsePrice(prev.price)}));};// Handle price field blur\nconst handlePriceBlur=()=>{setIsPriceFocused(false);// When blurring, format the value for display\nsetFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:formatPriceForDisplay(prev.price)}));};// Handle modal price field focus\nconst handleModalPriceFocus=()=>{setIsModalPriceFocused(true);// When focusing, show the raw number value\nsetModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:typeof prev.price==='string'?parsePrice(prev.price):String(prev.price||'')}));};// Handle modal price field blur\nconst handleModalPriceBlur=()=>{setIsModalPriceFocused(false);// When blurring, format the value for display\nsetModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{price:typeof prev.price==='string'?formatPriceForDisplay(prev.price):String(prev.price||'')}));};const handleSSkRegistrationNoChange=e=>{let value=e.target.value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(value.length>21)value=value.substring(0,21);let formattedValue='';for(let i=0;i<value.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){formattedValue+=' '+value[i];}else{formattedValue+=value[i];}}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{sskRegistrationNo:formattedValue}));};// Helper function to validate source field - only allow letters and Turkish characters\nconst isValidSourceText=text=>{// Allow letters, spaces, and Turkish-specific characters: ğ, ü, ş, ı, ö, ç (both lowercase and uppercase)\nreturn /^([a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*)$/.test(text);};// Override handleChange for source field validation\nconst handleSourceChange=e=>{const{name,value}=e.target;// Validate source field - only allow letters and Turkish characters\nif(name==='source'&&value&&!isValidSourceText(value)){return;// Don't update the form data if validation fails\n}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// Helper function to validate tax number field - only allow numeric values\nconst handleTaxNumberChange=e=>{const{name,value}=e.target;// Validate tax number field - only allow numeric values\nif(name==='taxNumber'&&value&&!isNumericOnly(value)){return;// Don't update the form data if validation fails\n}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// Helper function to validate employee count field - only allow numeric values\nconst handleEmployeeCountChange=e=>{const{name,value}=e.target;// Validate employee count field - only allow numeric values\nif(name==='employeeCount'&&value&&!isNumericOnly(value)){return;// Don't update the form data if validation fails\n}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleClose=()=>{setFormData({name:'',sskRegistrationNo:'',address:'',price:'',taxOffice:'',taxNumber:'',riskLevel:'low',employeeCount:'',source:'',assignedExpertId:'',assignedDoctorId:'',assignedDspId:'',trackingExpertId:'',registrationDate:''});setIsKdvIncluded(false);};// Function to calculate required minutes based on risk level and employee count\nconst calculateRequiredMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*10;case'dangerous':return employeeCount*20;case'veryDangerous':return employeeCount*40;default:return 0;}};// Function to calculate required minutes for doctors based on risk level and employee count\nconst calculateRequiredDoctorMinutes=(riskLevel,employeeCount)=>{switch(riskLevel){case'low':return employeeCount*5;case'dangerous':return employeeCount*10;case'veryDangerous':return employeeCount*15;default:return 0;}};// Function to calculate required minutes for DSPs based on risk level and employee count\nconst calculateRequiredDspMinutes=(riskLevel,employeeCount)=>{// DSP is only required for very dangerous workplaces with 10+ employees\nif(riskLevel!=='veryDangerous'||employeeCount<10){return 0;}return employeeCount*5;// 5 minutes per employee for DSP\n};// Function to filter experts based on risk level and required minutes\nconst getFilteredExperts=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredMinutes(riskLevel,employeeCount);return allExperts.filter(expert=>{// Check if expert has enough minutes\nif(expert.assignedMinutes<requiredMinutes){return false;}// Filter based on expertise class and risk level\n// A class experts can handle all risk levels\n// B class experts can handle low and dangerous risk levels\n// C class experts can only handle low risk level\nswitch(expert.expertiseClass){case'A':return true;// A class can handle all risk levels\ncase'B':return riskLevel==='low'||riskLevel==='dangerous';// B class can handle low and dangerous\ncase'C':return riskLevel==='low';// C class can only handle low risk\ndefault:return false;}});};// Function to filter doctors based on required minutes\nconst getFilteredDoctors=(riskLevel,employeeCount)=>{const requiredMinutes=calculateRequiredDoctorMinutes(riskLevel,employeeCount);return allDoctors.filter(doctor=>{// Check if doctor has enough minutes\nreturn doctor.assignedMinutes>=requiredMinutes;});};// Function to filter DSPs based on required minutes\nconst getFilteredDsps=(riskLevel,employeeCount)=>{// Check if DSP assignment is allowed for this workplace\nconst isAllowed=isDspAssignmentAllowed(riskLevel,employeeCount);// If DSP assignment is not allowed, return empty array\nif(!isAllowed){return[];}// DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\nconst isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\nif(!isDspRequired){return allDsps.filter(dsp=>dsp.assignedMinutes>0);// Return all DSPs with at least 1 minute\n}// If DSP is required, filter based on required minutes (5 minutes per employee)\nconst requiredMinutes=employeeCount*5;return allDsps.filter(dsp=>{// Check if DSP has enough minutes\nreturn dsp.assignedMinutes>=requiredMinutes;});};// Function to check if expert assignment is valid\nconst checkExpertAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseInt(parsePrice(workplaceData.price))||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available experts for this workplace\nconst availableExperts=await getAvailableExperts(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no experts available, show popup\nif(availableExperts.length===0){setShowNoExpertPopup(true);return false;}// If an expert is selected, check if it's still available after deduction\nif(workplaceData.assignedExpertId){const selectedExpert=availableExperts.find(expert=>expert.id===parseInt(workplaceData.assignedExpertId));if(!selectedExpert){setShowNoExpertPopup(true);return false;}}return true;}catch(error){console.error('Error checking expert assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if doctor assignment is valid\nconst checkDoctorAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseInt(parsePrice(workplaceData.price))||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Get available doctors for this workplace\nconst availableDoctors=await getAvailableDoctors(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no doctors available, show popup\nif(availableDoctors.length===0){setShowNoDoctorPopup(true);return false;}// If a doctor is selected, check if it's still available after deduction\nif(workplaceData.assignedDoctorId){const selectedDoctor=availableDoctors.find(doctor=>doctor.id===parseInt(workplaceData.assignedDoctorId));if(!selectedDoctor){setShowNoDoctorPopup(true);return false;}}return true;}catch(error){console.error('Error checking doctor assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is valid\nconst checkDspAssignment=async workplaceData=>{let tempWorkplaceId=null;try{// Create a temporary workplace to get its ID\nconst tempWorkplace=await createWorkplace(_objectSpread(_objectSpread({},workplaceData),{},{employeeCount:parseInt(workplaceData.employeeCount)||0,price:parseInt(parsePrice(workplaceData.price))||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:workplaceData.assignedExpertId||null,assignedDoctorId:workplaceData.assignedDoctorId||null,assignedDspId:workplaceData.assignedDspId||null}));tempWorkplaceId=tempWorkplace.id;// Check if DSP is actually required for this workplace\nconst employeeCount=parseInt(workplaceData.employeeCount)||0;const isDspRequired=workplaceData.riskLevel==='veryDangerous'&&employeeCount>=10;// If DSP is not required, don't check availability\nif(!isDspRequired){// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);return true;// DSP assignment is not required, so it's valid\n}// Get available DSPs for this workplace\nconst availableDsps=await getAvailableDsps(tempWorkplace.id);// Delete the temporary workplace\nawait deleteWorkplace(tempWorkplace.id);// If no DSPs available when required, show popup\nif(availableDsps.length===0){setShowNoDspPopup(true);return false;}// If a DSP is selected, check if it's still available after deduction\nif(workplaceData.assignedDspId){const selectedDsp=availableDsps.find(dsp=>dsp.id===parseInt(workplaceData.assignedDspId));if(!selectedDsp){setShowNoDspPopup(true);return false;}}return true;}catch(error){console.error('Error checking DSP assignment:',error);// Try to delete the temporary workplace if it was created\nif(tempWorkplaceId){try{await deleteWorkplace(tempWorkplaceId);}catch(deleteError){console.error('Error deleting temporary workplace:',deleteError);}}return true;// Allow assignment if there's an error\n}};// Function to check if DSP assignment is allowed based on risk level and employee count\nconst isDspAssignmentAllowed=(riskLevel,employeeCount)=>{// DSP can only be assigned to:\n// 1. Very dangerous workplaces with 10+ employees (required)\n// 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\n// DSP assignment is NOT allowed for:\n// 1. Low risk (az tehlikeli) workplaces\n// 2. Dangerous (tehlikeli) workplaces\n// 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\nif(riskLevel==='low'||riskLevel==='dangerous'){return false;// DSP assignment not allowed for low or dangerous risk levels\n}if(riskLevel==='veryDangerous'&&employeeCount<10){return false;// DSP assignment not allowed for very dangerous workplaces with less than 10 employees\n}return true;// DSP assignment allowed (and required for very dangerous with 10+ employees)\n};const handleSubmit=async e=>{e.preventDefault();const submitTimestamp=Date.now();console.log('handleSubmit called at:',new Date().toISOString(),'(submit #',submitTimestamp,') with formData:',formData);try{// Check for duplicate SGK registration number\nconst formattedSskNo=formData.sskRegistrationNo.replace(/\\s/g,'');// Remove spaces for comparison\nconst existingWorkplace=workplaces.find(workplace=>workplace.sskRegistrationNo&&workplace.sskRegistrationNo.replace(/\\s/g,'')===formattedSskNo);if(existingWorkplace){// Show duplicate warning popup\nsetDuplicateWarning({show:true,workplace:existingWorkplace});// Clear the warning after 5 seconds\nsetTimeout(()=>{setDuplicateWarning({show:false,workplace:null});},5000);// Scroll to the existing workplace row\nsetTimeout(()=>{const element=document.getElementById(\"workplace-row-\".concat(existingWorkplace.id));if(element){element.scrollIntoView({behavior:'smooth',block:'center'});}},100);return;}// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},formData),{},{employeeCount:parseInt(formData.employeeCount)||0,price:parseInt(parsePrice(formData.price))||0,approvalStatus:'atama',// Handle null values for assigned IDs\nassignedExpertId:formData.assignedExpertId||null,assignedDoctorId:formData.assignedDoctorId||null,assignedDspId:formData.assignedDspId||null});console.log('Sending workplace data to backend (submit #',submitTimestamp,'):',workplaceData);// Check if personnel assignments are required\nconst employeeCount=parseInt(formData.employeeCount)||0;const isDspRequired=formData.riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){console.log('Personnel assignment validation failed, not saving (submit #',submitTimestamp,')');return;}// Save to backend\nconst newWorkplace=await createWorkplace(workplaceData);console.log('Created new workplace response (submit #',submitTimestamp,'):',newWorkplace);// Show success message\nsetSuccess('İş yeri başarıyla kaydedildi!');// Close the form first\nhandleClose();console.log('Form closed (submit #',submitTimestamp,')');// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Dispatch custom event to notify other components about data change\nwindow.dispatchEvent(new CustomEvent('workplaceCreated',{detail:{workplace:newWorkplace}}));// Reset to first page since we have new data\nsetCurrentPage(1);console.log('Page reset to 1 (submit #',submitTimestamp,')');// Clear notifications\nclearNotifications();}catch(error){console.error('Error saving workplace (submit #',submitTimestamp,'):',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri kaydedilirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri kaydedilirken hata oluştu');}clearNotifications();}};const handlePageChange=pageNumber=>{setCurrentPage(pageNumber);};const getCurrentPageWorkplaces=()=>{const startIndex=(currentPage-1)*workplacesPerPage;const endIndex=startIndex+workplacesPerPage;const result=workplaces.slice(startIndex,endIndex);console.log('getCurrentPageWorkplaces called, returning:',result);return result;};const handleRowClick=workplace=>{setModalFormData(workplace);setIsModalOpen(true);// Prevent background scrolling when modal is open\ndocument.body.style.overflow='hidden';};const handleModalChange=e=>{const{name,value}=e.target;// Validate tax office field - only allow letters and Turkish characters\nif(name==='taxOffice'&&value&&!isValidTurkishText(value)){return;// Don't update the form data if validation fails\n}// Validate tax number field - only allow numeric values\nif(name==='taxNumber'&&value&&!isNumericOnly(value)){return;// Don't update the form data if validation fails\n}// Apply the same formatting logic for SGK registration number in the modal\nif(name==='sskRegistrationNo'){let formattedValue=value.replace(/\\D/g,'');// Remove non-digit characters\n// Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\nif(formattedValue.length>21)formattedValue=formattedValue.substring(0,21);let finalFormattedValue='';for(let i=0;i<formattedValue.length;i++){if(i===1||i===5||i===7||i===9||i===14||i===17||i===19){finalFormattedValue+=' '+formattedValue[i];}else{finalFormattedValue+=formattedValue[i];}}setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:finalFormattedValue}));}else{setModalFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}};const handleModalSubmit=async e=>{e.preventDefault();try{if(modalFormData.id){// Ensure all required fields are included and handle null values for assigned IDs\nconst workplaceData=_objectSpread(_objectSpread({},modalFormData),{},{employeeCount:parseInt(modalFormData.employeeCount)||0,price:parseInt(parsePrice(modalFormData.price))||0,// Handle null values for assigned IDs\nassignedExpertId:modalFormData.assignedExpertId||null,assignedDoctorId:modalFormData.assignedDoctorId||null,assignedDspId:modalFormData.assignedDspId||null});// Check if personnel assignments are required\nconst employeeCount=parseInt(modalFormData.employeeCount)||0;const riskLevel=modalFormData.riskLevel||'low';const isDspRequired=riskLevel==='veryDangerous'&&employeeCount>=10;// Only validate expert and doctor assignments (these are always required)\nconst isExpertValid=await checkExpertAssignment(workplaceData);const isDoctorValid=await checkDoctorAssignment(workplaceData);// Only validate DSP assignment if it's required\nconst isDspValid=isDspRequired?await checkDspAssignment(workplaceData):true;// If any required assignment is invalid, don't proceed with saving\nif(!isExpertValid||!isDoctorValid||!isDspValid){return;}// Update existing workplace\nconst updatedWorkplace=await updateWorkplace(modalFormData.id,workplaceData);// Show success message\nsetSuccess('İş yeri başarıyla güncellendi!');// Close modal first\nsetIsModalOpen(false);// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Clear notifications\nclearNotifications();}}catch(error){console.error('Error updating workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri g\\xFCncellenirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri güncellenirken hata oluştu');}clearNotifications();}};const handleDeleteWorkplace=()=>{// Show confirmation dialog before deleting\nsetShowDeleteConfirmation(true);};// Function to confirm deletion\nconst confirmDeleteWorkplace=async()=>{try{if(modalFormData.id){// Delete from backend\nawait deleteWorkplace(modalFormData.id);// Show success message\nsetSuccess('İş yeri başarıyla silindi!');// Close confirmation dialog and modal\nsetShowDeleteConfirmation(false);closeModal();// Refresh all data from backend to ensure consistency\nawait fetchAllData();// Reset to first page if we're on an empty page\nconst newTotalPages=Math.ceil(workplaces.length/workplacesPerPage);if(currentPage>newTotalPages&&newTotalPages>0){setCurrentPage(newTotalPages);}else if(newTotalPages===0){setCurrentPage(1);}// Clear notifications\nclearNotifications();}else{setShowDeleteConfirmation(false);closeModal();}}catch(error){console.error('Error deleting workplace:',error);// Provide more specific error message\nif(error.message){setError(\"\\u0130\\u015F yeri silinirken hata olu\\u015Ftu: \".concat(error.message));}else{setError('İş yeri silinirken hata oluştu');}clearNotifications();}};// Function to cancel deletion\nconst cancelDeleteWorkplace=()=>{setShowDeleteConfirmation(false);};const handleApprovalStatusChange=async(id,status)=>{try{// Update local state first for immediate UI feedback\nsetWorkplaces(prev=>prev.map(workplace=>workplace.id===id?_objectSpread(_objectSpread({},workplace),{},{approvalStatus:status}):workplace));// Update the backend\nawait updateWorkplace(id,_objectSpread(_objectSpread({},workplaces.find(w=>w.id===id)),{},{approvalStatus:status}));// Show success message\nsetSuccess('Onay durumu başarıyla güncellendi!');clearNotifications();}catch(error){console.error('Error updating approval status:',error);setError('Onay durumu güncellenirken hata oluştu');clearNotifications();// Revert the local state change if backend update fails\nawait fetchAllData();}};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('tr-TR');};// Function to format risk level in Turkish\nconst formatRiskLevel=riskLevel=>{switch(riskLevel){case'low':return'Az Tehlikeli';case'dangerous':return'Tehlikeli';case'veryDangerous':return'Çok Tehlikeli';default:return'Belirtilmemiş';}};// Function to get expert name by ID\nconst getExpertName=(expertId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Expert){console.log('Using included Expert data:',workplace.Expert);// Check if firstName and lastName exist\nif(workplace.Expert.firstName&&workplace.Expert.lastName){return\"\".concat(workplace.Expert.firstName,\" \").concat(workplace.Expert.lastName);}}// Fallback to lookup in allExperts array\nif(!expertId)return'Atanmamış';const expert=allExperts.find(expert=>expert.id===parseInt(expertId));if(expert&&expert.firstName&&expert.lastName){return\"\".concat(expert.firstName,\" \").concat(expert.lastName);}return'Bilinmeyen Uzman';};// Function to get doctor name by ID\nconst getDoctorName=(doctorId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Doctor){console.log('Using included Doctor data:',workplace.Doctor);// Check if firstName and lastName exist\nif(workplace.Doctor.firstName&&workplace.Doctor.lastName){return\"\".concat(workplace.Doctor.firstName,\" \").concat(workplace.Doctor.lastName);}}// Fallback to lookup in allDoctors array\nif(!doctorId)return'Atanmamış';const doctor=allDoctors.find(doctor=>doctor.id===parseInt(doctorId));if(doctor&&doctor.firstName&&doctor.lastName){return\"\".concat(doctor.firstName,\" \").concat(doctor.lastName);}return'Bilinmeyen Hekim';};// Function to get DSP name by ID\nconst getDspName=(dspId,workplace)=>{// First try to get name from included data in workplace\nif(workplace&&workplace.Dsp){console.log('Using included Dsp data:',workplace.Dsp);// Check if firstName and lastName exist\nif(workplace.Dsp.firstName&&workplace.Dsp.lastName){return\"\".concat(workplace.Dsp.firstName,\" \").concat(workplace.Dsp.lastName);}}// Fallback to lookup in allDsps array\nif(!dspId)return'Atanmamış';const dsp=allDsps.find(dsp=>dsp.id===parseInt(dspId));if(dsp&&dsp.firstName&&dsp.lastName){return\"\".concat(dsp.firstName,\" \").concat(dsp.lastName);}return'Bilinmeyen DSP';};const handleEditWorkplace=()=>{setWorkplaces(prev=>prev.map(workplace=>workplace.id===modalFormData.id?modalFormData:workplace));closeModal();};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setModalFormData({});// Allow background scrolling when modal is closed\ndocument.body.style.overflow='auto';};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),duplicateWarning.show&&/*#__PURE__*/_jsxs(\"div\",{className:\"duplicate-warning-popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Zaten Mevcut\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bu kay\\u0131t daha \\xF6nce girilmi\\u015F. Tekrar kay\\u0131t yapmak i\\xE7in ilgili sat\\u0131r\\u0131 d\\xFCzenleyebilirsiniz.\"})]}),showNoExpertPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoExpertPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Uzman Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoExpertPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun uzman bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoExpertPopup(false),children:\"Tamam\"})})]})}),showNoDoctorPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDoctorPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun Hekim Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDoctorPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun hekim bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDoctorPopup(false),children:\"Tamam\"})})]})}),showNoDspPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowNoDspPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uygun DSP Bulunmuyor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowNoDspPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Atanacak uygun DSP bulunmamaktad\\u0131r.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowNoDspPopup(false),children:\"Tamam\"})})]})}),showDspNotAllowedPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setShowDspNotAllowedPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DSP Atanamaz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Se\\xE7ilen i\\u015F yerine DSP atanamaz.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowDspNotAllowedPopup(false),children:\"Tamam\"})})]})}),showDeleteConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:cancelDeleteWorkplace,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131t Silme Onay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-close\",onClick:cancelDeleteWorkplace,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kay\\u0131d\\u0131 ger\\xE7ekten silmek istiyor musunuz?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:cancelDeleteWorkplace,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:confirmDeleteWorkplace,children:\"Sil\"})]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"workplace-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK \\u0130\\u015Fyeri Sicil No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",value:formData.sskRegistrationNo,onChange:handleSSkRegistrationNoChange,className:\"form-input ssk-input\",placeholder:\"x xxxx xx xx xxxxx xxx xx xx xxx\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:formData.address,onChange:handleChange,className:\"form-textarea\",required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"price-input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:isPriceFocused?formData.price:formatPriceForDisplay(formData.price),onChange:handlePriceChange,onFocus:handlePriceFocus,onBlur:handlePriceBlur,className:\"form-input price-input\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"kdv-checkbox-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kdv-included\",className:\"kdv-checkbox\",checked:isKdvIncluded,onChange:e=>setIsKdvIncluded(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"kdv-included\",className:\"kdv-label\",children:\"KDV Dahil\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCount\",value:formData.employeeCount,onChange:handleEmployeeCountChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Takip Edecek:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"trackingExpertId\",value:formData.trackingExpertId,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allExperts.map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName]},\"tracking-\".concat(expert.id)))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",value:formData.taxOffice,onChange:handleChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Numaras\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",value:formData.taxNumber,onChange:handleTaxNumberChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",value:formData.riskLevel,onChange:handleChange,className:\"form-select\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",value:formData.source,onChange:handleSourceChange,className:\"form-input\",required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",value:formData.assignedExpertId,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredExperts(formData.riskLevel,parseInt(formData.employeeCount)||0).map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\" - \",expert.assignedMinutes,\" dk)\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",value:formData.assignedDoctorId,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredDoctors(formData.riskLevel,parseInt(formData.employeeCount)||0).map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName,\" (\",doctor.assignedMinutes,\" dk)\"]},doctor.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group dsp-selection-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",value:formData.assignedDspId,onChange:handleChange,className:\"form-select\",disabled:!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),getFilteredDsps(formData.riskLevel,parseInt(formData.employeeCount)||0).map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName,\" (\",dsp.assignedMinutes,\" dk)\"]},dsp.id))]}),!isDspAssignmentAllowed(formData.riskLevel,parseInt(formData.employeeCount)||0)&&/*#__PURE__*/_jsx(\"div\",{className:\"form-hint\",children:\"DSP atamas\\u0131 bu i\\u015F yeri i\\xE7in yap\\u0131lamaz\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",value:formData.registrationDate,onChange:handleChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xA0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions-inline\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleClose,children:\"Temizle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Kaydet\"})]})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rows-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-row-no-box\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-label\",onClick:()=>sortWorkplaces('name'),children:[\"\\u0130\\u015F Yeri Ad\\u0131\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='name'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='name'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-source\",onClick:()=>sortWorkplaces('source'),children:[\"Kaynak\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='source'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='source'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-date\",onClick:()=>sortWorkplaces('registrationDate'),children:[\"Kay\\u0131t Tarihi\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='registrationDate'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='registrationDate'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-expert\",onClick:()=>sortWorkplaces('assignedExpertId'),children:[\"Uzman\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='assignedExpertId'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='assignedExpertId'&&sortConfig.direction==='desc'?'active':'')})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"row-header-status\",onClick:()=>sortWorkplaces('approvalStatus'),children:[\"Durum\",/*#__PURE__*/_jsxs(\"span\",{className:\"sort-arrows\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-up \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='approvalStatus'&&sortConfig.direction==='asc'?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"sort-arrow sort-arrow-down \".concat((sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)==='approvalStatus'&&sortConfig.direction==='desc'?'active':'')})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"workplaces-list\",children:getSortedWorkplaces().slice((currentPage-1)*workplacesPerPage,currentPage*workplacesPerPage).map(workplace=>{var _duplicateWarning$wor;return/*#__PURE__*/_jsxs(\"div\",{id:\"workplace-row-\".concat(workplace.id),className:\"row-item \".concat(duplicateWarning.show&&((_duplicateWarning$wor=duplicateWarning.workplace)===null||_duplicateWarning$wor===void 0?void 0:_duplicateWarning$wor.id)===workplace.id?'duplicate-highlight':''),onClick:e=>{// Only open modal if the click is not on the status dropdown\nif(!e.target.closest('.inline-approval-status')){handleRowClick(workplace);}},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-label\",children:workplace.name}),/*#__PURE__*/_jsx(\"div\",{className:\"row-source\",children:workplace.source}),/*#__PURE__*/_jsx(\"div\",{className:\"row-date\",children:formatDate(workplace.registrationDate)}),/*#__PURE__*/_jsx(\"div\",{className:\"row-expert\",children:getExpertName(workplace.assignedExpertId,workplace)}),/*#__PURE__*/_jsxs(\"select\",{className:\"inline-approval-status approval-status-\".concat(workplace.approvalStatus),value:workplace.approvalStatus,onChange:e=>handleApprovalStatusChange(workplace.id,e.target.value),onClick:e=>e.stopPropagation()// Prevent row click when clicking on dropdown\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]},workplace.id);})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pagination-link \".concat(workplaces.length===0?'disabled':''),onClick:()=>workplaces.length>0&&handlePageChange(currentPage>1?currentPage-1:totalPages),children:\"\\xD6nceki\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"page-info\",children:[\"Sayfa \",currentPage,\" / \",totalPages]}),/*#__PURE__*/_jsx(\"span\",{className:\"pagination-link \".concat(workplaces.length===0?'disabled':''),onClick:()=>workplaces.length>0&&handlePageChange(currentPage<totalPages?currentPage+1:1),children:\"Sonraki\"})]})]})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0130\\u015F Yeri D\\xFCzenle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleModalSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0130\\u015F Yeri Ad\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:modalFormData.name||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"SGK \\u0130\\u015Fyeri Sicil No:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sskRegistrationNo\",value:modalFormData.sskRegistrationNo||'',onChange:handleModalChange,className:\"form-input ssk-input\",placeholder:\"x xxxx xx xx xxxxx xxx xx xx xxx\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Adres:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:modalFormData.address||'',onChange:handleModalChange,className:\"form-textarea\",required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Fiyat:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"price-input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:isModalPriceFocused?modalFormData.price||'':formatPriceForDisplay(modalFormData.price||''),onChange:handleModalPriceChange,onFocus:handleModalPriceFocus,onBlur:handleModalPriceBlur,className:\"form-input price-input\",required:true})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Dairesi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxOffice\",value:modalFormData.taxOffice||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Vergi Numaras\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taxNumber\",value:modalFormData.taxNumber||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Tehlike S\\u0131n\\u0131f\\u0131:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"riskLevel\",value:modalFormData.riskLevel||'',onChange:handleModalChange,className:\"form-select\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Az Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dangerous\",children:\"Tehlikeli\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veryDangerous\",children:\"\\xC7ok Tehlikeli\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC7al\\u0131\\u015Fan Say\\u0131s\\u0131:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCount\",value:modalFormData.employeeCount||'',onChange:handleModalChange,className:\"form-input\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kaynak:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"source\",value:modalFormData.source||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Uzman:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedExpertId\",value:modalFormData.assignedExpertId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allExperts.map(expert=>/*#__PURE__*/_jsxs(\"option\",{value:expert.id,children:[expert.firstName,\" \",expert.lastName,\" (\",expert.expertiseClass,\")\"]},expert.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Hekim:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDoctorId\",value:modalFormData.assignedDoctorId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allDoctors.map(doctor=>/*#__PURE__*/_jsxs(\"option\",{value:doctor.id,children:[doctor.firstName,\" \",doctor.lastName]},doctor.id))]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan DSP:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assignedDspId\",value:modalFormData.assignedDspId||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7iniz\"}),allDsps.map(dsp=>/*#__PURE__*/_jsxs(\"option\",{value:dsp.id,children:[dsp.firstName,\" \",dsp.lastName]},dsp.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Kay\\u0131t Tarihi:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"registrationDate\",value:modalFormData.registrationDate||'',onChange:handleModalChange,className:\"form-input\",required:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Onay Durumu:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"approvalStatus\",value:modalFormData.approvalStatus||'',onChange:handleModalChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"atama\",children:\"Atama yap\\u0131lacak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bekliyor\",children:\"Onay bekleniyor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onaylandi\",children:\"Onayland\\u0131\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDeleteWorkplace,children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:closeModal,children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"G\\xFCncelle\"})]})]})})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useLocation","createWorkplace","updateWorkplace","getAvailableExperts","getAvailableDoctors","getAvailableDsps","getAllWorkplaces","deleteWorkplace","getAllExperts","getAllDoctors","getAllDsps","jsx","_jsx","jsxs","_jsxs","Dashboard","console","log","Date","toISOString","location","formData","setFormData","name","sskRegistrationNo","address","price","taxOffice","taxNumber","riskLevel","employeeCount","source","assignedExpertId","assignedDoctorId","assignedDspId","trackingExpertId","registrationDate","isKdvIncluded","setIsKdvIncluded","workplaces","setWorkplaces","currentPage","setCurrentPage","isModalOpen","setIsModalOpen","modalFormData","setModalFormData","showNoExpertPopup","setShowNoExpertPopup","showNoDoctorPopup","setShowNoDoctorPopup","showNoDspPopup","setShowNoDspPopup","showDspNotAllowedPopup","setShowDspNotAllowedPopup","showDeleteConfirmation","setShowDeleteConfirmation","allExperts","setAllExperts","allDoctors","setAllDoctors","allDsps","setAllDsps","success","setSuccess","error","setError","duplicateWarning","setDuplicateWarning","show","workplace","workplacesPerPage","totalPages","Math","ceil","length","sortConfig","setSortConfig","sortWorkplaces","key","direction","getSortedWorkplaces","sort","a","b","dateA","getTime","dateB","aValue","bValue","riskOrder","approvalOrder","getExpertName","getDoctorName","getDspName","fetchAllData","workplacesData","expertsData","doctorsData","dspsData","Promise","all","workplacesCount","expertsCount","doctorsCount","dspsCount","pathname","handleFocus","window","addEventListener","removeEventListener","clearNotifications","setTimeout","isValidTurkishText","text","test","isNumericOnly","handleChange","e","value","target","parseInt","isAllowed","isDspAssignmentAllowed","prev","_objectSpread","isPriceFocused","setIsPriceFocused","isModalPriceFocused","setIsModalPriceFocused","formatPriceForDisplay","toLocaleString","parsePrice","formattedPrice","cleaned","replace","handlePriceChange","handleModalPriceChange","handlePriceFocus","handlePriceBlur","handleModalPriceFocus","String","handleModalPriceBlur","handleSSkRegistrationNoChange","substring","formattedValue","i","isValidSourceText","handleSourceChange","handleTaxNumberChange","handleEmployeeCountChange","handleClose","calculateRequiredMinutes","calculateRequiredDoctorMinutes","calculateRequiredDspMinutes","getFilteredExperts","requiredMinutes","filter","expert","assignedMinutes","expertiseClass","getFilteredDoctors","doctor","getFilteredDsps","isDspRequired","dsp","checkExpertAssignment","workplaceData","tempWorkplaceId","tempWorkplace","approvalStatus","id","availableExperts","selectedExpert","find","deleteError","checkDoctorAssignment","availableDoctors","selectedDoctor","checkDspAssignment","availableDsps","selectedDsp","handleSubmit","preventDefault","submitTimestamp","now","formattedSskNo","existingWorkplace","element","document","getElementById","concat","scrollIntoView","behavior","block","isExpertValid","isDoctorValid","isDspValid","newWorkplace","dispatchEvent","CustomEvent","detail","message","handlePageChange","pageNumber","getCurrentPageWorkplaces","startIndex","endIndex","result","slice","handleRowClick","body","style","overflow","handleModalChange","finalFormattedValue","handleModalSubmit","updatedWorkplace","handleDeleteWorkplace","confirmDeleteWorkplace","closeModal","newTotalPages","cancelDeleteWorkplace","handleApprovalStatusChange","status","map","w","formatDate","dateString","date","toLocaleDateString","formatRiskLevel","expertId","Expert","firstName","lastName","doctorId","Doctor","dspId","Dsp","handleEditWorkplace","className","children","onClick","stopPropagation","onSubmit","type","onChange","required","placeholder","onFocus","onBlur","checked","htmlFor","disabled","_duplicateWarning$wor","closest"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Dashboard.css';\r\nimport { createWorkplace, updateWorkplace, getAvailableExperts, getAvailableDoctors, getAvailableDsps, getAllWorkplaces, deleteWorkplace, getAllExperts, getAllDoctors, getAllDsps } from '../services/api';\r\n\r\n// Define types\r\ninterface Workplace {\r\n  id: number;\r\n  name: string;\r\n  sskRegistrationNo: string;\r\n  address: string;\r\n  price: string;\r\n  taxOffice: string;\r\n  taxNumber: string;\r\n  riskLevel: string;\r\n  employeeCount: string;\r\n  source: string;\r\n  assignedExpertId: string;\r\n  assignedDoctorId: string;\r\n  assignedDspId: string;\r\n  registrationDate: string;\r\n  approvalStatus: string;\r\n  // Add optional personnel objects that will be included from backend\r\n  Expert?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n  Doctor?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n  Dsp?: {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n  } | null;\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  console.log('Dashboard component rendered at:', new Date().toISOString());\r\n  const location = useLocation();\r\n  \r\n  // State declarations\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    sskRegistrationNo: '',\r\n    address: '',\r\n    price: '',\r\n    taxOffice: '',\r\n    taxNumber: '',\r\n    riskLevel: 'low',\r\n    employeeCount: '',\r\n    source: '',\r\n    assignedExpertId: '',\r\n    assignedDoctorId: '',\r\n    assignedDspId: '',\r\n    trackingExpertId: '', // Added for tracking expert\r\n    registrationDate: '',\r\n  });\r\n  \r\n  const [isKdvIncluded, setIsKdvIncluded] = useState<boolean>(false);\r\n  const [workplaces, setWorkplaces] = useState<Workplace[]>([]);\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\r\n  const [modalFormData, setModalFormData] = useState<Partial<Workplace>>({});\r\n  const [showNoExpertPopup, setShowNoExpertPopup] = useState<boolean>(false);\r\n  const [showNoDoctorPopup, setShowNoDoctorPopup] = useState<boolean>(false);\r\n  const [showNoDspPopup, setShowNoDspPopup] = useState<boolean>(false);\r\n  const [showDspNotAllowedPopup, setShowDspNotAllowedPopup] = useState<boolean>(false);\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState<boolean>(false);\r\n  const [allExperts, setAllExperts] = useState<any[]>([]);\r\n  const [allDoctors, setAllDoctors] = useState<any[]>([]);\r\n  const [allDsps, setAllDsps] = useState<any[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [duplicateWarning, setDuplicateWarning] = useState<{show: boolean, workplace: Workplace | null}>({show: false, workplace: null});\r\n\r\n  // Constants\r\n  const workplacesPerPage = 10;\r\n  \r\n  // Derived state\r\n  const totalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n  \r\n  // Add state for sorting\r\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' } | null>(null);\r\n  \r\n  // Function to sort workplaces\r\n  const sortWorkplaces = (key: string) => {\r\n    let direction: 'asc' | 'desc' = 'asc';\r\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    \r\n    setSortConfig({ key, direction });\r\n  };\r\n  \r\n  // Apply sorting to workplaces\r\n  const getSortedWorkplaces = () => {\r\n    // If no sort config is set, sort by registration date descending (newest first)\r\n    if (!sortConfig) {\r\n      return [...workplaces].sort((a, b) => {\r\n        const dateA = new Date(a.registrationDate || '').getTime();\r\n        const dateB = new Date(b.registrationDate || '').getTime();\r\n        return dateB - dateA; // Descending order - newest first\r\n      });\r\n    }\r\n    \r\n    return [...workplaces].sort((a, b) => {\r\n      // Type guard to ensure key is a valid keyof Workplace\r\n      const key = sortConfig.key as keyof Workplace;\r\n      \r\n      // Handle different data types for sorting\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (key) {\r\n        case 'name':\r\n        case 'source':\r\n          aValue = a[key] || '';\r\n          bValue = b[key] || '';\r\n          break;\r\n        case 'registrationDate':\r\n          aValue = new Date(a[key] || '').getTime();\r\n          bValue = new Date(b[key] || '').getTime();\r\n          break;\r\n        case 'riskLevel':\r\n          // Custom sorting for risk levels: 'low' < 'dangerous' < 'veryDangerous'\r\n          const riskOrder: Record<string, number> = {\r\n            'low': 1,\r\n            'dangerous': 2,\r\n            'veryDangerous': 3\r\n          };\r\n          aValue = riskOrder[a[key]] || 0;\r\n          bValue = riskOrder[b[key]] || 0;\r\n          break;\r\n        case 'approvalStatus':\r\n          // Custom sorting for approval status: 'atama' < 'bekliyor' < 'onaylandi'\r\n          const approvalOrder: Record<string, number> = {\r\n            'atama': 1,\r\n            'bekliyor': 2,\r\n            'onaylandi': 3\r\n          };\r\n          aValue = approvalOrder[a[key]] || 0;\r\n          bValue = approvalOrder[b[key]] || 0;\r\n          break;\r\n        case 'assignedExpertId':\r\n          aValue = getExpertName(a[key]);\r\n          bValue = getExpertName(b[key]);\r\n          break;\r\n        case 'assignedDoctorId':\r\n          aValue = getDoctorName(a[key]);\r\n          bValue = getDoctorName(b[key]);\r\n          break;\r\n        case 'assignedDspId':\r\n          aValue = getDspName(a[key]);\r\n          bValue = getDspName(b[key]);\r\n          break;\r\n        default:\r\n          aValue = a[key];\r\n          bValue = b[key];\r\n      }\r\n      \r\n      if (aValue < bValue) {\r\n        return sortConfig.direction === 'asc' ? -1 : 1;\r\n      }\r\n      if (aValue > bValue) {\r\n        return sortConfig.direction === 'asc' ? 1 : -1;\r\n      }\r\n      return 0;\r\n    });\r\n  };\r\n  \r\n  // Add a useEffect to log when component mounts and unmounts\r\n  useEffect(() => {\r\n    console.log('Dashboard component mounted at:', new Date().toISOString());\r\n    \r\n    // Cleanup function\r\n    return () => {\r\n      console.log('Dashboard component unmounted at:', new Date().toISOString());\r\n    };\r\n  }, []);\r\n  \r\n  // Function to fetch all data - similar to ExpertCardPage approach\r\n  const fetchAllData = useCallback(async () => {\r\n    try {\r\n      console.log('Fetching all data from backend...');\r\n      \r\n      // Fetch all data in parallel\r\n      const [workplacesData, expertsData, doctorsData, dspsData] = await Promise.all([\r\n        getAllWorkplaces(),\r\n        getAllExperts(),\r\n        getAllDoctors(),\r\n        getAllDsps()\r\n      ]);\r\n      \r\n      console.log('Received all data:', { \r\n        workplacesCount: workplacesData.length, \r\n        expertsCount: expertsData.length, \r\n        doctorsCount: doctorsData.length, \r\n        dspsCount: dspsData.length \r\n      });\r\n      \r\n      // Log first workplace to see structure\r\n      if (workplacesData.length > 0) {\r\n        console.log('First workplace data:', workplacesData[0]);\r\n      }\r\n      \r\n      // Update all state\r\n      setWorkplaces(workplacesData);\r\n      setAllExperts(expertsData);\r\n      setAllDoctors(doctorsData);\r\n      setAllDsps(dspsData);\r\n      console.log('State updated after data fetch');\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setError('Veri alınırken hata oluştu');\r\n    }\r\n  }, []);\r\n\r\n  // Load all data from backend on component mount - similar to ExpertCardPage approach\r\n  useEffect(() => {\r\n    console.log('Dashboard useEffect running - fetching all data at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  // Refresh data when location changes\r\n  useEffect(() => {\r\n    console.log('Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchAllData();\r\n  }, [location.pathname]);\r\n\r\n  // Refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('Window focused, refreshing all data...');\r\n      fetchAllData();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n  \r\n  // Add effect to log workplaces data when it changes\r\n  useEffect(() => {\r\n    console.log('Workplaces data updated:', workplaces);\r\n  }, [workplaces]);\r\n  \r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Helper function to validate Turkish text (letters, spaces, and Turkish characters only)\r\n  const isValidTurkishText = (text: string): boolean => {\r\n    // Allow letters, spaces, and Turkish-specific characters: ğ, ü, ş, ı, ö, ç (both lowercase and uppercase)\r\n    return /^([a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*)$/.test(text);\r\n  };\r\n\r\n  // Helper function to validate numeric input only\r\n  const isNumericOnly = (text: string): boolean => {\r\n    // Allow only digits (0-9)\r\n    return /^([0-9]*)$/.test(text);\r\n  };\r\n\r\n  // Handlers\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Check if user is trying to assign a DSP when it's not allowed\r\n    if (name === 'assignedDspId' && value) {\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isAllowed = isDspAssignmentAllowed(formData.riskLevel, employeeCount);\r\n      \r\n      if (!isAllowed) {\r\n        // Show warning popup\r\n        setShowDspNotAllowedPopup(true);\r\n        return; // Don't update the form data\r\n      }\r\n    }\r\n    \r\n    // Validate tax office field - only allow letters and Turkish characters\r\n    if (name === 'taxOffice' && value && !isValidTurkishText(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    // Validate tax number field - only allow numeric values\r\n    if (name === 'taxNumber' && value && !isNumericOnly(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // State to track if price fields are focused\r\n  const [isPriceFocused, setIsPriceFocused] = useState(false);\r\n  const [isModalPriceFocused, setIsModalPriceFocused] = useState(false);\r\n\r\n  // Format price with Turkish thousands separators without rounding\r\n  const formatPriceForDisplay = (price: string): string => {\r\n    if (!price) return '';\r\n    // Validate that the input is a valid number string\r\n    if (!/^[0-9]*$/.test(price)) return price;\r\n    // Format without any rounding, preserving exact input\r\n    return parseInt(price).toLocaleString('tr-TR');\r\n  };\r\n\r\n  // Parse formatted price back to plain number string\r\n  const parsePrice = (formattedPrice: string): string => {\r\n    if (!formattedPrice) return '';\r\n    // Remove thousands separators (periods) - no decimal handling needed\r\n    const cleaned = formattedPrice.replace(/\\./g, '');\r\n    // Validate that the result is a valid number\r\n    return /^[0-9]*$/.test(cleaned) ? cleaned : '';\r\n  };\r\n\r\n  const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values (no formatting characters needed)\r\n    if (value === '' || /^[0-9]*$/.test(value)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        price: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleModalPriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    // Allow only numeric values (no formatting characters needed)\r\n    if (value === '' || /^[0-9]*$/.test(value)) {\r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        price: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Handle price field focus\r\n  const handlePriceFocus = () => {\r\n    setIsPriceFocused(true);\r\n    // When focusing, show the raw number value\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      price: parsePrice(prev.price)\r\n    }));\r\n  };\r\n  \r\n  // Handle price field blur\r\n  const handlePriceBlur = () => {\r\n    setIsPriceFocused(false);\r\n    // When blurring, format the value for display\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      price: formatPriceForDisplay(prev.price)\r\n    }));\r\n  };\r\n  \r\n  // Handle modal price field focus\r\n  const handleModalPriceFocus = () => {\r\n    setIsModalPriceFocused(true);\r\n    // When focusing, show the raw number value\r\n    setModalFormData(prev => ({\r\n      ...prev,\r\n      price: typeof prev.price === 'string' ? parsePrice(prev.price) : String(prev.price || '')\r\n    }));\r\n  };\r\n  \r\n  // Handle modal price field blur\r\n  const handleModalPriceBlur = () => {\r\n    setIsModalPriceFocused(false);\r\n    // When blurring, format the value for display\r\n    setModalFormData(prev => ({\r\n      ...prev,\r\n      price: typeof prev.price === 'string' ? formatPriceForDisplay(prev.price) : String(prev.price || '')\r\n    }));\r\n  };\r\n  \r\n  const handleSSkRegistrationNoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    let value = e.target.value.replace(/\\D/g, ''); // Remove non-digit characters\r\n    \r\n    // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n    if (value.length > 21) value = value.substring(0, 21);\r\n    \r\n    let formattedValue = '';\r\n    for (let i = 0; i < value.length; i++) {\r\n      if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n        formattedValue += ' ' + value[i];\r\n      } else {\r\n        formattedValue += value[i];\r\n      }\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      sskRegistrationNo: formattedValue\r\n    }));\r\n  };\r\n  \r\n  // Helper function to validate source field - only allow letters and Turkish characters\r\n  const isValidSourceText = (text: string): boolean => {\r\n    // Allow letters, spaces, and Turkish-specific characters: ğ, ü, ş, ı, ö, ç (both lowercase and uppercase)\r\n    return /^([a-zA-ZğüşıöçĞÜŞİÖÇ\\s]*)$/.test(text);\r\n  };\r\n  \r\n  // Override handleChange for source field validation\r\n  const handleSourceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Validate source field - only allow letters and Turkish characters\r\n    if (name === 'source' && value && !isValidSourceText(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // Helper function to validate tax number field - only allow numeric values\r\n  const handleTaxNumberChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Validate tax number field - only allow numeric values\r\n    if (name === 'taxNumber' && value && !isNumericOnly(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // Helper function to validate employee count field - only allow numeric values\r\n  const handleEmployeeCountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Validate employee count field - only allow numeric values\r\n    if (name === 'employeeCount' && value && !isNumericOnly(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  const handleClose = () => {\r\n    setFormData({\r\n      name: '',\r\n      sskRegistrationNo: '',\r\n      address: '',\r\n      price: '',\r\n      taxOffice: '',\r\n      taxNumber: '',\r\n      riskLevel: 'low',\r\n      employeeCount: '',\r\n      source: '',\r\n      assignedExpertId: '',\r\n      assignedDoctorId: '',\r\n      assignedDspId: '',\r\n      trackingExpertId: '',\r\n      registrationDate: '',\r\n    });\r\n    setIsKdvIncluded(false);\r\n  };\r\n  \r\n  // Function to calculate required minutes based on risk level and employee count\r\n  const calculateRequiredMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 10;\r\n      case 'dangerous':\r\n        return employeeCount * 20;\r\n      case 'veryDangerous':\r\n        return employeeCount * 40;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for doctors based on risk level and employee count\r\n  const calculateRequiredDoctorMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return employeeCount * 5;\r\n      case 'dangerous':\r\n        return employeeCount * 10;\r\n      case 'veryDangerous':\r\n        return employeeCount * 15;\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n  \r\n  // Function to calculate required minutes for DSPs based on risk level and employee count\r\n  const calculateRequiredDspMinutes = (riskLevel: string, employeeCount: number): number => {\r\n    // DSP is only required for very dangerous workplaces with 10+ employees\r\n    if (riskLevel !== 'veryDangerous' || employeeCount < 10) {\r\n      return 0;\r\n    }\r\n    return employeeCount * 5; // 5 minutes per employee for DSP\r\n  };\r\n  \r\n  // Function to filter experts based on risk level and required minutes\r\n  const getFilteredExperts = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredMinutes(riskLevel, employeeCount);\r\n    \r\n    return allExperts.filter(expert => {\r\n      // Check if expert has enough minutes\r\n      if (expert.assignedMinutes < requiredMinutes) {\r\n        return false;\r\n      }\r\n      \r\n      // Filter based on expertise class and risk level\r\n      // A class experts can handle all risk levels\r\n      // B class experts can handle low and dangerous risk levels\r\n      // C class experts can only handle low risk level\r\n      switch (expert.expertiseClass) {\r\n        case 'A':\r\n          return true; // A class can handle all risk levels\r\n        case 'B':\r\n          return riskLevel === 'low' || riskLevel === 'dangerous'; // B class can handle low and dangerous\r\n        case 'C':\r\n          return riskLevel === 'low'; // C class can only handle low risk\r\n        default:\r\n          return false;\r\n      }\r\n    });\r\n  };\r\n  \r\n  // Function to filter doctors based on required minutes\r\n  const getFilteredDoctors = (riskLevel: string, employeeCount: number) => {\r\n    const requiredMinutes = calculateRequiredDoctorMinutes(riskLevel, employeeCount);\r\n    \r\n    return allDoctors.filter(doctor => {\r\n      // Check if doctor has enough minutes\r\n      return doctor.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to filter DSPs based on required minutes\r\n  const getFilteredDsps = (riskLevel: string, employeeCount: number) => {\r\n    // Check if DSP assignment is allowed for this workplace\r\n    const isAllowed = isDspAssignmentAllowed(riskLevel, employeeCount);\r\n    \r\n    // If DSP assignment is not allowed, return empty array\r\n    if (!isAllowed) {\r\n      return [];\r\n    }\r\n    \r\n    // DSP minutes are deducted at 5 minutes per employee for very dangerous workplaces with 10+ employees\r\n    const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n    \r\n    // If DSP is not required, return all DSPs (optional assignment) that have at least 1 minute\r\n    if (!isDspRequired) {\r\n      return allDsps.filter(dsp => dsp.assignedMinutes > 0); // Return all DSPs with at least 1 minute\r\n    }\r\n    \r\n    // If DSP is required, filter based on required minutes (5 minutes per employee)\r\n    const requiredMinutes = employeeCount * 5;\r\n    \r\n    return allDsps.filter(dsp => {\r\n      // Check if DSP has enough minutes\r\n      return dsp.assignedMinutes >= requiredMinutes;\r\n    });\r\n  };\r\n  \r\n  // Function to check if expert assignment is valid\r\n  const checkExpertAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseInt(parsePrice(workplaceData.price)) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available experts for this workplace\r\n      const availableExperts = await getAvailableExperts(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no experts available, show popup\r\n      if (availableExperts.length === 0) {\r\n        setShowNoExpertPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If an expert is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedExpertId) {\r\n        const selectedExpert = availableExperts.find((expert: any) => expert.id === parseInt(workplaceData.assignedExpertId));\r\n        if (!selectedExpert) {\r\n          setShowNoExpertPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking expert assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if doctor assignment is valid\r\n  const checkDoctorAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseInt(parsePrice(workplaceData.price)) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Get available doctors for this workplace\r\n      const availableDoctors = await getAvailableDoctors(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no doctors available, show popup\r\n      if (availableDoctors.length === 0) {\r\n        setShowNoDoctorPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a doctor is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDoctorId) {\r\n        const selectedDoctor = availableDoctors.find((doctor: any) => doctor.id === parseInt(workplaceData.assignedDoctorId));\r\n        if (!selectedDoctor) {\r\n          setShowNoDoctorPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking doctor assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is valid\r\n  const checkDspAssignment = async (workplaceData: any) => {\r\n    let tempWorkplaceId: number | null = null;\r\n    try {\r\n      // Create a temporary workplace to get its ID\r\n      const tempWorkplace = await createWorkplace({\r\n        ...workplaceData,\r\n        employeeCount: parseInt(workplaceData.employeeCount) || 0,\r\n        price: parseInt(parsePrice(workplaceData.price)) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: workplaceData.assignedExpertId || null,\r\n        assignedDoctorId: workplaceData.assignedDoctorId || null,\r\n        assignedDspId: workplaceData.assignedDspId || null\r\n      });\r\n      \r\n      tempWorkplaceId = tempWorkplace.id;\r\n      \r\n      // Check if DSP is actually required for this workplace\r\n      const employeeCount = parseInt(workplaceData.employeeCount) || 0;\r\n      const isDspRequired = workplaceData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // If DSP is not required, don't check availability\r\n      if (!isDspRequired) {\r\n        // Delete the temporary workplace\r\n        await deleteWorkplace(tempWorkplace.id);\r\n        return true; // DSP assignment is not required, so it's valid\r\n      }\r\n      \r\n      // Get available DSPs for this workplace\r\n      const availableDsps = await getAvailableDsps(tempWorkplace.id);\r\n      \r\n      // Delete the temporary workplace\r\n      await deleteWorkplace(tempWorkplace.id);\r\n      \r\n      // If no DSPs available when required, show popup\r\n      if (availableDsps.length === 0) {\r\n        setShowNoDspPopup(true);\r\n        return false;\r\n      }\r\n      \r\n      // If a DSP is selected, check if it's still available after deduction\r\n      if (workplaceData.assignedDspId) {\r\n        const selectedDsp = availableDsps.find((dsp: any) => dsp.id === parseInt(workplaceData.assignedDspId));\r\n        if (!selectedDsp) {\r\n          setShowNoDspPopup(true);\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error checking DSP assignment:', error);\r\n      // Try to delete the temporary workplace if it was created\r\n      if (tempWorkplaceId) {\r\n        try {\r\n          await deleteWorkplace(tempWorkplaceId);\r\n        } catch (deleteError) {\r\n          console.error('Error deleting temporary workplace:', deleteError);\r\n        }\r\n      }\r\n      return true; // Allow assignment if there's an error\r\n    }\r\n  };\r\n  \r\n  // Function to check if DSP assignment is allowed based on risk level and employee count\r\n  const isDspAssignmentAllowed = (riskLevel: string, employeeCount: number): boolean => {\r\n    // DSP can only be assigned to:\r\n    // 1. Very dangerous workplaces with 10+ employees (required)\r\n    // 2. Any workplace where user chooses to assign (optional, but only if not forbidden)\r\n    \r\n    // DSP assignment is NOT allowed for:\r\n    // 1. Low risk (az tehlikeli) workplaces\r\n    // 2. Dangerous (tehlikeli) workplaces\r\n    // 3. Very dangerous (çok tehlikeli) workplaces with less than 10 employees\r\n    \r\n    if (riskLevel === 'low' || riskLevel === 'dangerous') {\r\n      return false; // DSP assignment not allowed for low or dangerous risk levels\r\n    }\r\n    \r\n    if (riskLevel === 'veryDangerous' && employeeCount < 10) {\r\n      return false; // DSP assignment not allowed for very dangerous workplaces with less than 10 employees\r\n    }\r\n    \r\n    return true; // DSP assignment allowed (and required for very dangerous with 10+ employees)\r\n  };\r\n  \r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const submitTimestamp = Date.now();\r\n    console.log('handleSubmit called at:', new Date().toISOString(), '(submit #', submitTimestamp, ') with formData:', formData);\r\n    \r\n    try {\r\n      // Check for duplicate SGK registration number\r\n      const formattedSskNo = formData.sskRegistrationNo.replace(/\\s/g, ''); // Remove spaces for comparison\r\n      const existingWorkplace = workplaces.find(workplace => \r\n        workplace.sskRegistrationNo && \r\n        workplace.sskRegistrationNo.replace(/\\s/g, '') === formattedSskNo\r\n      );\r\n      \r\n      if (existingWorkplace) {\r\n        // Show duplicate warning popup\r\n        setDuplicateWarning({show: true, workplace: existingWorkplace});\r\n        \r\n        // Clear the warning after 5 seconds\r\n        setTimeout(() => {\r\n          setDuplicateWarning({show: false, workplace: null});\r\n        }, 5000);\r\n        \r\n        // Scroll to the existing workplace row\r\n        setTimeout(() => {\r\n          const element = document.getElementById(`workplace-row-${existingWorkplace.id}`);\r\n          if (element) {\r\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n          }\r\n        }, 100);\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Ensure all required fields are included and handle null values for assigned IDs\r\n      const workplaceData = {\r\n        ...formData,\r\n        employeeCount: parseInt(formData.employeeCount) || 0,\r\n        price: parseInt(parsePrice(formData.price)) || 0,\r\n        approvalStatus: 'atama',\r\n        // Handle null values for assigned IDs\r\n        assignedExpertId: formData.assignedExpertId || null,\r\n        assignedDoctorId: formData.assignedDoctorId || null,\r\n        assignedDspId: formData.assignedDspId || null\r\n      };\r\n      \r\n      console.log('Sending workplace data to backend (submit #', submitTimestamp, '):', workplaceData);\r\n      \r\n      // Check if personnel assignments are required\r\n      const employeeCount = parseInt(formData.employeeCount) || 0;\r\n      const isDspRequired = formData.riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n      \r\n      // Only validate expert and doctor assignments (these are always required)\r\n      const isExpertValid = await checkExpertAssignment(workplaceData);\r\n      const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n      \r\n      // Only validate DSP assignment if it's required\r\n      const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n      \r\n      // If any required assignment is invalid, don't proceed with saving\r\n      if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n        console.log('Personnel assignment validation failed, not saving (submit #', submitTimestamp, ')');\r\n        return;\r\n      }\r\n      \r\n      // Save to backend\r\n      const newWorkplace = await createWorkplace(workplaceData);\r\n      console.log('Created new workplace response (submit #', submitTimestamp, '):', newWorkplace);\r\n      \r\n      // Show success message\r\n      setSuccess('İş yeri başarıyla kaydedildi!');\r\n      \r\n      // Close the form first\r\n      handleClose();\r\n      console.log('Form closed (submit #', submitTimestamp, ')');\r\n      \r\n      // Refresh all data from backend to ensure consistency\r\n      await fetchAllData();\r\n      \r\n      // Dispatch custom event to notify other components about data change\r\n      window.dispatchEvent(new CustomEvent('workplaceCreated', { detail: { workplace: newWorkplace } }));\r\n      \r\n      // Reset to first page since we have new data\r\n      setCurrentPage(1);\r\n      console.log('Page reset to 1 (submit #', submitTimestamp, ')');\r\n      \r\n      // Clear notifications\r\n      clearNotifications();\r\n    } catch (error: any) {\r\n      console.error('Error saving workplace (submit #', submitTimestamp, '):', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri kaydedilirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri kaydedilirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n  \r\n  const handlePageChange = (pageNumber: number) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n  \r\n  const getCurrentPageWorkplaces = (): Workplace[] => {\r\n    const startIndex = (currentPage - 1) * workplacesPerPage;\r\n    const endIndex = startIndex + workplacesPerPage;\r\n    const result = workplaces.slice(startIndex, endIndex);\r\n    console.log('getCurrentPageWorkplaces called, returning:', result);\r\n    return result;\r\n  };\r\n  \r\n  const handleRowClick = (workplace: Workplace) => {\r\n    setModalFormData(workplace);\r\n    setIsModalOpen(true);\r\n    // Prevent background scrolling when modal is open\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n  \r\n  const handleModalChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Validate tax office field - only allow letters and Turkish characters\r\n    if (name === 'taxOffice' && value && !isValidTurkishText(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    // Validate tax number field - only allow numeric values\r\n    if (name === 'taxNumber' && value && !isNumericOnly(value)) {\r\n      return; // Don't update the form data if validation fails\r\n    }\r\n    \r\n    // Apply the same formatting logic for SGK registration number in the modal\r\n    if (name === 'sskRegistrationNo') {\r\n      let formattedValue = value.replace(/\\D/g, ''); // Remove non-digit characters\r\n      \r\n      // Format as \"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n      if (formattedValue.length > 21) formattedValue = formattedValue.substring(0, 21);\r\n      \r\n      let finalFormattedValue = '';\r\n      for (let i = 0; i < formattedValue.length; i++) {\r\n        if (i === 1 || i === 5 || i === 7 || i === 9 || i === 14 || i === 17 || i === 19) {\r\n          finalFormattedValue += ' ' + formattedValue[i];\r\n        } else {\r\n          finalFormattedValue += formattedValue[i];\r\n        }\r\n      }\r\n      \r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: finalFormattedValue\r\n      }));\r\n    } else {\r\n      setModalFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleModalSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (modalFormData.id) {\r\n        // Ensure all required fields are included and handle null values for assigned IDs\r\n        const workplaceData = {\r\n          ...modalFormData,\r\n          employeeCount: parseInt(modalFormData.employeeCount as string) || 0,\r\n          price: parseInt(parsePrice(modalFormData.price as string)) || 0,\r\n          // Handle null values for assigned IDs\r\n          assignedExpertId: modalFormData.assignedExpertId || null,\r\n          assignedDoctorId: modalFormData.assignedDoctorId || null,\r\n          assignedDspId: modalFormData.assignedDspId || null\r\n        };\r\n        \r\n        // Check if personnel assignments are required\r\n        const employeeCount = parseInt(modalFormData.employeeCount as string) || 0;\r\n        const riskLevel = (modalFormData.riskLevel as string) || 'low';\r\n        const isDspRequired = riskLevel === 'veryDangerous' && employeeCount >= 10;\r\n        \r\n        // Only validate expert and doctor assignments (these are always required)\r\n        const isExpertValid = await checkExpertAssignment(workplaceData);\r\n        const isDoctorValid = await checkDoctorAssignment(workplaceData);\r\n        \r\n        // Only validate DSP assignment if it's required\r\n        const isDspValid = isDspRequired ? await checkDspAssignment(workplaceData) : true;\r\n        \r\n        // If any required assignment is invalid, don't proceed with saving\r\n        if (!isExpertValid || !isDoctorValid || !isDspValid) {\r\n          return;\r\n        }\r\n        \r\n        // Update existing workplace\r\n        const updatedWorkplace = await updateWorkplace(modalFormData.id, workplaceData);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla güncellendi!');\r\n        \r\n        // Close modal first\r\n        setIsModalOpen(false);\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error updating workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri güncellenirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri güncellenirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkplace = () => {\r\n    // Show confirmation dialog before deleting\r\n    setShowDeleteConfirmation(true);\r\n  };\r\n\r\n  // Function to confirm deletion\r\n  const confirmDeleteWorkplace = async () => {\r\n    try {\r\n      if (modalFormData.id) {\r\n        // Delete from backend\r\n        await deleteWorkplace(modalFormData.id);\r\n        \r\n        // Show success message\r\n        setSuccess('İş yeri başarıyla silindi!');\r\n        \r\n        // Close confirmation dialog and modal\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n        \r\n        // Refresh all data from backend to ensure consistency\r\n        await fetchAllData();\r\n        \r\n        // Reset to first page if we're on an empty page\r\n        const newTotalPages = Math.ceil(workplaces.length / workplacesPerPage);\r\n        if (currentPage > newTotalPages && newTotalPages > 0) {\r\n          setCurrentPage(newTotalPages);\r\n        } else if (newTotalPages === 0) {\r\n          setCurrentPage(1);\r\n        }\r\n        \r\n        // Clear notifications\r\n        clearNotifications();\r\n      } else {\r\n        setShowDeleteConfirmation(false);\r\n        closeModal();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error deleting workplace:', error);\r\n      // Provide more specific error message\r\n      if (error.message) {\r\n        setError(`İş yeri silinirken hata oluştu: ${error.message}`);\r\n      } else {\r\n        setError('İş yeri silinirken hata oluştu');\r\n      }\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Function to cancel deletion\r\n  const cancelDeleteWorkplace = () => {\r\n    setShowDeleteConfirmation(false);\r\n  };\r\n\r\n  const handleApprovalStatusChange = async (id: number, status: string) => {\r\n    try {\r\n      // Update local state first for immediate UI feedback\r\n      setWorkplaces(prev => \r\n        prev.map(workplace => \r\n          workplace.id === id ? { ...workplace, approvalStatus: status } : workplace\r\n        )\r\n      );\r\n      \r\n      // Update the backend\r\n      await updateWorkplace(id, { ...workplaces.find(w => w.id === id), approvalStatus: status });\r\n      \r\n      // Show success message\r\n      setSuccess('Onay durumu başarıyla güncellendi!');\r\n      clearNotifications();\r\n    } catch (error) {\r\n      console.error('Error updating approval status:', error);\r\n      setError('Onay durumu güncellenirken hata oluştu');\r\n      clearNotifications();\r\n      \r\n      // Revert the local state change if backend update fails\r\n      await fetchAllData();\r\n    }\r\n  };\r\n  \r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('tr-TR');\r\n  };\r\n  \r\n  // Function to format risk level in Turkish\r\n  const formatRiskLevel = (riskLevel: string): string => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return 'Az Tehlikeli';\r\n      case 'dangerous':\r\n        return 'Tehlikeli';\r\n      case 'veryDangerous':\r\n        return 'Çok Tehlikeli';\r\n      default:\r\n        return 'Belirtilmemiş';\r\n    }\r\n  };\r\n  \r\n  // Function to get expert name by ID\r\n  const getExpertName = (expertId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Expert) {\r\n      console.log('Using included Expert data:', workplace.Expert);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Expert.firstName && workplace.Expert.lastName) {\r\n        return `${workplace.Expert.firstName} ${workplace.Expert.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allExperts array\r\n    if (!expertId) return 'Atanmamış';\r\n    const expert = allExperts.find(expert => expert.id === parseInt(expertId));\r\n    if (expert && expert.firstName && expert.lastName) {\r\n      return `${expert.firstName} ${expert.lastName}`;\r\n    }\r\n    return 'Bilinmeyen Uzman';\r\n  };\r\n  \r\n  // Function to get doctor name by ID\r\n  const getDoctorName = (doctorId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Doctor) {\r\n      console.log('Using included Doctor data:', workplace.Doctor);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Doctor.firstName && workplace.Doctor.lastName) {\r\n        return `${workplace.Doctor.firstName} ${workplace.Doctor.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allDoctors array\r\n    if (!doctorId) return 'Atanmamış';\r\n    const doctor = allDoctors.find(doctor => doctor.id === parseInt(doctorId));\r\n    if (doctor && doctor.firstName && doctor.lastName) {\r\n      return `${doctor.firstName} ${doctor.lastName}`;\r\n    }\r\n    return 'Bilinmeyen Hekim';\r\n  };\r\n  \r\n  // Function to get DSP name by ID\r\n  const getDspName = (dspId: string, workplace?: Workplace) => {\r\n    // First try to get name from included data in workplace\r\n    if (workplace && workplace.Dsp) {\r\n      console.log('Using included Dsp data:', workplace.Dsp);\r\n      // Check if firstName and lastName exist\r\n      if (workplace.Dsp.firstName && workplace.Dsp.lastName) {\r\n        return `${workplace.Dsp.firstName} ${workplace.Dsp.lastName}`;\r\n      }\r\n    }\r\n    \r\n    // Fallback to lookup in allDsps array\r\n    if (!dspId) return 'Atanmamış';\r\n    const dsp = allDsps.find(dsp => dsp.id === parseInt(dspId));\r\n    if (dsp && dsp.firstName && dsp.lastName) {\r\n      return `${dsp.firstName} ${dsp.lastName}`;\r\n    }\r\n    return 'Bilinmeyen DSP';\r\n  };\r\n  \r\n  const handleEditWorkplace = () => {\r\n    setWorkplaces(prev => \r\n      prev.map(workplace => \r\n        workplace.id === modalFormData.id ? modalFormData as Workplace : workplace\r\n      )\r\n    );\r\n    closeModal();\r\n  };\r\n  \r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setModalFormData({});\r\n    // Allow background scrolling when modal is closed\r\n    document.body.style.overflow = 'auto';\r\n  };\r\n  \r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Expert Popup */}\r\n      {showNoExpertPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Uzman Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No Doctor Popup */}\r\n      {showNoDoctorPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun Hekim Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* No DSP Popup */}\r\n      {showNoDspPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Uygun DSP Bulunmuyor</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* DSP Not Allowed Popup */}\r\n      {showDspNotAllowedPopup && (\r\n        <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>DSP Atanamaz</h3>\r\n              <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Seçilen iş yerine DSP atanamaz.</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Delete Confirmation Popup */}\r\n      {showDeleteConfirmation && (\r\n        <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n          <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"popup-header\">\r\n              <h3>Kayıt Silme Onayı</h3>\r\n              <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n            </div>\r\n            <div className=\"popup-body\">\r\n              <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n            </div>\r\n            <div className=\"popup-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n              <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Existing form */}\r\n        <div className=\"form-container\">\r\n          {/* Popup notifications */}\r\n          {success && (\r\n            <div className=\"popup-notification alert alert-info\">\r\n              {success}\r\n            </div>\r\n          )}\r\n          {error && (\r\n            <div className=\"popup-notification alert alert-warning\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Duplicate warning popup */}\r\n          {duplicateWarning.show && (\r\n            <div className=\"duplicate-warning-popup\">\r\n              <h3>Kayıt Zaten Mevcut</h3>\r\n              <p>Bu kayıt daha önce girilmiş. Tekrar kayıt yapmak için ilgili satırı düzenleyebilirsiniz.</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Expert Popup */}\r\n          {showNoExpertPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoExpertPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Uzman Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoExpertPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun uzman bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoExpertPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No Doctor Popup */}\r\n          {showNoDoctorPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDoctorPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun Hekim Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDoctorPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun hekim bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDoctorPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* No DSP Popup */}\r\n          {showNoDspPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowNoDspPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Uygun DSP Bulunmuyor</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowNoDspPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Atanacak uygun DSP bulunmamaktadır.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowNoDspPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* DSP Not Allowed Popup */}\r\n          {showDspNotAllowedPopup && (\r\n            <div className=\"popup-overlay\" onClick={() => setShowDspNotAllowedPopup(false)}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>DSP Atanamaz</h3>\r\n                  <button className=\"popup-close\" onClick={() => setShowDspNotAllowedPopup(false)}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Seçilen iş yerine DSP atanamaz.</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-primary\" onClick={() => setShowDspNotAllowedPopup(false)}>Tamam</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Delete Confirmation Popup */}\r\n          {showDeleteConfirmation && (\r\n            <div className=\"popup-overlay\" onClick={cancelDeleteWorkplace}>\r\n              <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"popup-header\">\r\n                  <h3>Kayıt Silme Onayı</h3>\r\n                  <button className=\"popup-close\" onClick={cancelDeleteWorkplace}>×</button>\r\n                </div>\r\n                <div className=\"popup-body\">\r\n                  <p>Kayıdı gerçekten silmek istiyor musunuz?</p>\r\n                </div>\r\n                <div className=\"popup-footer\">\r\n                  <button className=\"btn btn-secondary\" onClick={cancelDeleteWorkplace}>İptal</button>\r\n                  <button className=\"btn btn-danger\" onClick={confirmDeleteWorkplace}>Sil</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"workplace-form\">\r\n            {/* Compact single-line form layout */}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">İş Yeri Adı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">SGK İşyeri Sicil No:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"sskRegistrationNo\"\r\n                    value={formData.sskRegistrationNo}\r\n                    onChange={handleSSkRegistrationNoChange}\r\n                    className=\"form-input ssk-input\"\r\n                    placeholder=\"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Adres:</label>\r\n                  <textarea\r\n                    name=\"address\"\r\n                    value={formData.address}\r\n                    onChange={handleChange}\r\n                    className=\"form-textarea\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Fiyat:</label>\r\n                  <div className=\"price-input-container\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"price\"\r\n                      value={isPriceFocused ? formData.price : formatPriceForDisplay(formData.price)}\r\n                      onChange={handlePriceChange}\r\n                      onFocus={handlePriceFocus}\r\n                      onBlur={handlePriceBlur}\r\n                      className=\"form-input price-input\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"kdv-checkbox-container\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"kdv-included\"\r\n                      className=\"kdv-checkbox\"\r\n                      checked={isKdvIncluded}\r\n                      onChange={(e) => setIsKdvIncluded(e.target.checked)}\r\n                    />\r\n                    <label htmlFor=\"kdv-included\" className=\"kdv-label\">KDV Dahil</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"employeeCount\"\r\n                    value={formData.employeeCount}\r\n                    onChange={handleEmployeeCountChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Takip Edecek:</label>\r\n                  <select\r\n                    name=\"trackingExpertId\"\r\n                    value={formData.trackingExpertId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {allExperts.map(expert => (\r\n                      <option key={`tracking-${expert.id}`} value={expert.id}>\r\n                        {expert.firstName} {expert.lastName}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi Dairesi:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxOffice\"\r\n                    value={formData.taxOffice}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Vergi Numarası:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"taxNumber\"\r\n                    value={formData.taxNumber}\r\n                    onChange={handleTaxNumberChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                  <select\r\n                    name=\"riskLevel\"\r\n                    value={formData.riskLevel}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                    required\r\n                  >\r\n                    <option value=\"low\">Az Tehlikeli</option>\r\n                    <option value=\"dangerous\">Tehlikeli</option>\r\n                    <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kaynak:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"source\"\r\n                    value={formData.source}\r\n                    onChange={handleSourceChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Uzman:</label>\r\n                  <select\r\n                    name=\"assignedExpertId\"\r\n                    value={formData.assignedExpertId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredExperts(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(expert => (\r\n                      <option key={expert.id} value={expert.id}>\r\n                        {expert.firstName} {expert.lastName} ({expert.expertiseClass} - {expert.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Atanan Hekim:</label>\r\n                  <select\r\n                    name=\"assignedDoctorId\"\r\n                    value={formData.assignedDoctorId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredDoctors(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(doctor => (\r\n                      <option key={doctor.id} value={doctor.id}>\r\n                        {doctor.firstName} {doctor.lastName} ({doctor.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group dsp-selection-container\">\r\n                  <label className=\"form-label\">Atanan DSP:</label>\r\n                  <select\r\n                    name=\"assignedDspId\"\r\n                    value={formData.assignedDspId}\r\n                    onChange={handleChange}\r\n                    className=\"form-select\"\r\n                    disabled={!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0)}\r\n                  >\r\n                    <option value=\"\">Seçiniz</option>\r\n                    {getFilteredDsps(formData.riskLevel, parseInt(formData.employeeCount) || 0).map(dsp => (\r\n                      <option key={dsp.id} value={dsp.id}>\r\n                        {dsp.firstName} {dsp.lastName} ({dsp.assignedMinutes} dk)\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  {!isDspAssignmentAllowed(formData.riskLevel, parseInt(formData.employeeCount) || 0) && (\r\n                    <div className=\"form-hint\">DSP ataması bu iş yeri için yapılamaz</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"registrationDate\"\r\n                    value={formData.registrationDate}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* Move buttons to this row to save space */}\r\n              <div className=\"form-col\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">&nbsp;</label>\r\n                  <div className=\"form-actions-inline\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={handleClose}>\r\n                      Temizle\r\n                    </button>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                      Kaydet\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Remove the original form-actions div since buttons are now inline */}\r\n          </form>\r\n        </div>\r\n        \r\n        {/* Workplaces list */}\r\n        <div className=\"rows-container\">\r\n          <div className=\"header-row-no-box\">\r\n            <button className=\"row-header-label\" onClick={() => sortWorkplaces('name')}>\r\n              İş Yeri Adı\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'name' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'name' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-source\" onClick={() => sortWorkplaces('source')}>\r\n              Kaynak\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'source' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'source' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-date\" onClick={() => sortWorkplaces('registrationDate')}>\r\n              Kayıt Tarihi\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'registrationDate' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'registrationDate' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-expert\" onClick={() => sortWorkplaces('assignedExpertId')}>\r\n              Uzman\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'assignedExpertId' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'assignedExpertId' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n            <button className=\"row-header-status\" onClick={() => sortWorkplaces('approvalStatus')}>\r\n              Durum\r\n              <span className=\"sort-arrows\">\r\n                <span className={`sort-arrow sort-arrow-up ${sortConfig?.key === 'approvalStatus' && sortConfig.direction === 'asc' ? 'active' : ''}`}></span>\r\n                <span className={`sort-arrow sort-arrow-down ${sortConfig?.key === 'approvalStatus' && sortConfig.direction === 'desc' ? 'active' : ''}`}></span>\r\n              </span>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"workplaces-list\">\r\n            {getSortedWorkplaces().slice((currentPage - 1) * workplacesPerPage, currentPage * workplacesPerPage).map(workplace => (\r\n              <div \r\n                key={workplace.id} \r\n                id={`workplace-row-${workplace.id}`}\r\n                className={`row-item ${duplicateWarning.show && duplicateWarning.workplace?.id === workplace.id ? 'duplicate-highlight' : ''}`}\r\n                onClick={(e) => {\r\n                  // Only open modal if the click is not on the status dropdown\r\n                  if (!(e.target as HTMLElement).closest('.inline-approval-status')) {\r\n                    handleRowClick(workplace);\r\n                  }\r\n                }}\r\n              >\r\n                <div className=\"row-label\">{workplace.name}</div>\r\n                <div className=\"row-source\">{workplace.source}</div>\r\n                <div className=\"row-date\">{formatDate(workplace.registrationDate)}</div>\r\n                <div className=\"row-expert\">{getExpertName(workplace.assignedExpertId, workplace)}</div>\r\n                <select\r\n                  className={`inline-approval-status approval-status-${workplace.approvalStatus}`}\r\n                  value={workplace.approvalStatus}\r\n                  onChange={(e) => handleApprovalStatusChange(workplace.id, e.target.value)}\r\n                  onClick={(e) => e.stopPropagation()} // Prevent row click when clicking on dropdown\r\n                >\r\n                  <option value=\"atama\">Atama yapılacak</option>\r\n                  <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                  <option value=\"onaylandi\">Onaylandı</option>\r\n                </select>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {totalPages > 1 && (\r\n            <div className=\"pagination\">\r\n              <span \r\n                className={`pagination-link ${workplaces.length === 0 ? 'disabled' : ''}`}\r\n                onClick={() => workplaces.length > 0 && handlePageChange(currentPage > 1 ? currentPage - 1 : totalPages)}\r\n              >\r\n                Önceki\r\n              </span>\r\n              <span className=\"page-info\">\r\n                Sayfa {currentPage} / {totalPages}\r\n              </span>\r\n              <span \r\n                className={`pagination-link ${workplaces.length === 0 ? 'disabled' : ''}`}\r\n                onClick={() => workplaces.length > 0 && handlePageChange(currentPage < totalPages ? currentPage + 1 : 1)}\r\n              >\r\n                Sonraki\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Modal for editing workplace */}\r\n      {isModalOpen && (\r\n        <div className=\"modal-overlay\" onClick={closeModal}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>İş Yeri Düzenle</h3>\r\n              <button className=\"modal-close\" onClick={closeModal}>×</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={handleModalSubmit}>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">İş Yeri Adı:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={modalFormData.name || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">SGK İşyeri Sicil No:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"sskRegistrationNo\"\r\n                        value={modalFormData.sskRegistrationNo || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input ssk-input\"\r\n                        placeholder=\"x xxxx xx xx xxxxx xxx xx xx xxx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Adres:</label>\r\n                      <textarea\r\n                        name=\"address\"\r\n                        value={modalFormData.address || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-textarea\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Fiyat:</label>\r\n                      <div className=\"price-input-container\">\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"price\"\r\n                          value={isModalPriceFocused ? (modalFormData.price || '') : formatPriceForDisplay(modalFormData.price as string || '')}\r\n                          onChange={handleModalPriceChange}\r\n                          onFocus={handleModalPriceFocus}\r\n                          onBlur={handleModalPriceBlur}\r\n                          className=\"form-input price-input\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi Dairesi:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxOffice\"\r\n                        value={modalFormData.taxOffice || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Vergi Numarası:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"taxNumber\"\r\n                        value={modalFormData.taxNumber || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Tehlike Sınıfı:</label>\r\n                      <select\r\n                        name=\"riskLevel\"\r\n                        value={modalFormData.riskLevel || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                        required\r\n                      >\r\n                        <option value=\"low\">Az Tehlikeli</option>\r\n                        <option value=\"dangerous\">Tehlikeli</option>\r\n                        <option value=\"veryDangerous\">Çok Tehlikeli</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Çalışan Sayısı:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"employeeCount\"\r\n                        value={modalFormData.employeeCount || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kaynak:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"source\"\r\n                        value={modalFormData.source || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Uzman:</label>\r\n                      <select\r\n                        name=\"assignedExpertId\"\r\n                        value={modalFormData.assignedExpertId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allExperts.map(expert => (\r\n                          <option key={expert.id} value={expert.id}>\r\n                            {expert.firstName} {expert.lastName} ({expert.expertiseClass})\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Hekim:</label>\r\n                      <select\r\n                        name=\"assignedDoctorId\"\r\n                        value={modalFormData.assignedDoctorId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allDoctors.map(doctor => (\r\n                          <option key={doctor.id} value={doctor.id}>\r\n                            {doctor.firstName} {doctor.lastName}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan DSP:</label>\r\n                      <select\r\n                        name=\"assignedDspId\"\r\n                        value={modalFormData.assignedDspId || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"\">Seçiniz</option>\r\n                        {allDsps.map(dsp => (\r\n                          <option key={dsp.id} value={dsp.id}>\r\n                            {dsp.firstName} {dsp.lastName}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Kayıt Tarihi:</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        name=\"registrationDate\"\r\n                        value={modalFormData.registrationDate || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-input\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-col\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Onay Durumu:</label>\r\n                      <select\r\n                        name=\"approvalStatus\"\r\n                        value={modalFormData.approvalStatus || ''}\r\n                        onChange={handleModalChange}\r\n                        className=\"form-select\"\r\n                      >\r\n                        <option value=\"atama\">Atama yapılacak</option>\r\n                        <option value=\"bekliyor\">Onay bekleniyor</option>\r\n                        <option value=\"onaylandi\">Onaylandı</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"modal-actions\">\r\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={handleDeleteWorkplace}>\r\n                    Sil\r\n                  </button>\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModal}>\r\n                    İptal\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Güncelle\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"kKAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,iBAAiB,CACxB,OAASC,eAAe,CAAEC,eAAe,CAAEC,mBAAmB,CAAEC,mBAAmB,CAAEC,gBAAgB,CAAEC,gBAAgB,CAAEC,eAAe,CAAEC,aAAa,CAAEC,aAAa,CAAEC,UAAU,KAAQ,iBAAiB,CAE3M;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAmCA,KAAM,CAAAC,SAAmB,CAAGA,CAAA,GAAM,CAChCC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CACzE,KAAM,CAAAC,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CACvC0B,IAAI,CAAE,EAAE,CACRC,iBAAiB,CAAE,EAAE,CACrBC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,KAAK,CAChBC,aAAa,CAAE,EAAE,CACjBC,MAAM,CAAE,EAAE,CACVC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,aAAa,CAAE,EAAE,CACjBC,gBAAgB,CAAE,EAAE,CAAE;AACtBC,gBAAgB,CAAE,EACpB,CAAC,CAAC,CAEF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGzC,QAAQ,CAAU,KAAK,CAAC,CAClE,KAAM,CAAC0C,UAAU,CAAEC,aAAa,CAAC,CAAG3C,QAAQ,CAAc,EAAE,CAAC,CAC7D,KAAM,CAAC4C,WAAW,CAAEC,cAAc,CAAC,CAAG7C,QAAQ,CAAS,CAAC,CAAC,CACzD,KAAM,CAAC8C,WAAW,CAAEC,cAAc,CAAC,CAAG/C,QAAQ,CAAU,KAAK,CAAC,CAC9D,KAAM,CAACgD,aAAa,CAAEC,gBAAgB,CAAC,CAAGjD,QAAQ,CAAqB,CAAC,CAAC,CAAC,CAC1E,KAAM,CAACkD,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGnD,QAAQ,CAAU,KAAK,CAAC,CAC1E,KAAM,CAACoD,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrD,QAAQ,CAAU,KAAK,CAAC,CAC1E,KAAM,CAACsD,cAAc,CAAEC,iBAAiB,CAAC,CAAGvD,QAAQ,CAAU,KAAK,CAAC,CACpE,KAAM,CAACwD,sBAAsB,CAAEC,yBAAyB,CAAC,CAAGzD,QAAQ,CAAU,KAAK,CAAC,CACpF,KAAM,CAAC0D,sBAAsB,CAAEC,yBAAyB,CAAC,CAAG3D,QAAQ,CAAU,KAAK,CAAC,CACpF,KAAM,CAAC4D,UAAU,CAAEC,aAAa,CAAC,CAAG7D,QAAQ,CAAQ,EAAE,CAAC,CACvD,KAAM,CAAC8D,UAAU,CAAEC,aAAa,CAAC,CAAG/D,QAAQ,CAAQ,EAAE,CAAC,CACvD,KAAM,CAACgE,OAAO,CAAEC,UAAU,CAAC,CAAGjE,QAAQ,CAAQ,EAAE,CAAC,CACjD,KAAM,CAACkE,OAAO,CAAEC,UAAU,CAAC,CAAGnE,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACoE,KAAK,CAAEC,QAAQ,CAAC,CAAGrE,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACsE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvE,QAAQ,CAA+C,CAACwE,IAAI,CAAE,KAAK,CAAEC,SAAS,CAAE,IAAI,CAAC,CAAC,CAEtI;AACA,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAE5B;AACA,KAAM,CAAAC,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACnC,UAAU,CAACoC,MAAM,CAAGJ,iBAAiB,CAAC,CAEnE;AACA,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGhF,QAAQ,CAAoD,IAAI,CAAC,CAErG;AACA,KAAM,CAAAiF,cAAc,CAAIC,GAAW,EAAK,CACtC,GAAI,CAAAC,SAAyB,CAAG,KAAK,CACrC,GAAIJ,UAAU,EAAIA,UAAU,CAACG,GAAG,GAAKA,GAAG,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAE,CAC1EA,SAAS,CAAG,MAAM,CACpB,CAEAH,aAAa,CAAC,CAAEE,GAAG,CAAEC,SAAU,CAAC,CAAC,CACnC,CAAC,CAED;AACA,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC;AACA,GAAI,CAACL,UAAU,CAAE,CACf,MAAO,CAAC,GAAGrC,UAAU,CAAC,CAAC2C,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACpC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAnE,IAAI,CAACiE,CAAC,CAAC/C,gBAAgB,EAAI,EAAE,CAAC,CAACkD,OAAO,CAAC,CAAC,CAC1D,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAArE,IAAI,CAACkE,CAAC,CAAChD,gBAAgB,EAAI,EAAE,CAAC,CAACkD,OAAO,CAAC,CAAC,CAC1D,MAAO,CAAAC,KAAK,CAAGF,KAAK,CAAE;AACxB,CAAC,CAAC,CACJ,CAEA,MAAO,CAAC,GAAG9C,UAAU,CAAC,CAAC2C,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACpC;AACA,KAAM,CAAAL,GAAG,CAAGH,UAAU,CAACG,GAAsB,CAE7C;AACA,GAAI,CAAAS,MAAW,CAAEC,MAAW,CAE5B,OAAQV,GAAG,EACT,IAAK,MAAM,CACX,IAAK,QAAQ,CACXS,MAAM,CAAGL,CAAC,CAACJ,GAAG,CAAC,EAAI,EAAE,CACrBU,MAAM,CAAGL,CAAC,CAACL,GAAG,CAAC,EAAI,EAAE,CACrB,MACF,IAAK,kBAAkB,CACrBS,MAAM,CAAG,GAAI,CAAAtE,IAAI,CAACiE,CAAC,CAACJ,GAAG,CAAC,EAAI,EAAE,CAAC,CAACO,OAAO,CAAC,CAAC,CACzCG,MAAM,CAAG,GAAI,CAAAvE,IAAI,CAACkE,CAAC,CAACL,GAAG,CAAC,EAAI,EAAE,CAAC,CAACO,OAAO,CAAC,CAAC,CACzC,MACF,IAAK,WAAW,CACd;AACA,KAAM,CAAAI,SAAiC,CAAG,CACxC,KAAK,CAAE,CAAC,CACR,WAAW,CAAE,CAAC,CACd,eAAe,CAAE,CACnB,CAAC,CACDF,MAAM,CAAGE,SAAS,CAACP,CAAC,CAACJ,GAAG,CAAC,CAAC,EAAI,CAAC,CAC/BU,MAAM,CAAGC,SAAS,CAACN,CAAC,CAACL,GAAG,CAAC,CAAC,EAAI,CAAC,CAC/B,MACF,IAAK,gBAAgB,CACnB;AACA,KAAM,CAAAY,aAAqC,CAAG,CAC5C,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,CAAC,CACb,WAAW,CAAE,CACf,CAAC,CACDH,MAAM,CAAGG,aAAa,CAACR,CAAC,CAACJ,GAAG,CAAC,CAAC,EAAI,CAAC,CACnCU,MAAM,CAAGE,aAAa,CAACP,CAAC,CAACL,GAAG,CAAC,CAAC,EAAI,CAAC,CACnC,MACF,IAAK,kBAAkB,CACrBS,MAAM,CAAGI,aAAa,CAACT,CAAC,CAACJ,GAAG,CAAC,CAAC,CAC9BU,MAAM,CAAGG,aAAa,CAACR,CAAC,CAACL,GAAG,CAAC,CAAC,CAC9B,MACF,IAAK,kBAAkB,CACrBS,MAAM,CAAGK,aAAa,CAACV,CAAC,CAACJ,GAAG,CAAC,CAAC,CAC9BU,MAAM,CAAGI,aAAa,CAACT,CAAC,CAACL,GAAG,CAAC,CAAC,CAC9B,MACF,IAAK,eAAe,CAClBS,MAAM,CAAGM,UAAU,CAACX,CAAC,CAACJ,GAAG,CAAC,CAAC,CAC3BU,MAAM,CAAGK,UAAU,CAACV,CAAC,CAACL,GAAG,CAAC,CAAC,CAC3B,MACF,QACES,MAAM,CAAGL,CAAC,CAACJ,GAAG,CAAC,CACfU,MAAM,CAAGL,CAAC,CAACL,GAAG,CAAC,CACnB,CAEA,GAAIS,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAAb,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,CAAC,CAAC,CAAG,CAAC,CAChD,CACA,GAAIQ,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAAb,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,CAAC,CAAG,CAAC,CAAC,CAChD,CACA,MAAO,EAAC,CACV,CAAC,CAAC,CACJ,CAAC,CAED;AACAlF,SAAS,CAAC,IAAM,CACdkB,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAExE;AACA,MAAO,IAAM,CACXH,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAC5E,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAA4E,YAAY,CAAGhG,WAAW,CAAC,SAAY,CAC3C,GAAI,CACFiB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAEhD;AACA,KAAM,CAAC+E,cAAc,CAAEC,WAAW,CAAEC,WAAW,CAAEC,QAAQ,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC7E/F,gBAAgB,CAAC,CAAC,CAClBE,aAAa,CAAC,CAAC,CACfC,aAAa,CAAC,CAAC,CACfC,UAAU,CAAC,CAAC,CACb,CAAC,CAEFM,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAE,CAChCqF,eAAe,CAAEN,cAAc,CAACrB,MAAM,CACtC4B,YAAY,CAAEN,WAAW,CAACtB,MAAM,CAChC6B,YAAY,CAAEN,WAAW,CAACvB,MAAM,CAChC8B,SAAS,CAAEN,QAAQ,CAACxB,MACtB,CAAC,CAAC,CAEF;AACA,GAAIqB,cAAc,CAACrB,MAAM,CAAG,CAAC,CAAE,CAC7B3D,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAE+E,cAAc,CAAC,CAAC,CAAC,CAAC,CACzD,CAEA;AACAxD,aAAa,CAACwD,cAAc,CAAC,CAC7BtC,aAAa,CAACuC,WAAW,CAAC,CAC1BrC,aAAa,CAACsC,WAAW,CAAC,CAC1BpC,UAAU,CAACqC,QAAQ,CAAC,CACpBnF,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CAAE,MAAOgD,KAAK,CAAE,CACdjD,OAAO,CAACiD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACApE,SAAS,CAAC,IAAM,CACdkB,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAC5F4E,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAjG,SAAS,CAAC,IAAM,CACdkB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEG,QAAQ,CAACsF,QAAQ,CAAE,KAAK,CAAE,GAAI,CAAAxF,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CACvF4E,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAAC3E,QAAQ,CAACsF,QAAQ,CAAC,CAAC,CAEvB;AACA5G,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6G,WAAW,CAAGA,CAAA,GAAM,CACxB3F,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC,CACrD8E,YAAY,CAAC,CAAC,CAChB,CAAC,CAEDa,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAEF,WAAW,CAAC,CAC7C,MAAO,IAAM,CACXC,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAEH,WAAW,CAAC,CAClD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA7G,SAAS,CAAC,IAAM,CACdkB,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEsB,UAAU,CAAC,CACrD,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB;AACA,KAAM,CAAAwE,kBAAkB,CAAGA,CAAA,GAAM,CAC/BC,UAAU,CAAC,IAAM,CACfhD,UAAU,CAAC,EAAE,CAAC,CACdE,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAA+C,kBAAkB,CAAIC,IAAY,EAAc,CACpD;AACA,MAAO,8BAA6B,CAACC,IAAI,CAACD,IAAI,CAAC,CACjD,CAAC,CAED;AACA,KAAM,CAAAE,aAAa,CAAIF,IAAY,EAAc,CAC/C;AACA,MAAO,aAAY,CAACC,IAAI,CAACD,IAAI,CAAC,CAChC,CAAC,CAED;AACA,KAAM,CAAAG,YAAY,CAAIC,CAAgF,EAAK,CACzG,KAAM,CAAE/F,IAAI,CAAEgG,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAEhC;AACA,GAAIjG,IAAI,GAAK,eAAe,EAAIgG,KAAK,CAAE,CACrC,KAAM,CAAAzF,aAAa,CAAG2F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAC3D,KAAM,CAAA4F,SAAS,CAAGC,sBAAsB,CAACtG,QAAQ,CAACQ,SAAS,CAAEC,aAAa,CAAC,CAE3E,GAAI,CAAC4F,SAAS,CAAE,CACd;AACApE,yBAAyB,CAAC,IAAI,CAAC,CAC/B,OAAQ;AACV,CACF,CAEA;AACA,GAAI/B,IAAI,GAAK,WAAW,EAAIgG,KAAK,EAAI,CAACN,kBAAkB,CAACM,KAAK,CAAC,CAAE,CAC/D,OAAQ;AACV,CAEA;AACA,GAAIhG,IAAI,GAAK,WAAW,EAAIgG,KAAK,EAAI,CAACH,aAAa,CAACG,KAAK,CAAC,CAAE,CAC1D,OAAQ;AACV,CAEAjG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACrG,IAAI,EAAGgG,KAAK,EACb,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAACO,cAAc,CAAEC,iBAAiB,CAAC,CAAGlI,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACmI,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGpI,QAAQ,CAAC,KAAK,CAAC,CAErE;AACA,KAAM,CAAAqI,qBAAqB,CAAIxG,KAAa,EAAa,CACvD,GAAI,CAACA,KAAK,CAAE,MAAO,EAAE,CACrB;AACA,GAAI,CAAC,UAAU,CAACyF,IAAI,CAACzF,KAAK,CAAC,CAAE,MAAO,CAAAA,KAAK,CACzC;AACA,MAAO,CAAA+F,QAAQ,CAAC/F,KAAK,CAAC,CAACyG,cAAc,CAAC,OAAO,CAAC,CAChD,CAAC,CAED;AACA,KAAM,CAAAC,UAAU,CAAIC,cAAsB,EAAa,CACrD,GAAI,CAACA,cAAc,CAAE,MAAO,EAAE,CAC9B;AACA,KAAM,CAAAC,OAAO,CAAGD,cAAc,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACjD;AACA,MAAO,WAAU,CAACpB,IAAI,CAACmB,OAAO,CAAC,CAAGA,OAAO,CAAG,EAAE,CAChD,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAIlB,CAAsC,EAAK,CACpE,KAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAC5B;AACA,GAAIA,KAAK,GAAK,EAAE,EAAI,UAAU,CAACJ,IAAI,CAACI,KAAK,CAAC,CAAE,CAC1CjG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPlG,KAAK,CAAE6F,KAAK,EACZ,CAAC,CACL,CACF,CAAC,CAED,KAAM,CAAAkB,sBAAsB,CAAInB,CAAsC,EAAK,CACzE,KAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAC5B;AACA,GAAIA,KAAK,GAAK,EAAE,EAAI,UAAU,CAACJ,IAAI,CAACI,KAAK,CAAC,CAAE,CAC1CzE,gBAAgB,CAAC8E,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAChBD,IAAI,MACPlG,KAAK,CAAE6F,KAAK,EACZ,CAAC,CACL,CACF,CAAC,CAED;AACA,KAAM,CAAAmB,gBAAgB,CAAGA,CAAA,GAAM,CAC7BX,iBAAiB,CAAC,IAAI,CAAC,CACvB;AACAzG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPlG,KAAK,CAAE0G,UAAU,CAACR,IAAI,CAAClG,KAAK,CAAC,EAC7B,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAiH,eAAe,CAAGA,CAAA,GAAM,CAC5BZ,iBAAiB,CAAC,KAAK,CAAC,CACxB;AACAzG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPlG,KAAK,CAAEwG,qBAAqB,CAACN,IAAI,CAAClG,KAAK,CAAC,EACxC,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAkH,qBAAqB,CAAGA,CAAA,GAAM,CAClCX,sBAAsB,CAAC,IAAI,CAAC,CAC5B;AACAnF,gBAAgB,CAAC8E,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAChBD,IAAI,MACPlG,KAAK,CAAE,MAAO,CAAAkG,IAAI,CAAClG,KAAK,GAAK,QAAQ,CAAG0G,UAAU,CAACR,IAAI,CAAClG,KAAK,CAAC,CAAGmH,MAAM,CAACjB,IAAI,CAAClG,KAAK,EAAI,EAAE,CAAC,EACzF,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAoH,oBAAoB,CAAGA,CAAA,GAAM,CACjCb,sBAAsB,CAAC,KAAK,CAAC,CAC7B;AACAnF,gBAAgB,CAAC8E,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAChBD,IAAI,MACPlG,KAAK,CAAE,MAAO,CAAAkG,IAAI,CAAClG,KAAK,GAAK,QAAQ,CAAGwG,qBAAqB,CAACN,IAAI,CAAClG,KAAK,CAAC,CAAGmH,MAAM,CAACjB,IAAI,CAAClG,KAAK,EAAI,EAAE,CAAC,EACpG,CAAC,CACL,CAAC,CAED,KAAM,CAAAqH,6BAA6B,CAAIzB,CAAsC,EAAK,CAChF,GAAI,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAACgB,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAAE;AAE/C;AACA,GAAIhB,KAAK,CAAC5C,MAAM,CAAG,EAAE,CAAE4C,KAAK,CAAGA,KAAK,CAACyB,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAErD,GAAI,CAAAC,cAAc,CAAG,EAAE,CACvB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG3B,KAAK,CAAC5C,MAAM,CAAEuE,CAAC,EAAE,CAAE,CACrC,GAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,EAAE,EAAIA,CAAC,GAAK,EAAE,EAAIA,CAAC,GAAK,EAAE,CAAE,CAChFD,cAAc,EAAI,GAAG,CAAG1B,KAAK,CAAC2B,CAAC,CAAC,CAClC,CAAC,IAAM,CACLD,cAAc,EAAI1B,KAAK,CAAC2B,CAAC,CAAC,CAC5B,CACF,CAEA5H,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPpG,iBAAiB,CAAEyH,cAAc,EACjC,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAE,iBAAiB,CAAIjC,IAAY,EAAc,CACnD;AACA,MAAO,8BAA6B,CAACC,IAAI,CAACD,IAAI,CAAC,CACjD,CAAC,CAED;AACA,KAAM,CAAAkC,kBAAkB,CAAI9B,CAAsC,EAAK,CACrE,KAAM,CAAE/F,IAAI,CAAEgG,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAEhC;AACA,GAAIjG,IAAI,GAAK,QAAQ,EAAIgG,KAAK,EAAI,CAAC4B,iBAAiB,CAAC5B,KAAK,CAAC,CAAE,CAC3D,OAAQ;AACV,CAEAjG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACrG,IAAI,EAAGgG,KAAK,EACb,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAA8B,qBAAqB,CAAI/B,CAAsC,EAAK,CACxE,KAAM,CAAE/F,IAAI,CAAEgG,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAEhC;AACA,GAAIjG,IAAI,GAAK,WAAW,EAAIgG,KAAK,EAAI,CAACH,aAAa,CAACG,KAAK,CAAC,CAAE,CAC1D,OAAQ;AACV,CAEAjG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACrG,IAAI,EAAGgG,KAAK,EACb,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAA+B,yBAAyB,CAAIhC,CAAsC,EAAK,CAC5E,KAAM,CAAE/F,IAAI,CAAEgG,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAEhC;AACA,GAAIjG,IAAI,GAAK,eAAe,EAAIgG,KAAK,EAAI,CAACH,aAAa,CAACG,KAAK,CAAC,CAAE,CAC9D,OAAQ;AACV,CAEAjG,WAAW,CAACsG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACrG,IAAI,EAAGgG,KAAK,EACb,CAAC,CACL,CAAC,CAED,KAAM,CAAAgC,WAAW,CAAGA,CAAA,GAAM,CACxBjI,WAAW,CAAC,CACVC,IAAI,CAAE,EAAE,CACRC,iBAAiB,CAAE,EAAE,CACrBC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,KAAK,CAChBC,aAAa,CAAE,EAAE,CACjBC,MAAM,CAAE,EAAE,CACVC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,aAAa,CAAE,EAAE,CACjBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EACpB,CAAC,CAAC,CACFE,gBAAgB,CAAC,KAAK,CAAC,CACzB,CAAC,CAED;AACA,KAAM,CAAAkH,wBAAwB,CAAGA,CAAC3H,SAAiB,CAAEC,aAAqB,GAAa,CACrF,OAAQD,SAAS,EACf,IAAK,KAAK,CACR,MAAO,CAAAC,aAAa,CAAG,EAAE,CAC3B,IAAK,WAAW,CACd,MAAO,CAAAA,aAAa,CAAG,EAAE,CAC3B,IAAK,eAAe,CAClB,MAAO,CAAAA,aAAa,CAAG,EAAE,CAC3B,QACE,MAAO,EAAC,CACZ,CACF,CAAC,CAED;AACA,KAAM,CAAA2H,8BAA8B,CAAGA,CAAC5H,SAAiB,CAAEC,aAAqB,GAAa,CAC3F,OAAQD,SAAS,EACf,IAAK,KAAK,CACR,MAAO,CAAAC,aAAa,CAAG,CAAC,CAC1B,IAAK,WAAW,CACd,MAAO,CAAAA,aAAa,CAAG,EAAE,CAC3B,IAAK,eAAe,CAClB,MAAO,CAAAA,aAAa,CAAG,EAAE,CAC3B,QACE,MAAO,EAAC,CACZ,CACF,CAAC,CAED;AACA,KAAM,CAAA4H,2BAA2B,CAAGA,CAAC7H,SAAiB,CAAEC,aAAqB,GAAa,CACxF;AACA,GAAID,SAAS,GAAK,eAAe,EAAIC,aAAa,CAAG,EAAE,CAAE,CACvD,MAAO,EAAC,CACV,CACA,MAAO,CAAAA,aAAa,CAAG,CAAC,CAAE;AAC5B,CAAC,CAED;AACA,KAAM,CAAA6H,kBAAkB,CAAGA,CAAC9H,SAAiB,CAAEC,aAAqB,GAAK,CACvE,KAAM,CAAA8H,eAAe,CAAGJ,wBAAwB,CAAC3H,SAAS,CAAEC,aAAa,CAAC,CAE1E,MAAO,CAAA2B,UAAU,CAACoG,MAAM,CAACC,MAAM,EAAI,CACjC;AACA,GAAIA,MAAM,CAACC,eAAe,CAAGH,eAAe,CAAE,CAC5C,MAAO,MAAK,CACd,CAEA;AACA;AACA;AACA;AACA,OAAQE,MAAM,CAACE,cAAc,EAC3B,IAAK,GAAG,CACN,MAAO,KAAI,CAAE;AACf,IAAK,GAAG,CACN,MAAO,CAAAnI,SAAS,GAAK,KAAK,EAAIA,SAAS,GAAK,WAAW,CAAE;AAC3D,IAAK,GAAG,CACN,MAAO,CAAAA,SAAS,GAAK,KAAK,CAAE;AAC9B,QACE,MAAO,MAAK,CAChB,CACF,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAoI,kBAAkB,CAAGA,CAACpI,SAAiB,CAAEC,aAAqB,GAAK,CACvE,KAAM,CAAA8H,eAAe,CAAGH,8BAA8B,CAAC5H,SAAS,CAAEC,aAAa,CAAC,CAEhF,MAAO,CAAA6B,UAAU,CAACkG,MAAM,CAACK,MAAM,EAAI,CACjC;AACA,MAAO,CAAAA,MAAM,CAACH,eAAe,EAAIH,eAAe,CAClD,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAO,eAAe,CAAGA,CAACtI,SAAiB,CAAEC,aAAqB,GAAK,CACpE;AACA,KAAM,CAAA4F,SAAS,CAAGC,sBAAsB,CAAC9F,SAAS,CAAEC,aAAa,CAAC,CAElE;AACA,GAAI,CAAC4F,SAAS,CAAE,CACd,MAAO,EAAE,CACX,CAEA;AACA,KAAM,CAAA0C,aAAa,CAAGvI,SAAS,GAAK,eAAe,EAAIC,aAAa,EAAI,EAAE,CAE1E;AACA,GAAI,CAACsI,aAAa,CAAE,CAClB,MAAO,CAAAvG,OAAO,CAACgG,MAAM,CAACQ,GAAG,EAAIA,GAAG,CAACN,eAAe,CAAG,CAAC,CAAC,CAAE;AACzD,CAEA;AACA,KAAM,CAAAH,eAAe,CAAG9H,aAAa,CAAG,CAAC,CAEzC,MAAO,CAAA+B,OAAO,CAACgG,MAAM,CAACQ,GAAG,EAAI,CAC3B;AACA,MAAO,CAAAA,GAAG,CAACN,eAAe,EAAIH,eAAe,CAC/C,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAU,qBAAqB,CAAG,KAAO,CAAAC,aAAkB,EAAK,CAC1D,GAAI,CAAAC,eAA8B,CAAG,IAAI,CACzC,GAAI,CACF;AACA,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAxK,eAAe,CAAA4H,aAAA,CAAAA,aAAA,IACtC0C,aAAa,MAChBzI,aAAa,CAAE2F,QAAQ,CAAC8C,aAAa,CAACzI,aAAa,CAAC,EAAI,CAAC,CACzDJ,KAAK,CAAE+F,QAAQ,CAACW,UAAU,CAACmC,aAAa,CAAC7I,KAAK,CAAC,CAAC,EAAI,CAAC,CACrDgJ,cAAc,CAAE,OAAO,CACvB;AACA1I,gBAAgB,CAAEuI,aAAa,CAACvI,gBAAgB,EAAI,IAAI,CACxDC,gBAAgB,CAAEsI,aAAa,CAACtI,gBAAgB,EAAI,IAAI,CACxDC,aAAa,CAAEqI,aAAa,CAACrI,aAAa,EAAI,IAAI,EACnD,CAAC,CAEFsI,eAAe,CAAGC,aAAa,CAACE,EAAE,CAElC;AACA,KAAM,CAAAC,gBAAgB,CAAG,KAAM,CAAAzK,mBAAmB,CAACsK,aAAa,CAACE,EAAE,CAAC,CAEpE;AACA,KAAM,CAAApK,eAAe,CAACkK,aAAa,CAACE,EAAE,CAAC,CAEvC;AACA,GAAIC,gBAAgB,CAACjG,MAAM,GAAK,CAAC,CAAE,CACjC3B,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MAAO,MAAK,CACd,CAEA;AACA,GAAIuH,aAAa,CAACvI,gBAAgB,CAAE,CAClC,KAAM,CAAA6I,cAAc,CAAGD,gBAAgB,CAACE,IAAI,CAAEhB,MAAW,EAAKA,MAAM,CAACa,EAAE,GAAKlD,QAAQ,CAAC8C,aAAa,CAACvI,gBAAgB,CAAC,CAAC,CACrH,GAAI,CAAC6I,cAAc,CAAE,CACnB7H,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MAAO,MAAK,CACd,CACF,CAEA,MAAO,KAAI,CACb,CAAE,MAAOiB,KAAK,CAAE,CACdjD,OAAO,CAACiD,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CACzD;AACA,GAAIuG,eAAe,CAAE,CACnB,GAAI,CACF,KAAM,CAAAjK,eAAe,CAACiK,eAAe,CAAC,CACxC,CAAE,MAAOO,WAAW,CAAE,CACpB/J,OAAO,CAACiD,KAAK,CAAC,qCAAqC,CAAE8G,WAAW,CAAC,CACnE,CACF,CACA,MAAO,KAAI,CAAE;AACf,CACF,CAAC,CAED;AACA,KAAM,CAAAC,qBAAqB,CAAG,KAAO,CAAAT,aAAkB,EAAK,CAC1D,GAAI,CAAAC,eAA8B,CAAG,IAAI,CACzC,GAAI,CACF;AACA,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAxK,eAAe,CAAA4H,aAAA,CAAAA,aAAA,IACtC0C,aAAa,MAChBzI,aAAa,CAAE2F,QAAQ,CAAC8C,aAAa,CAACzI,aAAa,CAAC,EAAI,CAAC,CACzDJ,KAAK,CAAE+F,QAAQ,CAACW,UAAU,CAACmC,aAAa,CAAC7I,KAAK,CAAC,CAAC,EAAI,CAAC,CACrDgJ,cAAc,CAAE,OAAO,CACvB;AACA1I,gBAAgB,CAAEuI,aAAa,CAACvI,gBAAgB,EAAI,IAAI,CACxDC,gBAAgB,CAAEsI,aAAa,CAACtI,gBAAgB,EAAI,IAAI,CACxDC,aAAa,CAAEqI,aAAa,CAACrI,aAAa,EAAI,IAAI,EACnD,CAAC,CAEFsI,eAAe,CAAGC,aAAa,CAACE,EAAE,CAElC;AACA,KAAM,CAAAM,gBAAgB,CAAG,KAAM,CAAA7K,mBAAmB,CAACqK,aAAa,CAACE,EAAE,CAAC,CAEpE;AACA,KAAM,CAAApK,eAAe,CAACkK,aAAa,CAACE,EAAE,CAAC,CAEvC;AACA,GAAIM,gBAAgB,CAACtG,MAAM,GAAK,CAAC,CAAE,CACjCzB,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MAAO,MAAK,CACd,CAEA;AACA,GAAIqH,aAAa,CAACtI,gBAAgB,CAAE,CAClC,KAAM,CAAAiJ,cAAc,CAAGD,gBAAgB,CAACH,IAAI,CAAEZ,MAAW,EAAKA,MAAM,CAACS,EAAE,GAAKlD,QAAQ,CAAC8C,aAAa,CAACtI,gBAAgB,CAAC,CAAC,CACrH,GAAI,CAACiJ,cAAc,CAAE,CACnBhI,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MAAO,MAAK,CACd,CACF,CAEA,MAAO,KAAI,CACb,CAAE,MAAOe,KAAK,CAAE,CACdjD,OAAO,CAACiD,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CACzD;AACA,GAAIuG,eAAe,CAAE,CACnB,GAAI,CACF,KAAM,CAAAjK,eAAe,CAACiK,eAAe,CAAC,CACxC,CAAE,MAAOO,WAAW,CAAE,CACpB/J,OAAO,CAACiD,KAAK,CAAC,qCAAqC,CAAE8G,WAAW,CAAC,CACnE,CACF,CACA,MAAO,KAAI,CAAE;AACf,CACF,CAAC,CAED;AACA,KAAM,CAAAI,kBAAkB,CAAG,KAAO,CAAAZ,aAAkB,EAAK,CACvD,GAAI,CAAAC,eAA8B,CAAG,IAAI,CACzC,GAAI,CACF;AACA,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAxK,eAAe,CAAA4H,aAAA,CAAAA,aAAA,IACtC0C,aAAa,MAChBzI,aAAa,CAAE2F,QAAQ,CAAC8C,aAAa,CAACzI,aAAa,CAAC,EAAI,CAAC,CACzDJ,KAAK,CAAE+F,QAAQ,CAACW,UAAU,CAACmC,aAAa,CAAC7I,KAAK,CAAC,CAAC,EAAI,CAAC,CACrDgJ,cAAc,CAAE,OAAO,CACvB;AACA1I,gBAAgB,CAAEuI,aAAa,CAACvI,gBAAgB,EAAI,IAAI,CACxDC,gBAAgB,CAAEsI,aAAa,CAACtI,gBAAgB,EAAI,IAAI,CACxDC,aAAa,CAAEqI,aAAa,CAACrI,aAAa,EAAI,IAAI,EACnD,CAAC,CAEFsI,eAAe,CAAGC,aAAa,CAACE,EAAE,CAElC;AACA,KAAM,CAAA7I,aAAa,CAAG2F,QAAQ,CAAC8C,aAAa,CAACzI,aAAa,CAAC,EAAI,CAAC,CAChE,KAAM,CAAAsI,aAAa,CAAGG,aAAa,CAAC1I,SAAS,GAAK,eAAe,EAAIC,aAAa,EAAI,EAAE,CAExF;AACA,GAAI,CAACsI,aAAa,CAAE,CAClB;AACA,KAAM,CAAA7J,eAAe,CAACkK,aAAa,CAACE,EAAE,CAAC,CACvC,MAAO,KAAI,CAAE;AACf,CAEA;AACA,KAAM,CAAAS,aAAa,CAAG,KAAM,CAAA/K,gBAAgB,CAACoK,aAAa,CAACE,EAAE,CAAC,CAE9D;AACA,KAAM,CAAApK,eAAe,CAACkK,aAAa,CAACE,EAAE,CAAC,CAEvC;AACA,GAAIS,aAAa,CAACzG,MAAM,GAAK,CAAC,CAAE,CAC9BvB,iBAAiB,CAAC,IAAI,CAAC,CACvB,MAAO,MAAK,CACd,CAEA;AACA,GAAImH,aAAa,CAACrI,aAAa,CAAE,CAC/B,KAAM,CAAAmJ,WAAW,CAAGD,aAAa,CAACN,IAAI,CAAET,GAAQ,EAAKA,GAAG,CAACM,EAAE,GAAKlD,QAAQ,CAAC8C,aAAa,CAACrI,aAAa,CAAC,CAAC,CACtG,GAAI,CAACmJ,WAAW,CAAE,CAChBjI,iBAAiB,CAAC,IAAI,CAAC,CACvB,MAAO,MAAK,CACd,CACF,CAEA,MAAO,KAAI,CACb,CAAE,MAAOa,KAAK,CAAE,CACdjD,OAAO,CAACiD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtD;AACA,GAAIuG,eAAe,CAAE,CACnB,GAAI,CACF,KAAM,CAAAjK,eAAe,CAACiK,eAAe,CAAC,CACxC,CAAE,MAAOO,WAAW,CAAE,CACpB/J,OAAO,CAACiD,KAAK,CAAC,qCAAqC,CAAE8G,WAAW,CAAC,CACnE,CACF,CACA,MAAO,KAAI,CAAE;AACf,CACF,CAAC,CAED;AACA,KAAM,CAAApD,sBAAsB,CAAGA,CAAC9F,SAAiB,CAAEC,aAAqB,GAAc,CACpF;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,GAAID,SAAS,GAAK,KAAK,EAAIA,SAAS,GAAK,WAAW,CAAE,CACpD,MAAO,MAAK,CAAE;AAChB,CAEA,GAAIA,SAAS,GAAK,eAAe,EAAIC,aAAa,CAAG,EAAE,CAAE,CACvD,MAAO,MAAK,CAAE;AAChB,CAEA,MAAO,KAAI,CAAE;AACf,CAAC,CAED,KAAM,CAAAwJ,YAAY,CAAG,KAAO,CAAAhE,CAAkB,EAAK,CACjDA,CAAC,CAACiE,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,eAAe,CAAGtK,IAAI,CAACuK,GAAG,CAAC,CAAC,CAClCzK,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAE,WAAW,CAAEqK,eAAe,CAAE,kBAAkB,CAAEnK,QAAQ,CAAC,CAE5H,GAAI,CACF;AACA,KAAM,CAAAqK,cAAc,CAAGrK,QAAQ,CAACG,iBAAiB,CAAC+G,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAAE;AACtE,KAAM,CAAAoD,iBAAiB,CAAGpJ,UAAU,CAACuI,IAAI,CAACxG,SAAS,EACjDA,SAAS,CAAC9C,iBAAiB,EAC3B8C,SAAS,CAAC9C,iBAAiB,CAAC+G,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,GAAKmD,cACrD,CAAC,CAED,GAAIC,iBAAiB,CAAE,CACrB;AACAvH,mBAAmB,CAAC,CAACC,IAAI,CAAE,IAAI,CAAEC,SAAS,CAAEqH,iBAAiB,CAAC,CAAC,CAE/D;AACA3E,UAAU,CAAC,IAAM,CACf5C,mBAAmB,CAAC,CAACC,IAAI,CAAE,KAAK,CAAEC,SAAS,CAAE,IAAI,CAAC,CAAC,CACrD,CAAC,CAAE,IAAI,CAAC,CAER;AACA0C,UAAU,CAAC,IAAM,CACf,KAAM,CAAA4E,OAAO,CAAGC,QAAQ,CAACC,cAAc,kBAAAC,MAAA,CAAkBJ,iBAAiB,CAAChB,EAAE,CAAE,CAAC,CAChF,GAAIiB,OAAO,CAAE,CACXA,OAAO,CAACI,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAS,CAAC,CAAC,CACjE,CACF,CAAC,CAAE,GAAG,CAAC,CAEP,OACF,CAEA;AACA,KAAM,CAAA3B,aAAa,CAAA1C,aAAA,CAAAA,aAAA,IACdxG,QAAQ,MACXS,aAAa,CAAE2F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CACpDJ,KAAK,CAAE+F,QAAQ,CAACW,UAAU,CAAC/G,QAAQ,CAACK,KAAK,CAAC,CAAC,EAAI,CAAC,CAChDgJ,cAAc,CAAE,OAAO,CACvB;AACA1I,gBAAgB,CAAEX,QAAQ,CAACW,gBAAgB,EAAI,IAAI,CACnDC,gBAAgB,CAAEZ,QAAQ,CAACY,gBAAgB,EAAI,IAAI,CACnDC,aAAa,CAAEb,QAAQ,CAACa,aAAa,EAAI,IAAI,EAC9C,CAEDlB,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAEuK,eAAe,CAAE,IAAI,CAAEjB,aAAa,CAAC,CAEhG;AACA,KAAM,CAAAzI,aAAa,CAAG2F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAC3D,KAAM,CAAAsI,aAAa,CAAG/I,QAAQ,CAACQ,SAAS,GAAK,eAAe,EAAIC,aAAa,EAAI,EAAE,CAEnF;AACA,KAAM,CAAAqK,aAAa,CAAG,KAAM,CAAA7B,qBAAqB,CAACC,aAAa,CAAC,CAChE,KAAM,CAAA6B,aAAa,CAAG,KAAM,CAAApB,qBAAqB,CAACT,aAAa,CAAC,CAEhE;AACA,KAAM,CAAA8B,UAAU,CAAGjC,aAAa,CAAG,KAAM,CAAAe,kBAAkB,CAACZ,aAAa,CAAC,CAAG,IAAI,CAEjF;AACA,GAAI,CAAC4B,aAAa,EAAI,CAACC,aAAa,EAAI,CAACC,UAAU,CAAE,CACnDrL,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAEuK,eAAe,CAAE,GAAG,CAAC,CACjG,OACF,CAEA;AACA,KAAM,CAAAc,YAAY,CAAG,KAAM,CAAArM,eAAe,CAACsK,aAAa,CAAC,CACzDvJ,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAEuK,eAAe,CAAE,IAAI,CAAEc,YAAY,CAAC,CAE5F;AACAtI,UAAU,CAAC,+BAA+B,CAAC,CAE3C;AACAuF,WAAW,CAAC,CAAC,CACbvI,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEuK,eAAe,CAAE,GAAG,CAAC,CAE1D;AACA,KAAM,CAAAzF,YAAY,CAAC,CAAC,CAEpB;AACAa,MAAM,CAAC2F,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,kBAAkB,CAAE,CAAEC,MAAM,CAAE,CAAEnI,SAAS,CAAEgI,YAAa,CAAE,CAAC,CAAC,CAAC,CAElG;AACA5J,cAAc,CAAC,CAAC,CAAC,CACjB1B,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEuK,eAAe,CAAE,GAAG,CAAC,CAE9D;AACAzE,kBAAkB,CAAC,CAAC,CACtB,CAAE,MAAO9C,KAAU,CAAE,CACnBjD,OAAO,CAACiD,KAAK,CAAC,kCAAkC,CAAEuH,eAAe,CAAE,IAAI,CAAEvH,KAAK,CAAC,CAC/E;AACA,GAAIA,KAAK,CAACyI,OAAO,CAAE,CACjBxI,QAAQ,sDAAA6H,MAAA,CAAuC9H,KAAK,CAACyI,OAAO,CAAE,CAAC,CACjE,CAAC,IAAM,CACLxI,QAAQ,CAAC,mCAAmC,CAAC,CAC/C,CACA6C,kBAAkB,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA4F,gBAAgB,CAAIC,UAAkB,EAAK,CAC/ClK,cAAc,CAACkK,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,wBAAwB,CAAGA,CAAA,GAAmB,CAClD,KAAM,CAAAC,UAAU,CAAG,CAACrK,WAAW,CAAG,CAAC,EAAI8B,iBAAiB,CACxD,KAAM,CAAAwI,QAAQ,CAAGD,UAAU,CAAGvI,iBAAiB,CAC/C,KAAM,CAAAyI,MAAM,CAAGzK,UAAU,CAAC0K,KAAK,CAACH,UAAU,CAAEC,QAAQ,CAAC,CACrD/L,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAE+L,MAAM,CAAC,CAClE,MAAO,CAAAA,MAAM,CACf,CAAC,CAED,KAAM,CAAAE,cAAc,CAAI5I,SAAoB,EAAK,CAC/CxB,gBAAgB,CAACwB,SAAS,CAAC,CAC3B1B,cAAc,CAAC,IAAI,CAAC,CACpB;AACAiJ,QAAQ,CAACsB,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,QAAQ,CACzC,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIhG,CAAgF,EAAK,CAC9G,KAAM,CAAE/F,IAAI,CAAEgG,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAEhC;AACA,GAAIjG,IAAI,GAAK,WAAW,EAAIgG,KAAK,EAAI,CAACN,kBAAkB,CAACM,KAAK,CAAC,CAAE,CAC/D,OAAQ;AACV,CAEA;AACA,GAAIhG,IAAI,GAAK,WAAW,EAAIgG,KAAK,EAAI,CAACH,aAAa,CAACG,KAAK,CAAC,CAAE,CAC1D,OAAQ;AACV,CAEA;AACA,GAAIhG,IAAI,GAAK,mBAAmB,CAAE,CAChC,GAAI,CAAA0H,cAAc,CAAG1B,KAAK,CAACgB,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAAE;AAE/C;AACA,GAAIU,cAAc,CAACtE,MAAM,CAAG,EAAE,CAAEsE,cAAc,CAAGA,cAAc,CAACD,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAEhF,GAAI,CAAAuE,mBAAmB,CAAG,EAAE,CAC5B,IAAK,GAAI,CAAArE,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGD,cAAc,CAACtE,MAAM,CAAEuE,CAAC,EAAE,CAAE,CAC9C,GAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,CAAC,EAAIA,CAAC,GAAK,EAAE,EAAIA,CAAC,GAAK,EAAE,EAAIA,CAAC,GAAK,EAAE,CAAE,CAChFqE,mBAAmB,EAAI,GAAG,CAAGtE,cAAc,CAACC,CAAC,CAAC,CAChD,CAAC,IAAM,CACLqE,mBAAmB,EAAItE,cAAc,CAACC,CAAC,CAAC,CAC1C,CACF,CAEApG,gBAAgB,CAAC8E,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAChBD,IAAI,MACP,CAACrG,IAAI,EAAGgM,mBAAmB,EAC3B,CAAC,CACL,CAAC,IAAM,CACLzK,gBAAgB,CAAC8E,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAChBD,IAAI,MACP,CAACrG,IAAI,EAAGgG,KAAK,EACb,CAAC,CACL,CACF,CAAC,CAED,KAAM,CAAAiG,iBAAiB,CAAG,KAAO,CAAAlG,CAAkB,EAAK,CACtDA,CAAC,CAACiE,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,GAAI1I,aAAa,CAAC8H,EAAE,CAAE,CACpB;AACA,KAAM,CAAAJ,aAAa,CAAA1C,aAAA,CAAAA,aAAA,IACdhF,aAAa,MAChBf,aAAa,CAAE2F,QAAQ,CAAC5E,aAAa,CAACf,aAAuB,CAAC,EAAI,CAAC,CACnEJ,KAAK,CAAE+F,QAAQ,CAACW,UAAU,CAACvF,aAAa,CAACnB,KAAe,CAAC,CAAC,EAAI,CAAC,CAC/D;AACAM,gBAAgB,CAAEa,aAAa,CAACb,gBAAgB,EAAI,IAAI,CACxDC,gBAAgB,CAAEY,aAAa,CAACZ,gBAAgB,EAAI,IAAI,CACxDC,aAAa,CAAEW,aAAa,CAACX,aAAa,EAAI,IAAI,EACnD,CAED;AACA,KAAM,CAAAJ,aAAa,CAAG2F,QAAQ,CAAC5E,aAAa,CAACf,aAAuB,CAAC,EAAI,CAAC,CAC1E,KAAM,CAAAD,SAAS,CAAIgB,aAAa,CAAChB,SAAS,EAAe,KAAK,CAC9D,KAAM,CAAAuI,aAAa,CAAGvI,SAAS,GAAK,eAAe,EAAIC,aAAa,EAAI,EAAE,CAE1E;AACA,KAAM,CAAAqK,aAAa,CAAG,KAAM,CAAA7B,qBAAqB,CAACC,aAAa,CAAC,CAChE,KAAM,CAAA6B,aAAa,CAAG,KAAM,CAAApB,qBAAqB,CAACT,aAAa,CAAC,CAEhE;AACA,KAAM,CAAA8B,UAAU,CAAGjC,aAAa,CAAG,KAAM,CAAAe,kBAAkB,CAACZ,aAAa,CAAC,CAAG,IAAI,CAEjF;AACA,GAAI,CAAC4B,aAAa,EAAI,CAACC,aAAa,EAAI,CAACC,UAAU,CAAE,CACnD,OACF,CAEA;AACA,KAAM,CAAAoB,gBAAgB,CAAG,KAAM,CAAAvN,eAAe,CAAC2C,aAAa,CAAC8H,EAAE,CAAEJ,aAAa,CAAC,CAE/E;AACAvG,UAAU,CAAC,gCAAgC,CAAC,CAE5C;AACApB,cAAc,CAAC,KAAK,CAAC,CAErB;AACA,KAAM,CAAAmD,YAAY,CAAC,CAAC,CAEpB;AACAgB,kBAAkB,CAAC,CAAC,CACtB,CACF,CAAE,MAAO9C,KAAU,CAAE,CACnBjD,OAAO,CAACiD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD;AACA,GAAIA,KAAK,CAACyI,OAAO,CAAE,CACjBxI,QAAQ,0DAAA6H,MAAA,CAAwC9H,KAAK,CAACyI,OAAO,CAAE,CAAC,CAClE,CAAC,IAAM,CACLxI,QAAQ,CAAC,oCAAoC,CAAC,CAChD,CACA6C,kBAAkB,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA2G,qBAAqB,CAAGA,CAAA,GAAM,CAClC;AACAlK,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAAC,CAED;AACA,KAAM,CAAAmK,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACF,GAAI9K,aAAa,CAAC8H,EAAE,CAAE,CACpB;AACA,KAAM,CAAApK,eAAe,CAACsC,aAAa,CAAC8H,EAAE,CAAC,CAEvC;AACA3G,UAAU,CAAC,4BAA4B,CAAC,CAExC;AACAR,yBAAyB,CAAC,KAAK,CAAC,CAChCoK,UAAU,CAAC,CAAC,CAEZ;AACA,KAAM,CAAA7H,YAAY,CAAC,CAAC,CAEpB;AACA,KAAM,CAAA8H,aAAa,CAAGpJ,IAAI,CAACC,IAAI,CAACnC,UAAU,CAACoC,MAAM,CAAGJ,iBAAiB,CAAC,CACtE,GAAI9B,WAAW,CAAGoL,aAAa,EAAIA,aAAa,CAAG,CAAC,CAAE,CACpDnL,cAAc,CAACmL,aAAa,CAAC,CAC/B,CAAC,IAAM,IAAIA,aAAa,GAAK,CAAC,CAAE,CAC9BnL,cAAc,CAAC,CAAC,CAAC,CACnB,CAEA;AACAqE,kBAAkB,CAAC,CAAC,CACtB,CAAC,IAAM,CACLvD,yBAAyB,CAAC,KAAK,CAAC,CAChCoK,UAAU,CAAC,CAAC,CACd,CACF,CAAE,MAAO3J,KAAU,CAAE,CACnBjD,OAAO,CAACiD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD;AACA,GAAIA,KAAK,CAACyI,OAAO,CAAE,CACjBxI,QAAQ,mDAAA6H,MAAA,CAAoC9H,KAAK,CAACyI,OAAO,CAAE,CAAC,CAC9D,CAAC,IAAM,CACLxI,QAAQ,CAAC,gCAAgC,CAAC,CAC5C,CACA6C,kBAAkB,CAAC,CAAC,CACtB,CACF,CAAC,CAED;AACA,KAAM,CAAA+G,qBAAqB,CAAGA,CAAA,GAAM,CAClCtK,yBAAyB,CAAC,KAAK,CAAC,CAClC,CAAC,CAED,KAAM,CAAAuK,0BAA0B,CAAG,KAAAA,CAAOpD,EAAU,CAAEqD,MAAc,GAAK,CACvE,GAAI,CACF;AACAxL,aAAa,CAACoF,IAAI,EAChBA,IAAI,CAACqG,GAAG,CAAC3J,SAAS,EAChBA,SAAS,CAACqG,EAAE,GAAKA,EAAE,CAAA9C,aAAA,CAAAA,aAAA,IAAQvD,SAAS,MAAEoG,cAAc,CAAEsD,MAAM,GAAK1J,SACnE,CACF,CAAC,CAED;AACA,KAAM,CAAApE,eAAe,CAACyK,EAAE,CAAA9C,aAAA,CAAAA,aAAA,IAAOtF,UAAU,CAACuI,IAAI,CAACoD,CAAC,EAAIA,CAAC,CAACvD,EAAE,GAAKA,EAAE,CAAC,MAAED,cAAc,CAAEsD,MAAM,EAAE,CAAC,CAE3F;AACAhK,UAAU,CAAC,oCAAoC,CAAC,CAChD+C,kBAAkB,CAAC,CAAC,CACtB,CAAE,MAAO9C,KAAK,CAAE,CACdjD,OAAO,CAACiD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvDC,QAAQ,CAAC,wCAAwC,CAAC,CAClD6C,kBAAkB,CAAC,CAAC,CAEpB;AACA,KAAM,CAAAhB,YAAY,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAoI,UAAU,CAAIC,UAAkB,EAAK,CACzC,GAAI,CAACA,UAAU,CAAE,MAAO,EAAE,CAC1B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAnN,IAAI,CAACkN,UAAU,CAAC,CACjC,MAAO,CAAAC,IAAI,CAACC,kBAAkB,CAAC,OAAO,CAAC,CACzC,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAI1M,SAAiB,EAAa,CACrD,OAAQA,SAAS,EACf,IAAK,KAAK,CACR,MAAO,cAAc,CACvB,IAAK,WAAW,CACd,MAAO,WAAW,CACpB,IAAK,eAAe,CAClB,MAAO,eAAe,CACxB,QACE,MAAO,eAAe,CAC1B,CACF,CAAC,CAED;AACA,KAAM,CAAA+D,aAAa,CAAGA,CAAC4I,QAAgB,CAAElK,SAAqB,GAAK,CACjE;AACA,GAAIA,SAAS,EAAIA,SAAS,CAACmK,MAAM,CAAE,CACjCzN,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEqD,SAAS,CAACmK,MAAM,CAAC,CAC5D;AACA,GAAInK,SAAS,CAACmK,MAAM,CAACC,SAAS,EAAIpK,SAAS,CAACmK,MAAM,CAACE,QAAQ,CAAE,CAC3D,SAAA5C,MAAA,CAAUzH,SAAS,CAACmK,MAAM,CAACC,SAAS,MAAA3C,MAAA,CAAIzH,SAAS,CAACmK,MAAM,CAACE,QAAQ,EACnE,CACF,CAEA;AACA,GAAI,CAACH,QAAQ,CAAE,MAAO,WAAW,CACjC,KAAM,CAAA1E,MAAM,CAAGrG,UAAU,CAACqH,IAAI,CAAChB,MAAM,EAAIA,MAAM,CAACa,EAAE,GAAKlD,QAAQ,CAAC+G,QAAQ,CAAC,CAAC,CAC1E,GAAI1E,MAAM,EAAIA,MAAM,CAAC4E,SAAS,EAAI5E,MAAM,CAAC6E,QAAQ,CAAE,CACjD,SAAA5C,MAAA,CAAUjC,MAAM,CAAC4E,SAAS,MAAA3C,MAAA,CAAIjC,MAAM,CAAC6E,QAAQ,EAC/C,CACA,MAAO,kBAAkB,CAC3B,CAAC,CAED;AACA,KAAM,CAAA9I,aAAa,CAAGA,CAAC+I,QAAgB,CAAEtK,SAAqB,GAAK,CACjE;AACA,GAAIA,SAAS,EAAIA,SAAS,CAACuK,MAAM,CAAE,CACjC7N,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEqD,SAAS,CAACuK,MAAM,CAAC,CAC5D;AACA,GAAIvK,SAAS,CAACuK,MAAM,CAACH,SAAS,EAAIpK,SAAS,CAACuK,MAAM,CAACF,QAAQ,CAAE,CAC3D,SAAA5C,MAAA,CAAUzH,SAAS,CAACuK,MAAM,CAACH,SAAS,MAAA3C,MAAA,CAAIzH,SAAS,CAACuK,MAAM,CAACF,QAAQ,EACnE,CACF,CAEA;AACA,GAAI,CAACC,QAAQ,CAAE,MAAO,WAAW,CACjC,KAAM,CAAA1E,MAAM,CAAGvG,UAAU,CAACmH,IAAI,CAACZ,MAAM,EAAIA,MAAM,CAACS,EAAE,GAAKlD,QAAQ,CAACmH,QAAQ,CAAC,CAAC,CAC1E,GAAI1E,MAAM,EAAIA,MAAM,CAACwE,SAAS,EAAIxE,MAAM,CAACyE,QAAQ,CAAE,CACjD,SAAA5C,MAAA,CAAU7B,MAAM,CAACwE,SAAS,MAAA3C,MAAA,CAAI7B,MAAM,CAACyE,QAAQ,EAC/C,CACA,MAAO,kBAAkB,CAC3B,CAAC,CAED;AACA,KAAM,CAAA7I,UAAU,CAAGA,CAACgJ,KAAa,CAAExK,SAAqB,GAAK,CAC3D;AACA,GAAIA,SAAS,EAAIA,SAAS,CAACyK,GAAG,CAAE,CAC9B/N,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEqD,SAAS,CAACyK,GAAG,CAAC,CACtD;AACA,GAAIzK,SAAS,CAACyK,GAAG,CAACL,SAAS,EAAIpK,SAAS,CAACyK,GAAG,CAACJ,QAAQ,CAAE,CACrD,SAAA5C,MAAA,CAAUzH,SAAS,CAACyK,GAAG,CAACL,SAAS,MAAA3C,MAAA,CAAIzH,SAAS,CAACyK,GAAG,CAACJ,QAAQ,EAC7D,CACF,CAEA;AACA,GAAI,CAACG,KAAK,CAAE,MAAO,WAAW,CAC9B,KAAM,CAAAzE,GAAG,CAAGxG,OAAO,CAACiH,IAAI,CAACT,GAAG,EAAIA,GAAG,CAACM,EAAE,GAAKlD,QAAQ,CAACqH,KAAK,CAAC,CAAC,CAC3D,GAAIzE,GAAG,EAAIA,GAAG,CAACqE,SAAS,EAAIrE,GAAG,CAACsE,QAAQ,CAAE,CACxC,SAAA5C,MAAA,CAAU1B,GAAG,CAACqE,SAAS,MAAA3C,MAAA,CAAI1B,GAAG,CAACsE,QAAQ,EACzC,CACA,MAAO,gBAAgB,CACzB,CAAC,CAED,KAAM,CAAAK,mBAAmB,CAAGA,CAAA,GAAM,CAChCxM,aAAa,CAACoF,IAAI,EAChBA,IAAI,CAACqG,GAAG,CAAC3J,SAAS,EAChBA,SAAS,CAACqG,EAAE,GAAK9H,aAAa,CAAC8H,EAAE,CAAG9H,aAAa,CAAgByB,SACnE,CACF,CAAC,CACDsJ,UAAU,CAAC,CAAC,CACd,CAAC,CAED;AACA,KAAM,CAAAA,UAAU,CAAGA,CAAA,GAAM,CACvBhL,cAAc,CAAC,KAAK,CAAC,CACrBE,gBAAgB,CAAC,CAAC,CAAC,CAAC,CACpB;AACA+I,QAAQ,CAACsB,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,MAAM,CACvC,CAAC,CAED,mBACEvM,KAAA,QAAKmO,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAEjCnL,OAAO,eACNnD,IAAA,QAAKqO,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CACjDnL,OAAO,CACL,CACN,CACAE,KAAK,eACJrD,IAAA,QAAKqO,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CACpDjL,KAAK,CACH,CACN,CAGAlB,iBAAiB,eAChBnC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,cACxEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,CAAC,MAAC,CAAQ,CAAC,EACnF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,4CAAqC,CAAG,CAAC,CACzC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC3F,CAAC,EACH,CAAC,CACH,CACN,CAGAjM,iBAAiB,eAChBrC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,cACxEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,CAAC,MAAC,CAAQ,CAAC,EACnF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,4CAAqC,CAAG,CAAC,CACzC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC3F,CAAC,EACH,CAAC,CACH,CACN,CAGA/L,cAAc,eACbvC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,cACrEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,CAAC,MAAC,CAAQ,CAAC,EAChF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,0CAAmC,CAAG,CAAC,CACvC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,CAAC,OAAK,CAAQ,CAAC,CACxF,CAAC,EACH,CAAC,CACH,CACN,CAGA7L,sBAAsB,eACrBzC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,cAC7EpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,CAAC,MAAC,CAAQ,CAAC,EACxF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,yCAA+B,CAAG,CAAC,CACnC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,CAAC,OAAK,CAAQ,CAAC,CAChG,CAAC,EACH,CAAC,CACH,CACN,CAGA3L,sBAAsB,eACrB3C,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,cAC5DpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,6BAAiB,CAAI,CAAC,cAC1BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,CAAC,MAAC,CAAQ,CAAC,EACvE,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,uDAAwC,CAAG,CAAC,CAC5C,CAAC,cACNpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,WAAQqO,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,CAAC,YAAK,CAAQ,CAAC,cACpFtO,IAAA,WAAQqO,SAAS,CAAC,gBAAgB,CAACE,OAAO,CAAExB,sBAAuB,CAAAuB,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC7E,CAAC,EACH,CAAC,CACH,CACN,cAEDpO,KAAA,QAAKmO,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAEhCpO,KAAA,QAAKmO,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAE5BnL,OAAO,eACNnD,IAAA,QAAKqO,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CACjDnL,OAAO,CACL,CACN,CACAE,KAAK,eACJrD,IAAA,QAAKqO,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CACpDjL,KAAK,CACH,CACN,CAGAE,gBAAgB,CAACE,IAAI,eACpBvD,KAAA,QAAKmO,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCtO,IAAA,OAAAsO,QAAA,CAAI,yBAAkB,CAAI,CAAC,cAC3BtO,IAAA,MAAAsO,QAAA,CAAG,4HAAwF,CAAG,CAAC,EAC5F,CACN,CAGAnM,iBAAiB,eAChBnC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,cACxEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,CAAC,MAAC,CAAQ,CAAC,EACnF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,4CAAqC,CAAG,CAAC,CACzC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAMnM,oBAAoB,CAAC,KAAK,CAAE,CAAAkM,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC3F,CAAC,EACH,CAAC,CACH,CACN,CAGAjM,iBAAiB,eAChBrC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,cACxEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,CAAC,MAAC,CAAQ,CAAC,EACnF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,4CAAqC,CAAG,CAAC,CACzC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAMjM,oBAAoB,CAAC,KAAK,CAAE,CAAAgM,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC3F,CAAC,EACH,CAAC,CACH,CACN,CAGA/L,cAAc,eACbvC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,cACrEpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,CAAC,MAAC,CAAQ,CAAC,EAChF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,0CAAmC,CAAG,CAAC,CACvC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAM/L,iBAAiB,CAAC,KAAK,CAAE,CAAA8L,QAAA,CAAC,OAAK,CAAQ,CAAC,CACxF,CAAC,EACH,CAAC,CACH,CACN,CAGA7L,sBAAsB,eACrBzC,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,cAC7EpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,CAAC,MAAC,CAAQ,CAAC,EACxF,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,yCAA+B,CAAG,CAAC,CACnC,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtO,IAAA,WAAQqO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAM7L,yBAAyB,CAAC,KAAK,CAAE,CAAA4L,QAAA,CAAC,OAAK,CAAQ,CAAC,CAChG,CAAC,EACH,CAAC,CACH,CACN,CAGA3L,sBAAsB,eACrB3C,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,cAC5DpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,6BAAiB,CAAI,CAAC,cAC1BtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,CAAC,MAAC,CAAQ,CAAC,EACvE,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtO,IAAA,MAAAsO,QAAA,CAAG,uDAAwC,CAAG,CAAC,CAC5C,CAAC,cACNpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,WAAQqO,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAErB,qBAAsB,CAAAoB,QAAA,CAAC,YAAK,CAAQ,CAAC,cACpFtO,IAAA,WAAQqO,SAAS,CAAC,gBAAgB,CAACE,OAAO,CAAExB,sBAAuB,CAAAuB,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC7E,CAAC,EACH,CAAC,CACH,CACN,cAEDpO,KAAA,SAAMuO,QAAQ,CAAE/D,YAAa,CAAC2D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAEtDpO,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,6BAAY,CAAO,CAAC,cAClDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAElG,QAAQ,CAACE,IAAK,CACrBgO,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gCAAoB,CAAO,CAAC,cAC1DtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,mBAAmB,CACxBgG,KAAK,CAAElG,QAAQ,CAACG,iBAAkB,CAClC+N,QAAQ,CAAExG,6BAA8B,CACxCkG,SAAS,CAAC,sBAAsB,CAChCQ,WAAW,CAAC,kCAAkC,CAC9CD,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5CtO,IAAA,aACEW,IAAI,CAAC,SAAS,CACdgG,KAAK,CAAElG,QAAQ,CAACI,OAAQ,CACxB8N,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,eAAe,CACzBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,CACH,CAAC,cAEN1O,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5CtO,IAAA,QAAKqO,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,OAAO,CACZgG,KAAK,CAAEO,cAAc,CAAGzG,QAAQ,CAACK,KAAK,CAAGwG,qBAAqB,CAAC7G,QAAQ,CAACK,KAAK,CAAE,CAC/E6N,QAAQ,CAAE/G,iBAAkB,CAC5BkH,OAAO,CAAEhH,gBAAiB,CAC1BiH,MAAM,CAAEhH,eAAgB,CACxBsG,SAAS,CAAC,wBAAwB,CAClCO,QAAQ,MACT,CAAC,CACC,CAAC,cACN1O,KAAA,QAAKmO,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCtO,IAAA,UACE0O,IAAI,CAAC,UAAU,CACf3E,EAAE,CAAC,cAAc,CACjBsE,SAAS,CAAC,cAAc,CACxBW,OAAO,CAAEvN,aAAc,CACvBkN,QAAQ,CAAGjI,CAAC,EAAKhF,gBAAgB,CAACgF,CAAC,CAACE,MAAM,CAACoI,OAAO,CAAE,CACrD,CAAC,cACFhP,IAAA,UAAOiP,OAAO,CAAC,cAAc,CAACZ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,EAClE,CAAC,EACH,CAAC,CACH,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,wCAAe,CAAO,CAAC,cACrDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,eAAe,CACpBgG,KAAK,CAAElG,QAAQ,CAACS,aAAc,CAC9ByN,QAAQ,CAAEjG,yBAA0B,CACpC2F,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACnDpO,KAAA,WACES,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAElG,QAAQ,CAACc,gBAAiB,CACjCoN,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCzL,UAAU,CAACwK,GAAG,CAACnE,MAAM,eACpBhJ,KAAA,WAAsCyG,KAAK,CAAEuC,MAAM,CAACa,EAAG,CAAAuE,QAAA,EACpDpF,MAAM,CAAC4E,SAAS,CAAC,GAAC,CAAC5E,MAAM,CAAC6E,QAAQ,eAAA5C,MAAA,CADZjC,MAAM,CAACa,EAAE,CAE1B,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,cAEN7J,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACpDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAElG,QAAQ,CAACM,SAAU,CAC1B4N,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,sBAAe,CAAO,CAAC,cACrDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAElG,QAAQ,CAACO,SAAU,CAC1B2N,QAAQ,CAAElG,qBAAsB,CAChC4F,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gCAAe,CAAO,CAAC,cACrDpO,KAAA,WACES,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAElG,QAAQ,CAACQ,SAAU,CAC1B0N,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,aAAa,CACvBO,QAAQ,MAAAN,QAAA,eAERtO,IAAA,WAAQ2G,KAAK,CAAC,KAAK,CAAA2H,QAAA,CAAC,cAAY,CAAQ,CAAC,cACzCtO,IAAA,WAAQ2G,KAAK,CAAC,WAAW,CAAA2H,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CtO,IAAA,WAAQ2G,KAAK,CAAC,eAAe,CAAA2H,QAAA,CAAC,kBAAa,CAAQ,CAAC,EAC9C,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,cAENtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC7CtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,QAAQ,CACbgG,KAAK,CAAElG,QAAQ,CAACU,MAAO,CACvBwN,QAAQ,CAAEnG,kBAAmB,CAC7B6F,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,CACH,CAAC,cAEN1O,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACnDpO,KAAA,WACES,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAElG,QAAQ,CAACW,gBAAiB,CACjCuN,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCvF,kBAAkB,CAACtI,QAAQ,CAACQ,SAAS,CAAE4F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAAC,CAACmM,GAAG,CAACnE,MAAM,eACvFhJ,KAAA,WAAwByG,KAAK,CAAEuC,MAAM,CAACa,EAAG,CAAAuE,QAAA,EACtCpF,MAAM,CAAC4E,SAAS,CAAC,GAAC,CAAC5E,MAAM,CAAC6E,QAAQ,CAAC,IAAE,CAAC7E,MAAM,CAACE,cAAc,CAAC,KAAG,CAACF,MAAM,CAACC,eAAe,CAAC,MAC1F,GAFaD,MAAM,CAACa,EAEZ,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,cACN/J,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACnDpO,KAAA,WACES,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAElG,QAAQ,CAACY,gBAAiB,CACjCsN,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCjF,kBAAkB,CAAC5I,QAAQ,CAACQ,SAAS,CAAE4F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAAC,CAACmM,GAAG,CAAC/D,MAAM,eACvFpJ,KAAA,WAAwByG,KAAK,CAAE2C,MAAM,CAACS,EAAG,CAAAuE,QAAA,EACtChF,MAAM,CAACwE,SAAS,CAAC,GAAC,CAACxE,MAAM,CAACyE,QAAQ,CAAC,IAAE,CAACzE,MAAM,CAACH,eAAe,CAAC,MAChE,GAFaG,MAAM,CAACS,EAEZ,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,cAEN7J,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACjDpO,KAAA,WACES,IAAI,CAAC,eAAe,CACpBgG,KAAK,CAAElG,QAAQ,CAACa,aAAc,CAC9BqN,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,aAAa,CACvBa,QAAQ,CAAE,CAACnI,sBAAsB,CAACtG,QAAQ,CAACQ,SAAS,CAAE4F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAAE,CAAAoN,QAAA,eAE7FtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChC/E,eAAe,CAAC9I,QAAQ,CAACQ,SAAS,CAAE4F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAAC,CAACmM,GAAG,CAAC5D,GAAG,eACjFvJ,KAAA,WAAqByG,KAAK,CAAE8C,GAAG,CAACM,EAAG,CAAAuE,QAAA,EAChC7E,GAAG,CAACqE,SAAS,CAAC,GAAC,CAACrE,GAAG,CAACsE,QAAQ,CAAC,IAAE,CAACtE,GAAG,CAACN,eAAe,CAAC,MACvD,GAFaM,GAAG,CAACM,EAET,CACT,CAAC,EACI,CAAC,CACR,CAAChD,sBAAsB,CAACtG,QAAQ,CAACQ,SAAS,CAAE4F,QAAQ,CAACpG,QAAQ,CAACS,aAAa,CAAC,EAAI,CAAC,CAAC,eACjFlB,IAAA,QAAKqO,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,yDAAqC,CAAK,CACtE,EACE,CAAC,CACH,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAa,CAAO,CAAC,cACnDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAElG,QAAQ,CAACe,gBAAiB,CACjCmN,QAAQ,CAAElI,YAAa,CACvB4H,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cAEN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,MAAM,CAAO,CAAC,cAC5CpO,KAAA,QAAKmO,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCtO,IAAA,WAAQ0O,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAE5F,WAAY,CAAA2F,QAAA,CAAC,SAE1E,CAAQ,CAAC,cACTtO,IAAA,WAAQ0O,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,QAElD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,EAGF,CAAC,EACJ,CAAC,cAGNpO,KAAA,QAAKmO,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpO,KAAA,QAAKmO,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCpO,KAAA,WAAQmO,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAEA,CAAA,GAAMrK,cAAc,CAAC,MAAM,CAAE,CAAAoK,QAAA,EAAC,4BAE1E,cAAApO,KAAA,SAAMmO,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3BtO,IAAA,SAAMqO,SAAS,6BAAAlD,MAAA,CAA8B,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,MAAM,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,cACpIpE,IAAA,SAAMqO,SAAS,+BAAAlD,MAAA,CAAgC,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,MAAM,EAAIH,UAAU,CAACI,SAAS,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,EACnI,CAAC,EACD,CAAC,cACTlE,KAAA,WAAQmO,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAMrK,cAAc,CAAC,QAAQ,CAAE,CAAAoK,QAAA,EAAC,QAE7E,cAAApO,KAAA,SAAMmO,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3BtO,IAAA,SAAMqO,SAAS,6BAAAlD,MAAA,CAA8B,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,QAAQ,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,cACtIpE,IAAA,SAAMqO,SAAS,+BAAAlD,MAAA,CAAgC,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,QAAQ,EAAIH,UAAU,CAACI,SAAS,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,EACrI,CAAC,EACD,CAAC,cACTlE,KAAA,WAAQmO,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEA,CAAA,GAAMrK,cAAc,CAAC,kBAAkB,CAAE,CAAAoK,QAAA,EAAC,mBAErF,cAAApO,KAAA,SAAMmO,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3BtO,IAAA,SAAMqO,SAAS,6BAAAlD,MAAA,CAA8B,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,kBAAkB,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,cAChJpE,IAAA,SAAMqO,SAAS,+BAAAlD,MAAA,CAAgC,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,kBAAkB,EAAIH,UAAU,CAACI,SAAS,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,EAC/I,CAAC,EACD,CAAC,cACTlE,KAAA,WAAQmO,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAMrK,cAAc,CAAC,kBAAkB,CAAE,CAAAoK,QAAA,EAAC,OAEvF,cAAApO,KAAA,SAAMmO,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3BtO,IAAA,SAAMqO,SAAS,6BAAAlD,MAAA,CAA8B,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,kBAAkB,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,cAChJpE,IAAA,SAAMqO,SAAS,+BAAAlD,MAAA,CAAgC,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,kBAAkB,EAAIH,UAAU,CAACI,SAAS,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,EAC/I,CAAC,EACD,CAAC,cACTlE,KAAA,WAAQmO,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAMrK,cAAc,CAAC,gBAAgB,CAAE,CAAAoK,QAAA,EAAC,OAErF,cAAApO,KAAA,SAAMmO,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3BtO,IAAA,SAAMqO,SAAS,6BAAAlD,MAAA,CAA8B,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,gBAAgB,EAAIH,UAAU,CAACI,SAAS,GAAK,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,cAC9IpE,IAAA,SAAMqO,SAAS,+BAAAlD,MAAA,CAAgC,CAAAnH,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,GAAG,IAAK,gBAAgB,EAAIH,UAAU,CAACI,SAAS,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAO,CAAC,EAC7I,CAAC,EACD,CAAC,EACN,CAAC,cAENpE,IAAA,QAAKqO,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC7BjK,mBAAmB,CAAC,CAAC,CAACgI,KAAK,CAAC,CAACxK,WAAW,CAAG,CAAC,EAAI8B,iBAAiB,CAAE9B,WAAW,CAAG8B,iBAAiB,CAAC,CAAC0J,GAAG,CAAC3J,SAAS,OAAAyL,qBAAA,oBAChHjP,KAAA,QAEE6J,EAAE,kBAAAoB,MAAA,CAAmBzH,SAAS,CAACqG,EAAE,CAAG,CACpCsE,SAAS,aAAAlD,MAAA,CAAc5H,gBAAgB,CAACE,IAAI,EAAI,EAAA0L,qBAAA,CAAA5L,gBAAgB,CAACG,SAAS,UAAAyL,qBAAA,iBAA1BA,qBAAA,CAA4BpF,EAAE,IAAKrG,SAAS,CAACqG,EAAE,CAAG,qBAAqB,CAAG,EAAE,CAAG,CAC/HwE,OAAO,CAAG7H,CAAC,EAAK,CACd;AACA,GAAI,CAAEA,CAAC,CAACE,MAAM,CAAiBwI,OAAO,CAAC,yBAAyB,CAAC,CAAE,CACjE9C,cAAc,CAAC5I,SAAS,CAAC,CAC3B,CACF,CAAE,CAAA4K,QAAA,eAEFtO,IAAA,QAAKqO,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE5K,SAAS,CAAC/C,IAAI,CAAM,CAAC,cACjDX,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAE5K,SAAS,CAACvC,MAAM,CAAM,CAAC,cACpDnB,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEf,UAAU,CAAC7J,SAAS,CAAClC,gBAAgB,CAAC,CAAM,CAAC,cACxExB,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEtJ,aAAa,CAACtB,SAAS,CAACtC,gBAAgB,CAAEsC,SAAS,CAAC,CAAM,CAAC,cACxFxD,KAAA,WACEmO,SAAS,2CAAAlD,MAAA,CAA4CzH,SAAS,CAACoG,cAAc,CAAG,CAChFnD,KAAK,CAAEjD,SAAS,CAACoG,cAAe,CAChC6E,QAAQ,CAAGjI,CAAC,EAAKyG,0BAA0B,CAACzJ,SAAS,CAACqG,EAAE,CAAErD,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE,CAC1E4H,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAG;AAAA,CAAAF,QAAA,eAErCtO,IAAA,WAAQ2G,KAAK,CAAC,OAAO,CAAA2H,QAAA,CAAC,sBAAe,CAAQ,CAAC,cAC9CtO,IAAA,WAAQ2G,KAAK,CAAC,UAAU,CAAA2H,QAAA,CAAC,iBAAe,CAAQ,CAAC,cACjDtO,IAAA,WAAQ2G,KAAK,CAAC,WAAW,CAAA2H,QAAA,CAAC,gBAAS,CAAQ,CAAC,EACtC,CAAC,GAvBJ5K,SAAS,CAACqG,EAwBZ,CAAC,EACP,CAAC,CACC,CAAC,CAELnG,UAAU,CAAG,CAAC,eACb1D,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,SACEqO,SAAS,oBAAAlD,MAAA,CAAqBxJ,UAAU,CAACoC,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,EAAE,CAAG,CAC1EwK,OAAO,CAAEA,CAAA,GAAM5M,UAAU,CAACoC,MAAM,CAAG,CAAC,EAAIgI,gBAAgB,CAAClK,WAAW,CAAG,CAAC,CAAGA,WAAW,CAAG,CAAC,CAAG+B,UAAU,CAAE,CAAA0K,QAAA,CAC1G,WAED,CAAM,CAAC,cACPpO,KAAA,SAAMmO,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,QACpB,CAACzM,WAAW,CAAC,KAAG,CAAC+B,UAAU,EAC7B,CAAC,cACP5D,IAAA,SACEqO,SAAS,oBAAAlD,MAAA,CAAqBxJ,UAAU,CAACoC,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,EAAE,CAAG,CAC1EwK,OAAO,CAAEA,CAAA,GAAM5M,UAAU,CAACoC,MAAM,CAAG,CAAC,EAAIgI,gBAAgB,CAAClK,WAAW,CAAG+B,UAAU,CAAG/B,WAAW,CAAG,CAAC,CAAG,CAAC,CAAE,CAAAyM,QAAA,CAC1G,SAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,EACH,CAAC,CAGLvM,WAAW,eACV/B,IAAA,QAAKqO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEvB,UAAW,CAAAsB,QAAA,cACjDpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAACE,OAAO,CAAG7H,CAAC,EAAKA,CAAC,CAAC8H,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEpO,KAAA,QAAKmO,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtO,IAAA,OAAAsO,QAAA,CAAI,8BAAe,CAAI,CAAC,cACxBtO,IAAA,WAAQqO,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEvB,UAAW,CAAAsB,QAAA,CAAC,MAAC,CAAQ,CAAC,EAC5D,CAAC,cACNtO,IAAA,QAAKqO,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBpO,KAAA,SAAMuO,QAAQ,CAAE7B,iBAAkB,CAAA0B,QAAA,eAChCpO,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,6BAAY,CAAO,CAAC,cAClDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAE1E,aAAa,CAACtB,IAAI,EAAI,EAAG,CAChCgO,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gCAAoB,CAAO,CAAC,cAC1DtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,mBAAmB,CACxBgG,KAAK,CAAE1E,aAAa,CAACrB,iBAAiB,EAAI,EAAG,CAC7C+N,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,sBAAsB,CAChCQ,WAAW,CAAC,kCAAkC,CAC9CD,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5CtO,IAAA,aACEW,IAAI,CAAC,SAAS,CACdgG,KAAK,CAAE1E,aAAa,CAACpB,OAAO,EAAI,EAAG,CACnC8N,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,eAAe,CACzBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,CACH,CAAC,cAEN1O,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5CtO,IAAA,QAAKqO,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,OAAO,CACZgG,KAAK,CAAES,mBAAmB,CAAInF,aAAa,CAACnB,KAAK,EAAI,EAAE,CAAIwG,qBAAqB,CAACrF,aAAa,CAACnB,KAAK,EAAc,EAAE,CAAE,CACtH6N,QAAQ,CAAE9G,sBAAuB,CACjCiH,OAAO,CAAE9G,qBAAsB,CAC/B+G,MAAM,CAAE7G,oBAAqB,CAC7BmG,SAAS,CAAC,wBAAwB,CAClCO,QAAQ,MACT,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACpDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAE1E,aAAa,CAAClB,SAAS,EAAI,EAAG,CACrC4N,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN1O,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,sBAAe,CAAO,CAAC,cACrDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAE1E,aAAa,CAACjB,SAAS,EAAI,EAAG,CACrC2N,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gCAAe,CAAO,CAAC,cACrDpO,KAAA,WACES,IAAI,CAAC,WAAW,CAChBgG,KAAK,CAAE1E,aAAa,CAAChB,SAAS,EAAI,EAAG,CACrC0N,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,aAAa,CACvBO,QAAQ,MAAAN,QAAA,eAERtO,IAAA,WAAQ2G,KAAK,CAAC,KAAK,CAAA2H,QAAA,CAAC,cAAY,CAAQ,CAAC,cACzCtO,IAAA,WAAQ2G,KAAK,CAAC,WAAW,CAAA2H,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CtO,IAAA,WAAQ2G,KAAK,CAAC,eAAe,CAAA2H,QAAA,CAAC,kBAAa,CAAQ,CAAC,EAC9C,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,cAENpO,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,wCAAe,CAAO,CAAC,cACrDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,eAAe,CACpBgG,KAAK,CAAE1E,aAAa,CAACf,aAAa,EAAI,EAAG,CACzCyN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cACN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC7CtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,QAAQ,CACbgG,KAAK,CAAE1E,aAAa,CAACd,MAAM,EAAI,EAAG,CAClCwN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN1O,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACnDpO,KAAA,WACES,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAE1E,aAAa,CAACb,gBAAgB,EAAI,EAAG,CAC5CuN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCzL,UAAU,CAACwK,GAAG,CAACnE,MAAM,eACpBhJ,KAAA,WAAwByG,KAAK,CAAEuC,MAAM,CAACa,EAAG,CAAAuE,QAAA,EACtCpF,MAAM,CAAC4E,SAAS,CAAC,GAAC,CAAC5E,MAAM,CAAC6E,QAAQ,CAAC,IAAE,CAAC7E,MAAM,CAACE,cAAc,CAAC,GAC/D,GAFaF,MAAM,CAACa,EAEZ,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,cACN/J,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACnDpO,KAAA,WACES,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAE1E,aAAa,CAACZ,gBAAgB,EAAI,EAAG,CAC5CsN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCvL,UAAU,CAACsK,GAAG,CAAC/D,MAAM,eACpBpJ,KAAA,WAAwByG,KAAK,CAAE2C,MAAM,CAACS,EAAG,CAAAuE,QAAA,EACtChF,MAAM,CAACwE,SAAS,CAAC,GAAC,CAACxE,MAAM,CAACyE,QAAQ,GADxBzE,MAAM,CAACS,EAEZ,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,cAEN7J,KAAA,QAAKmO,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACjDpO,KAAA,WACES,IAAI,CAAC,eAAe,CACpBgG,KAAK,CAAE1E,aAAa,CAACX,aAAa,EAAI,EAAG,CACzCqN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAAA2H,QAAA,CAAC,YAAO,CAAQ,CAAC,CAChCrL,OAAO,CAACoK,GAAG,CAAC5D,GAAG,eACdvJ,KAAA,WAAqByG,KAAK,CAAE8C,GAAG,CAACM,EAAG,CAAAuE,QAAA,EAChC7E,GAAG,CAACqE,SAAS,CAAC,GAAC,CAACrE,GAAG,CAACsE,QAAQ,GADlBtE,GAAG,CAACM,EAET,CACT,CAAC,EACI,CAAC,EACN,CAAC,CACH,CAAC,cACN/J,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAa,CAAO,CAAC,cACnDtO,IAAA,UACE0O,IAAI,CAAC,MAAM,CACX/N,IAAI,CAAC,kBAAkB,CACvBgG,KAAK,CAAE1E,aAAa,CAACT,gBAAgB,EAAI,EAAG,CAC5CmN,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,YAAY,CACtBO,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,EACH,CAAC,cAEN5O,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtO,IAAA,QAAKqO,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBpO,KAAA,QAAKmO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtO,IAAA,UAAOqO,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cAClDpO,KAAA,WACES,IAAI,CAAC,gBAAgB,CACrBgG,KAAK,CAAE1E,aAAa,CAAC6H,cAAc,EAAI,EAAG,CAC1C6E,QAAQ,CAAEjC,iBAAkB,CAC5B2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAEvBtO,IAAA,WAAQ2G,KAAK,CAAC,OAAO,CAAA2H,QAAA,CAAC,sBAAe,CAAQ,CAAC,cAC9CtO,IAAA,WAAQ2G,KAAK,CAAC,UAAU,CAAA2H,QAAA,CAAC,iBAAe,CAAQ,CAAC,cACjDtO,IAAA,WAAQ2G,KAAK,CAAC,WAAW,CAAA2H,QAAA,CAAC,gBAAS,CAAQ,CAAC,EACtC,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,cAENpO,KAAA,QAAKmO,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BtO,IAAA,WAAQ0O,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,gBAAgB,CAACE,OAAO,CAAEzB,qBAAsB,CAAAwB,QAAA,CAAC,KAEjF,CAAQ,CAAC,cACTtO,IAAA,WAAQ0O,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEvB,UAAW,CAAAsB,QAAA,CAAC,YAEzE,CAAQ,CAAC,cACTtO,IAAA,WAAQ0O,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,aAElD,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnO,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}