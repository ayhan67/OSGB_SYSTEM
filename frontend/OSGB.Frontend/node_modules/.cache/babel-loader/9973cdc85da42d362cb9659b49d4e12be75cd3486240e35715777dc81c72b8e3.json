{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{createDoctor,getAllDoctors,deleteDoctor,updateDoctor,getDoctorAssignedWorkplaces}from'../services/api';import'./DoctorCardPage.css';import{useNavigate,useLocation}from'react-router-dom';import AssignedWorkplacesModal from'./AssignedWorkplacesModal';// Define interface for form data\n// Define interface for doctor data\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DoctorCardPage=()=>{const[formData,setFormData]=useState({firstName:'',lastName:'',phone:'',assignedMinutes:11900});const[doctors,setDoctors]=useState([]);const[success,setSuccess]=useState('');const[error,setError]=useState('');// Validation functions\nconst isValidName=name=>{return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);};const isValidPhone=phone=>{return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);};// Format phone number as user types\nconst formatPhoneNumber=value=>{// Remove all non-digit characters\nconst digits=value.replace(/\\D/g,'');// Limit to 10 digits\nconst limitedDigits=digits.substring(0,10);// Format as 5xx xxx xx xx\nlet formatted='';for(let i=0;i<limitedDigits.length;i++){if(i===3||i===6||i===8){formatted+=' ';}formatted+=limitedDigits[i];}return formatted;};const navigate=useNavigate();const location=useLocation();useEffect(()=>{fetchDoctors();},[]);// Add useEffect to refresh data when location changes (navigation)\nuseEffect(()=>{console.log('DoctorCardPage: Location changed to:',location.pathname,'at:',new Date().toISOString());fetchDoctors();},[location.pathname]);// Add useEffect to refresh data when window regains focus\nuseEffect(()=>{const handleFocus=()=>{console.log('DoctorCardPage: Window focused, refreshing doctors...');fetchDoctors();};window.addEventListener('focus',handleFocus);return()=>{window.removeEventListener('focus',handleFocus);};},[]);// Add useEffect to refresh data when workplace is created\nuseEffect(()=>{const handleWorkplaceCreated=()=>{console.log('DoctorCardPage: Workplace created, refreshing doctors...');fetchDoctors();};window.addEventListener('workplaceCreated',handleWorkplaceCreated);return()=>{window.removeEventListener('workplaceCreated',handleWorkplaceCreated);};},[]);const fetchDoctors=async()=>{try{const data=await getAllDoctors();setDoctors(data);}catch(err){console.error('Hekimler getirilirken hata oluştu:',err);}};// Calculate statistics for doctors\nconst calculateDoctorStats=()=>{const stats={totalCount:doctors.length,totalMinutes:0,usedMinutes:0,remainingMinutes:0};doctors.forEach(doctor=>{stats.totalMinutes+=doctor.assignedMinutes||0;stats.usedMinutes+=doctor.usedMinutes||0;stats.remainingMinutes+=(doctor.assignedMinutes||0)-(doctor.usedMinutes||0);});return stats;};const doctorStats=calculateDoctorStats();// Function to get assigned workplace names for a doctor\nconst getAssignedWorkplaceNames=doctorId=>{// This would require a new endpoint to get workplaces assigned to a doctor\n// For now, we'll return a placeholder\nreturn'Atanmamış';};const handleChange=e=>{const{name,value}=e.target;// Special handling for name fields - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?value===''?0:parseInt(value)||0:value}));}};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');// Validation checks\nif(!isValidName(formData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(formData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(formData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}if(formData.assignedMinutes>11900){setError('Atanan dakika 11.900\\'ü geçemez');clearNotifications();return;}try{await createDoctor(formData);setSuccess('Hekim başarıyla kaydedildi!');setFormData({firstName:'',lastName:'',phone:'',assignedMinutes:11900});// Refresh the doctors list\nfetchDoctors();clearNotifications();}catch(err){console.error('Create doctor error:',err);const errorMessage=err.message||'Hekim kaydedilirken hata oluştu';setError(errorMessage);clearNotifications();}};// Clear notifications after timeout\nconst clearNotifications=()=>{setTimeout(()=>{setSuccess('');setError('');},3000);};const handleDelete=async id=>{// Show confirmation dialog before deleting\nconst confirmed=window.confirm('Bu hekim kaydını silmek istediğinize emin misiniz?');if(!confirmed){return;// User cancelled the deletion\n}try{await deleteDoctor(id);setSuccess('Hekim başarıyla silindi!');// Refresh the doctors list\nfetchDoctors();// Close modal if it was open for this doctor\nif(selectedDoctor&&selectedDoctor.id===id){setIsModalOpen(false);setSelectedDoctor(null);}clearNotifications();}catch(err){console.error('Delete error:',err);const errorMessage=err.message||'Hekim silinirken hata oluştu';setError(errorMessage);clearNotifications();}};const handleClose=()=>{// Redirect to dashboard\nnavigate('/');};// Function to open modal with doctor details\nconst openDoctorDetails=async doctor=>{// Fetch assigned workplaces when opening the doctor details modal\ntry{const workplaces=await getDoctorAssignedWorkplaces(doctor.id);setAssignedWorkplaces(workplaces);setSelectedDoctorForWorkplaces(doctor);}catch(error){console.error('Error fetching assigned workplaces:',error);setAssignedWorkplaces([]);}setSelectedDoctor(doctor);setIsEditMode(false);setIsModalOpen(true);};// Function to open modal in edit mode\nconst openEditDoctor=doctor=>{setSelectedDoctor(doctor);setEditFormData({firstName:doctor.firstName||'',lastName:doctor.lastName||'',phone:doctor.phone||'',assignedMinutes:doctor.assignedMinutes||11900});setIsEditMode(true);setIsModalOpen(true);};// Function to close modal\nconst closeModal=()=>{setIsModalOpen(false);setSelectedDoctor(null);setIsEditMode(false);};// State for modal dialog\nconst[selectedDoctor,setSelectedDoctor]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[isEditMode,setIsEditMode]=useState(false);// State for edit form data\nconst[editFormData,setEditFormData]=useState({firstName:'',lastName:'',phone:'',assignedMinutes:11900});const handleEditFormDataChange=e=>{const{name,value}=e.target;// Special handling for name fields - prevent numbers\nif(name==='firstName'||name==='lastName'){// Remove any numeric characters\nconst cleanValue=value.replace(/\\d/g,'');setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:cleanValue}));}// Special handling for phone number formatting\nelse if(name==='phone'){const formattedPhone=formatPhoneNumber(value);setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formattedPhone}));}else{setEditFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:name==='assignedMinutes'?value===''?0:parseInt(value)||0:value}));}};const handleUpdateDoctor=async e=>{e.preventDefault();if(!selectedDoctor)return;// Validation checks for edit form\nif(!isValidName(editFormData.firstName)){setError('Ad sadece harf içermelidir');clearNotifications();return;}if(!isValidName(editFormData.lastName)){setError('Soyad sadece harf içermelidir');clearNotifications();return;}if(!isValidPhone(editFormData.phone)){setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');clearNotifications();return;}if(editFormData.assignedMinutes>11900){setError('Atanan dakika 11.900\\'ü geçemez');clearNotifications();return;}try{await updateDoctor(selectedDoctor.id,editFormData);setSuccess('Hekim başarıyla güncellendi!');closeModal();fetchDoctors();// Refresh the doctors list\nclearNotifications();}catch(err){console.error('Update error:',err);const errorMessage=err.message||'Hekim güncellenirken hata oluştu';setError(errorMessage);clearNotifications();}};// Function to handle clicking on a doctor row\nconst handleDoctorClick=doctor=>{openDoctorDetails(doctor);};// State for assigned workplaces modal\nconst[isAssignedWorkplacesModalOpen,setIsAssignedWorkplacesModalOpen]=useState(false);const[assignedWorkplaces,setAssignedWorkplaces]=useState([]);const[selectedDoctorForWorkplaces,setSelectedDoctorForWorkplaces]=useState(null);// Function to open assigned workplaces modal\nconst openAssignedWorkplacesModal=async doctor=>{try{const workplaces=await getDoctorAssignedWorkplaces(doctor.id);setAssignedWorkplaces(workplaces);setSelectedDoctorForWorkplaces(doctor);setIsAssignedWorkplacesModalOpen(true);}catch(error){console.error('Error fetching assigned workplaces:',error);// Show error message\n}};// Function to close assigned workplaces modal\nconst closeAssignedWorkplacesModal=()=>{setIsAssignedWorkplacesModalOpen(false);// Don't clear assignedWorkplaces to keep the \"Gör\" button visible\n// setAssignedWorkplaces([]);\nsetSelectedDoctorForWorkplaces(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-card-page\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-info\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-notification alert alert-warning\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',left:65,top:-90,width:375,height:320,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"Yeni Hekim Kay\\u0131t\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"registration-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:formData.firstName,onChange:handleChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:formData.lastName,onChange:handleChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:formData.phone,onChange:handleChange,placeholder:\"5xx xxx xx xx\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:formData.assignedMinutes,onChange:handleChange,min:\"0\",max:\"11900\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Hekim Kaydet\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"draggable-card\",style:{position:'absolute',right:70,// Positioned to the right edge of the page\ntop:-90,width:300,height:375,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:/*#__PURE__*/_jsx(\"span\",{children:\"Hekim \\u0130statistikleri\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",style:{flex:1,overflow:'visible',padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kay\\u0131tl\\u0131 Hekim Say\\u0131s\\u0131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:doctorStats.totalCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tan\\u0131mlanan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:doctorStats.totalMinutes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kullan\\u0131lan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:doctorStats.usedMinutes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kalan Dakikalar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Toplam:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:doctorStats.remainingMinutes})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"registered-doctors-container\",style:{position:'absolute',right:'70px',top:'100px',width:'400px'},children:doctors.map(doctor=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleDoctorClick(doctor),style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'8px',margin:'10px 0',borderRadius:'8px',cursor:'pointer',transition:'all 0.3s ease',// Reset positioning to normal size and remove previous offsets\nposition:'relative',top:'-100px',left:'-400px',width:'100%',// Full width within the container\n// Color coding based on expertise class - using similar colors to experts\nbackgroundColor:'#bbdefb'// Blue background (similar to B class experts)\n},onMouseEnter:e=>{// Enhanced hover effect with more vibrant blue\ne.currentTarget.style.backgroundColor='#90caf9';// More vibrant blue on hover\ne.currentTarget.style.boxShadow='0 4px 8px rgba(33, 150, 243, 0.3)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{// Reset to original blue color when not hovering\ne.currentTarget.style.backgroundColor='#bbdefb';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-info-display\",style:{fontSize:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-name-display\",children:[doctor.firstName,\" \",doctor.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"doctor-phone-display\",children:doctor.phone})]}),/*#__PURE__*/_jsx(\"div\",{className:\"doctor-class-display\",style:{// Blue badge for all doctors (similar to expert class badges)\nbackgroundColor:'#1976d2',color:'white'},children:\"H\"})]},doctor.id))}),isModalOpen&&selectedDoctor&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:e=>{// Only close modal if clicking on the overlay (not the content)\nif(e.target===e.currentTarget){closeModal();}},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content draggable-card\",onClick:e=>e.stopPropagation(),style:{width:400,height:500,maxWidth:'90vw',maxHeight:'90vh',position:'absolute',left:'50%',top:'50%',transform:'translate(-50%, -50%)',margin:0,zIndex:2001},children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",style:{width:'100%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"window-header\",style:{userSelect:'none'},children:[/*#__PURE__*/_jsx(\"span\",{children:isEditMode?'Hekim Düzenle':'Hekim Detayları'}),/*#__PURE__*/_jsx(\"div\",{className:\"window-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"window-button\",onClick:closeModal,children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"window-content\",children:isEditMode?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateDoctor,className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Ad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-input\",value:editFormData.firstName,onChange:handleEditFormDataChange,required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Soyad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-input\",value:editFormData.lastName,onChange:handleEditFormDataChange,required:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Telefon:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-input\",value:editFormData.phone,onChange:handleEditFormDataChange,placeholder:\"5xx xxx xx xx\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Atanan Dakika:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"assignedMinutes\",className:\"form-input\",value:editFormData.assignedMinutes,onChange:handleEditFormDataChange,min:\"0\",max:\"11900\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"G\\xFCncelle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:closeModal,children:\"\\u0130ptal\"})]})]}):/*#__PURE__*/// View mode\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ad:\"}),\" \",selectedDoctor.firstName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Soyad:\"}),\" \",selectedDoctor.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefon:\"}),\" \",selectedDoctor.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Toplam Dakika:\"}),\" \",selectedDoctor.assignedMinutes]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Atanan Dakika:\"}),\" \",selectedDoctor.usedMinutes||0]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kalan Dakika:\"}),\" \",selectedDoctor.assignedMinutes-(selectedDoctor.usedMinutes||0)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-detail-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Atand\\u0131\\u011F\\u0131 \\u0130\\u015F Yeri:\"}),assignedWorkplaces.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"atand\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{marginTop:'22px',marginLeft:'10px',padding:'1px 14px',fontSize:'15px'},onClick:()=>setIsAssignedWorkplacesModalOpen(true),children:\"g\\xF6r\"})]}):/*#__PURE__*/_jsx(\"span\",{children:\"Atanmam\\u0131\\u015F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>openEditDoctor(selectedDoctor),children:\"D\\xFCzenle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{const confirmed=window.confirm('Bu hekim kaydını silmek istediğinize emin misiniz?');if(confirmed){handleDelete(selectedDoctor.id);}},children:\"Sil\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-close\",onClick:closeModal,children:\"Kapat\"})]})]})})]})})}),/*#__PURE__*/_jsx(AssignedWorkplacesModal,{isOpen:isAssignedWorkplacesModalOpen,onClose:closeAssignedWorkplacesModal,workplaces:assignedWorkplaces,personnelName:selectedDoctorForWorkplaces?\"\".concat(selectedDoctorForWorkplaces.firstName,\" \").concat(selectedDoctorForWorkplaces.lastName):'',personnelType:\"Hekim\"})]});};export default DoctorCardPage;","map":{"version":3,"names":["React","useState","useEffect","createDoctor","getAllDoctors","deleteDoctor","updateDoctor","getDoctorAssignedWorkplaces","useNavigate","useLocation","AssignedWorkplacesModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DoctorCardPage","formData","setFormData","firstName","lastName","phone","assignedMinutes","doctors","setDoctors","success","setSuccess","error","setError","isValidName","name","test","isValidPhone","formatPhoneNumber","value","digits","replace","limitedDigits","substring","formatted","i","length","navigate","location","fetchDoctors","console","log","pathname","Date","toISOString","handleFocus","window","addEventListener","removeEventListener","handleWorkplaceCreated","data","err","calculateDoctorStats","stats","totalCount","totalMinutes","usedMinutes","remainingMinutes","forEach","doctor","doctorStats","getAssignedWorkplaceNames","doctorId","handleChange","e","target","cleanValue","prev","_objectSpread","formattedPhone","parseInt","handleSubmit","preventDefault","clearNotifications","errorMessage","message","setTimeout","handleDelete","id","confirmed","confirm","selectedDoctor","setIsModalOpen","setSelectedDoctor","handleClose","openDoctorDetails","workplaces","setAssignedWorkplaces","setSelectedDoctorForWorkplaces","setIsEditMode","openEditDoctor","setEditFormData","closeModal","isModalOpen","isEditMode","editFormData","handleEditFormDataChange","handleUpdateDoctor","handleDoctorClick","isAssignedWorkplacesModalOpen","setIsAssignedWorkplacesModalOpen","assignedWorkplaces","selectedDoctorForWorkplaces","openAssignedWorkplacesModal","closeAssignedWorkplacesModal","className","children","style","position","left","top","width","height","zIndex","display","flexDirection","userSelect","flex","overflow","onSubmit","type","onChange","required","placeholder","min","max","right","padding","map","onClick","justifyContent","alignItems","margin","borderRadius","cursor","transition","backgroundColor","onMouseEnter","currentTarget","boxShadow","transform","onMouseLeave","fontSize","color","stopPropagation","maxWidth","maxHeight","marginTop","marginLeft","isOpen","onClose","personnelName","concat","personnelType"],"sources":["C:/Users/USER/OneDrive/Desktop/YAZILIM/PRO/OSGB_System/frontend/OSGB.Frontend/src/components/DoctorCardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createDoctor, getAllDoctors, deleteDoctor, updateDoctor, getDoctorAssignedWorkplaces } from '../services/api';\r\nimport './DoctorCardPage.css';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport AssignedWorkplacesModal from './AssignedWorkplacesModal';\r\n\r\n// Define interface for form data\r\ninterface FormData {\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  assignedMinutes: number;\r\n}\r\n\r\n// Define interface for doctor data\r\ninterface Doctor {\r\n  id: number;\r\n\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  assignedMinutes: number;\r\n  usedMinutes?: number;\r\n  assignedWorkplace?: string;\r\n}\r\n\r\nconst DoctorCardPage = () => {\r\n  const [formData, setFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  // Validation functions\r\n  const isValidName = (name: string) => {\r\n    return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);\r\n  };\r\n\r\n  const isValidPhone = (phone: string) => {\r\n    return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);\r\n  };\r\n\r\n  // Format phone number as user types\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Remove all non-digit characters\r\n    const digits = value.replace(/\\D/g, '');\r\n    \r\n    // Limit to 10 digits\r\n    const limitedDigits = digits.substring(0, 10);\r\n    \r\n    // Format as 5xx xxx xx xx\r\n    let formatted = '';\r\n    for (let i = 0; i < limitedDigits.length; i++) {\r\n      if (i === 3 || i === 6 || i === 8) {\r\n        formatted += ' ';\r\n      }\r\n      formatted += limitedDigits[i];\r\n    }\r\n    \r\n    return formatted;\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    fetchDoctors();\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when location changes (navigation)\r\n  useEffect(() => {\r\n    console.log('DoctorCardPage: Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchDoctors();\r\n  }, [location.pathname]);\r\n\r\n  // Add useEffect to refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('DoctorCardPage: Window focused, refreshing doctors...');\r\n      fetchDoctors();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when workplace is created\r\n  useEffect(() => {\r\n    const handleWorkplaceCreated = () => {\r\n      console.log('DoctorCardPage: Workplace created, refreshing doctors...');\r\n      fetchDoctors();\r\n    };\r\n\r\n    window.addEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    return () => {\r\n      window.removeEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    };\r\n  }, []);\r\n\r\n  const fetchDoctors = async () => {\r\n    try {\r\n      const data = await getAllDoctors();\r\n      setDoctors(data);\r\n    } catch (err) {\r\n      console.error('Hekimler getirilirken hata oluştu:', err);\r\n    }\r\n  };\r\n\r\n  // Calculate statistics for doctors\r\n  const calculateDoctorStats = () => {\r\n    const stats = {\r\n      totalCount: doctors.length,\r\n      totalMinutes: 0,\r\n      usedMinutes: 0,\r\n      remainingMinutes: 0\r\n    };\r\n\r\n    doctors.forEach(doctor => {\r\n      stats.totalMinutes += doctor.assignedMinutes || 0;\r\n      stats.usedMinutes += doctor.usedMinutes || 0;\r\n      stats.remainingMinutes += (doctor.assignedMinutes || 0) - (doctor.usedMinutes || 0);\r\n    });\r\n\r\n    return stats;\r\n  };\r\n\r\n  const doctorStats = calculateDoctorStats();\r\n\r\n  // Function to get assigned workplace names for a doctor\r\n  const getAssignedWorkplaceNames = (doctorId: number) => {\r\n    // This would require a new endpoint to get workplaces assigned to a doctor\r\n    // For now, we'll return a placeholder\r\n    return 'Atanmamış';\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    // Validation checks\r\n    if (!isValidName(formData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(formData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(formData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (formData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await createDoctor(formData);\r\n      setSuccess('Hekim başarıyla kaydedildi!');\r\n      setFormData({\r\n        firstName: '',\r\n        lastName: '',\r\n        phone: '',\r\n        assignedMinutes: 11900\r\n      });\r\n      // Refresh the doctors list\r\n      fetchDoctors();\r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Create doctor error:', err);\r\n      const errorMessage = err.message || 'Hekim kaydedilirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    // Show confirmation dialog before deleting\r\n    const confirmed = window.confirm('Bu hekim kaydını silmek istediğinize emin misiniz?');\r\n    if (!confirmed) {\r\n      return; // User cancelled the deletion\r\n    }\r\n    \r\n    try {\r\n      await deleteDoctor(id);\r\n      setSuccess('Hekim başarıyla silindi!');\r\n      // Refresh the doctors list\r\n      fetchDoctors();\r\n      \r\n      // Close modal if it was open for this doctor\r\n      if (selectedDoctor && selectedDoctor.id === id) {\r\n        setIsModalOpen(false);\r\n        setSelectedDoctor(null);\r\n      }\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Delete error:', err);\r\n      const errorMessage = err.message || 'Hekim silinirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    // Redirect to dashboard\r\n    navigate('/');\r\n  };\r\n\r\n  // Function to open modal with doctor details\r\n  const openDoctorDetails = async (doctor: Doctor) => {\r\n    // Fetch assigned workplaces when opening the doctor details modal\r\n    try {\r\n      const workplaces = await getDoctorAssignedWorkplaces(doctor.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDoctorForWorkplaces(doctor);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      setAssignedWorkplaces([]);\r\n    }\r\n    \r\n    setSelectedDoctor(doctor);\r\n    setIsEditMode(false);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to open modal in edit mode\r\n  const openEditDoctor = (doctor: Doctor) => {\r\n    setSelectedDoctor(doctor);\r\n    setEditFormData({\r\n      firstName: doctor.firstName || '',\r\n      lastName: doctor.lastName || '',\r\n      phone: doctor.phone || '',\r\n      assignedMinutes: doctor.assignedMinutes || 11900\r\n    });\r\n    setIsEditMode(true);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedDoctor(null);\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  // State for modal dialog\r\n  const [selectedDoctor, setSelectedDoctor] = useState<Doctor | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  \r\n  // State for edit form data\r\n  const [editFormData, setEditFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  \r\n  const handleEditFormDataChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setEditFormData((prev) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setEditFormData((prev) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setEditFormData((prev) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleUpdateDoctor = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedDoctor) return;\r\n    \r\n    // Validation checks for edit form\r\n    if (!isValidName(editFormData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(editFormData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(editFormData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (editFormData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await updateDoctor(selectedDoctor.id, editFormData);\r\n      setSuccess('Hekim başarıyla güncellendi!');\r\n      closeModal();\r\n      fetchDoctors(); // Refresh the doctors list\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Update error:', err);\r\n      const errorMessage = err.message || 'Hekim güncellenirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Function to handle clicking on a doctor row\r\n  const handleDoctorClick = (doctor: Doctor) => {\r\n    openDoctorDetails(doctor);\r\n  };\r\n\r\n  // State for assigned workplaces modal\r\n  const [isAssignedWorkplacesModalOpen, setIsAssignedWorkplacesModalOpen] = useState(false);\r\n  const [assignedWorkplaces, setAssignedWorkplaces] = useState<any[]>([]);\r\n  const [selectedDoctorForWorkplaces, setSelectedDoctorForWorkplaces] = useState<Doctor | null>(null);\r\n\r\n  // Function to open assigned workplaces modal\r\n  const openAssignedWorkplacesModal = async (doctor: Doctor) => {\r\n    try {\r\n      const workplaces = await getDoctorAssignedWorkplaces(doctor.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDoctorForWorkplaces(doctor);\r\n      setIsAssignedWorkplacesModalOpen(true);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      // Show error message\r\n    }\r\n  };\r\n  \r\n  // Function to close assigned workplaces modal\r\n  const closeAssignedWorkplacesModal = () => {\r\n    setIsAssignedWorkplacesModalOpen(false);\r\n    // Don't clear assignedWorkplaces to keep the \"Gör\" button visible\r\n    // setAssignedWorkplaces([]);\r\n    setSelectedDoctorForWorkplaces(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"doctor-card-page\">\r\n      {/* Popup notifications - only show at the top level */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* \"Yeni Hekim Kayıt\" card (fixed position and size like DSP card) */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          left: 65,\r\n          top: -90,\r\n          width: 375,\r\n          height: 320,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Yeni Hekim Kayıt</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible' }}>\r\n            <form onSubmit={handleSubmit} className=\"registration-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Ad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      className=\"form-input\"\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Soyad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      className=\"form-input\"\r\n                      value={formData.lastName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Telefon:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  className=\"form-input\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  placeholder=\"5xx xxx xx xx\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Atanan Dakika:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"assignedMinutes\"\r\n                  className=\"form-input\"\r\n                  value={formData.assignedMinutes}\r\n                  onChange={handleChange}\r\n                  min=\"0\"\r\n                  max=\"11900\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <button type=\"submit\" className=\"btn btn-primary\">Hekim Kaydet</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Statistics card for doctors */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          right: 70, // Positioned to the right edge of the page\r\n          top: -90,\r\n          width: 300,\r\n          height: 375,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Hekim İstatistikleri</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible', padding: '15px' }}>\r\n            <div className=\"stats-container\">\r\n              <div className=\"stats-section\">\r\n                <h3>Kayıtlı Hekim Sayısı</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{doctorStats.totalCount}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Tanımlanan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{doctorStats.totalMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kullanılan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{doctorStats.usedMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kalan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{doctorStats.remainingMinutes}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Display registered doctors in individual rows positioned on the right side of the page */}\r\n      <div className=\"registered-doctors-container\" style={{ \r\n        position: 'absolute',\r\n        right: '70px',\r\n        top: '100px',\r\n        width: '400px'\r\n      }}>\r\n        {doctors.map((doctor) => (\r\n          <div\r\n            key={doctor.id}\r\n            onClick={() => handleDoctorClick(doctor)}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '8px',\r\n              margin: '10px 0',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease',\r\n              // Reset positioning to normal size and remove previous offsets\r\n              position: 'relative',\r\n              top: '-100px',\r\n              left: '-400px',\r\n              width: '100%',  // Full width within the container\r\n              // Color coding based on expertise class - using similar colors to experts\r\n              backgroundColor: '#bbdefb' // Blue background (similar to B class experts)\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              // Enhanced hover effect with more vibrant blue\r\n              e.currentTarget.style.backgroundColor = '#90caf9'; // More vibrant blue on hover\r\n              e.currentTarget.style.boxShadow = '0 4px 8px rgba(33, 150, 243, 0.3)';\r\n              e.currentTarget.style.transform = 'translateY(-2px)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              // Reset to original blue color when not hovering\r\n              e.currentTarget.style.backgroundColor = '#bbdefb';\r\n              e.currentTarget.style.boxShadow = 'none';\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n            }}\r\n          >\r\n            <div className=\"doctor-info-display\" style={{ fontSize: '15px' }}>\r\n              <div className=\"doctor-name-display\">{doctor.firstName} {doctor.lastName}</div>\r\n              <div className=\"doctor-phone-display\">{doctor.phone}</div>\r\n            </div>\r\n            <div \r\n              className=\"doctor-class-display\"\r\n              style={{\r\n                // Blue badge for all doctors (similar to expert class badges)\r\n                backgroundColor: '#1976d2',\r\n                color: 'white',\r\n              }}\r\n            >\r\n              H\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* Doctor Details Modal */}\r\n      {isModalOpen && selectedDoctor && (\r\n        <div className=\"modal-overlay\" onClick={(e) => {\r\n          // Only close modal if clicking on the overlay (not the content)\r\n          if (e.target === e.currentTarget) {\r\n            closeModal();\r\n          }\r\n        }}>\r\n          <div \r\n            className=\"modal-content draggable-card\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              width: 400,\r\n              height: 500,\r\n              maxWidth: '90vw',\r\n              maxHeight: '90vh',\r\n              position: 'absolute',\r\n              left: '50%',\r\n              top: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              margin: 0,\r\n              zIndex: 2001\r\n            }}\r\n          >\r\n            <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n              <div \r\n                className=\"window-header\"\r\n                style={{ userSelect: 'none' }}\r\n              >\r\n                <span>{isEditMode ? 'Hekim Düzenle' : 'Hekim Detayları'}</span>\r\n                <div className=\"window-controls\">\r\n                  <button className=\"window-button\" onClick={closeModal}>×</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"window-content\">\r\n                {isEditMode ? (\r\n                  <form onSubmit={handleUpdateDoctor} className=\"edit-form\">\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Ad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"firstName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.firstName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Soyad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"lastName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.lastName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Telefon:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.phone}\r\n                        onChange={handleEditFormDataChange}\r\n                        placeholder=\"5xx xxx xx xx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Dakika:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"assignedMinutes\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.assignedMinutes}\r\n                        onChange={handleEditFormDataChange}\r\n                        min=\"0\"\r\n                        max=\"11900\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\">Güncelle</button>\r\n                      <button type=\"button\" className=\"btn\" onClick={closeModal}>İptal</button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  // View mode\r\n                  <>\r\n                    <div className=\"doctor-detail-info\">\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Ad:</strong> {selectedDoctor.firstName}\r\n                      </div>\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Soyad:</strong> {selectedDoctor.lastName}\r\n                      </div>\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Telefon:</strong> {selectedDoctor.phone}\r\n                      </div>\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Toplam Dakika:</strong> {selectedDoctor.assignedMinutes}\r\n                      </div>\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Atanan Dakika:</strong> {selectedDoctor.usedMinutes || 0}\r\n                      </div>\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Kalan Dakika:</strong> {selectedDoctor.assignedMinutes - (selectedDoctor.usedMinutes || 0)}\r\n                      </div>\r\n                      \r\n                      {/* Workplace assignment information - show \"atandı\" and \"gör\" button if assigned */}\r\n                      <div className=\"doctor-detail-row\">\r\n                        <strong>Atandığı İş Yeri:</strong> \r\n                        {assignedWorkplaces.length > 0 ? (\r\n                          <>\r\n                            <span>atandı</span>\r\n                            <button \r\n                              className=\"btn btn-primary\" \r\n                              style={{ marginTop: '22px' , marginLeft: '10px', padding: '1px 14px', fontSize: '15px' }}\r\n                              onClick={() => setIsAssignedWorkplacesModalOpen(true)}\r\n                            >\r\n                              gör\r\n                            </button>\r\n                          </>\r\n                        ) : (\r\n                          <span>Atanmamış</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button \r\n                        className=\"btn btn-primary\" \r\n                        onClick={() => openEditDoctor(selectedDoctor)}\r\n                      >\r\n                        Düzenle\r\n                      </button>\r\n                      <button \r\n                        className=\"btn btn-danger\" \r\n                        onClick={() => {\r\n                          const confirmed = window.confirm('Bu hekim kaydını silmek istediğinize emin misiniz?');\r\n                          if (confirmed) {\r\n                            handleDelete(selectedDoctor.id);\r\n                          }\r\n                        }}\r\n                      >\r\n                        Sil\r\n                      </button>\r\n                      <button className=\"btn btn-close\" onClick={closeModal}>Kapat</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Assigned Workplaces Modal */}\r\n      <AssignedWorkplacesModal\r\n        isOpen={isAssignedWorkplacesModalOpen}\r\n        onClose={closeAssignedWorkplacesModal}\r\n        workplaces={assignedWorkplaces}\r\n        personnelName={selectedDoctorForWorkplaces ? `${selectedDoctorForWorkplaces.firstName} ${selectedDoctorForWorkplaces.lastName}` : ''}\r\n        personnelType=\"Hekim\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorCardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}