{"version":3,"file":"static/js/694.55b3d041.chunk.js","mappings":"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","sources":["components/AssignedWorkplacesModal.tsx","components/DspCardPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport './AssignedWorkplacesModal.css';\r\n\r\ninterface Workplace {\r\n  id: number;\r\n  name: string;\r\n  sskRegistrationNo: string;\r\n  address: string;\r\n  price: string;\r\n  taxOffice: string;\r\n  taxNumber: string;\r\n  riskLevel: string;\r\n  employeeCount: string;\r\n  source: string;\r\n  assignedExpertId: string | null;\r\n  assignedDoctorId: string | null;\r\n  assignedDspId: string | null;\r\n  registrationDate: string;\r\n  approvalStatus: string;\r\n}\r\n\r\ninterface AssignedWorkplacesModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  workplaces: Workplace[];\r\n  personnelName: string;\r\n  personnelType: string;\r\n}\r\n\r\nconst AssignedWorkplacesModal: React.FC<AssignedWorkplacesModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  workplaces,\r\n  personnelName,\r\n  personnelType\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const formatRiskLevel = (riskLevel: string): string => {\r\n    switch (riskLevel) {\r\n      case 'low':\r\n        return 'Az Tehlikeli';\r\n      case 'dangerous':\r\n        return 'Tehlikeli';\r\n      case 'veryDangerous':\r\n        return 'Çok Tehlikeli';\r\n      default:\r\n        return 'Belirtilmemiş';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('tr-TR');\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"window\">\r\n          <div className=\"window-header\">\r\n            <span>{personnelName} - Atandığı İş Yerleri</span>\r\n            <button className=\"window-button\" onClick={onClose}>×</button>\r\n          </div>\r\n          <div className=\"window-content\" style={{ padding: 0, margin: 0 }}>\r\n            {workplaces.length === 0 ? (\r\n              <p>Henüz atanmış iş yeri bulunmamaktadır.</p>\r\n            ) : (\r\n              <div className=\"workplaces-table\">\r\n                <div className=\"table-header\">\r\n                  <div className=\"table-cell\">İş Yeri Adı</div>\r\n                  <div className=\"table-cell\">SGK Sicil No</div>\r\n                  <div className=\"table-cell\">Tehlike Sınıfı</div>\r\n                  <div className=\"table-cell\">Çalışan Sayısı</div>\r\n                  <div className=\"table-cell\">Kayıt Tarihi</div>\r\n                  <div className=\"table-cell\">Onay Durumu</div>\r\n                </div>\r\n                {workplaces.map((workplace) => (\r\n                  <div key={workplace.id} className=\"table-row\">\r\n                    <div className=\"table-cell\" title={workplace.name}>\r\n                      {workplace.name}\r\n                    </div>\r\n                    <div className=\"table-cell\" title={workplace.sskRegistrationNo}>\r\n                      {workplace.sskRegistrationNo}\r\n                    </div>\r\n                    <div className=\"table-cell\">{formatRiskLevel(workplace.riskLevel)}</div>\r\n                    <div className=\"table-cell\">{workplace.employeeCount}</div>\r\n                    <div className=\"table-cell\">{formatDate(workplace.registrationDate)}</div>\r\n                    <div className=\"table-cell\">\r\n                      <span className={`status-badge status-${workplace.approvalStatus}`}>\r\n                        {workplace.approvalStatus === 'atama' && 'Atama yapılacak'}\r\n                        {workplace.approvalStatus === 'bekliyor' && 'Onay bekleniyor'}\r\n                        {workplace.approvalStatus === 'onaylandi' && 'Onaylandı'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"modal-actions\" style={{ padding: '15px', margin: 0 }}>\r\n            <button className=\"btn btn-close\" onClick={onClose}>Kapat</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignedWorkplacesModal;","import React, { useState, useEffect } from 'react';\r\nimport { createDsp, getAllDsps, deleteDsp, updateDsp, getDspAssignedWorkplaces } from '../services/api';\r\nimport './DspCardPage.css';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport AssignedWorkplacesModal from './AssignedWorkplacesModal';\r\n\r\n// Define interface for form data\r\ninterface FormData {\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  assignedMinutes: number;\r\n}\r\n\r\n// Define interface for DSP data\r\ninterface DspData extends FormData {\r\n  id: number;\r\n  usedMinutes?: number;\r\n}\r\n\r\nconst DspCardPage = () => {\r\n  // DSP Card Page Component\r\n  const [formData, setFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  const [dsps, setDsps] = useState<DspData[]>([]);\r\n  const [success, setSuccess] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Validation functions\r\n  const isValidName = (name: string) => {\r\n    return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\\s]+$/.test(name);\r\n  };\r\n\r\n  const isValidPhone = (phone: string) => {\r\n    return /^5\\d{2}\\s\\d{3}\\s\\d{2}\\s\\d{2}$/.test(phone);\r\n  };\r\n\r\n  // Format phone number as user types\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Remove all non-digit characters\r\n    const digits = value.replace(/\\D/g, '');\r\n    \r\n    // Limit to 10 digits\r\n    const limitedDigits = digits.substring(0, 10);\r\n    \r\n    // Format as 5xx xxx xx xx\r\n    let formatted = '';\r\n    for (let i = 0; i < limitedDigits.length; i++) {\r\n      if (i === 3 || i === 6 || i === 8) {\r\n        formatted += ' ';\r\n      }\r\n      formatted += limitedDigits[i];\r\n    }\r\n    \r\n    return formatted;\r\n  };\r\n\r\n  // Function to handle clicking on a DSP row\r\n  const handleDspClick = (dsp: DspData) => {\r\n    openDspDetails(dsp);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDsps();\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when location changes (navigation)\r\n  useEffect(() => {\r\n    console.log('DspCardPage: Location changed to:', location.pathname, 'at:', new Date().toISOString());\r\n    fetchDsps();\r\n  }, [location.pathname]);\r\n\r\n  // Add useEffect to refresh data when window regains focus\r\n  useEffect(() => {\r\n    const handleFocus = () => {\r\n      console.log('DspCardPage: Window focused, refreshing DSPs...');\r\n      fetchDsps();\r\n    };\r\n\r\n    window.addEventListener('focus', handleFocus);\r\n    return () => {\r\n      window.removeEventListener('focus', handleFocus);\r\n    };\r\n  }, []);\r\n\r\n  // Add useEffect to refresh data when workplace is created\r\n  useEffect(() => {\r\n    const handleWorkplaceCreated = () => {\r\n      console.log('DspCardPage: Workplace created, refreshing DSPs...');\r\n      fetchDsps();\r\n    };\r\n\r\n    window.addEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    return () => {\r\n      window.removeEventListener('workplaceCreated', handleWorkplaceCreated);\r\n    };\r\n  }, []);\r\n\r\n  const fetchDsps = async () => {\r\n    try {\r\n      const data = await getAllDsps();\r\n      setDsps(data);\r\n    } catch (err: any) {\r\n      console.error('DSP\\'ler getirilirken hata oluştu:', err);\r\n      setError(err.message || 'DSP\\'ler getirilirken hata oluştu');\r\n    }\r\n  };\r\n\r\n  // Calculate statistics for DSPs\r\n  const calculateDspStats = () => {\r\n    const stats = {\r\n      totalCount: dsps.length,\r\n      totalMinutes: 0,\r\n      usedMinutes: 0,\r\n      remainingMinutes: 0\r\n    };\r\n\r\n    dsps.forEach(dsp => {\r\n      stats.totalMinutes += dsp.assignedMinutes || 0;\r\n      stats.usedMinutes += dsp.usedMinutes || 0;\r\n      stats.remainingMinutes += (dsp.assignedMinutes || 0) - (dsp.usedMinutes || 0);\r\n    });\r\n\r\n    return stats;\r\n  };\r\n\r\n  const dspStats = calculateDspStats();\r\n\r\n  // Function to get assigned workplace names for a DSP\r\n  const getAssignedWorkplaceNames = (dspId: number) => {\r\n    // This would require a new endpoint to get workplaces assigned to a DSP\r\n    // For now, we'll return a placeholder\r\n    return 'Atanmamış';\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    // Validation checks\r\n    if (!isValidName(formData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(formData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(formData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (formData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await createDsp(formData);\r\n      setSuccess('DSP başarıyla kaydedildi!');\r\n      setFormData({\r\n        firstName: '',\r\n        lastName: '',\r\n        phone: '',\r\n        assignedMinutes: 11900\r\n      });\r\n      // Refresh the DSPs list\r\n      fetchDsps();\r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Create DSP error:', err);\r\n      const errorMessage = err.message || 'DSP kaydedilirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // Clear notifications after timeout\r\n  const clearNotifications = () => {\r\n    setTimeout(() => {\r\n      setSuccess('');\r\n      setError('');\r\n    }, 3000);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    // Redirect to dashboard\r\n    navigate('/');\r\n  };\r\n\r\n  // Function to open modal with DSP details\r\n  const openDspDetails = async (dsp: DspData) => {\r\n    // Fetch assigned workplaces when opening the DSP details modal\r\n    try {\r\n      const workplaces = await getDspAssignedWorkplaces(dsp.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDspForWorkplaces(dsp);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      setAssignedWorkplaces([]);\r\n    }\r\n    \r\n    setSelectedDsp(dsp);\r\n    setIsEditMode(false);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to open modal in edit mode\r\n  const openEditDsp = (dsp: DspData) => {\r\n    setSelectedDsp(dsp);\r\n    setEditFormData({\r\n      firstName: dsp.firstName || '',\r\n      lastName: dsp.lastName || '',\r\n      phone: dsp.phone || '',\r\n      assignedMinutes: dsp.assignedMinutes || 11900\r\n    });\r\n    setIsEditMode(true);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Function to close modal\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedDsp(null);\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  // State for modal dialog\r\n  const [selectedDsp, setSelectedDsp] = useState<DspData | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  \r\n  // State for edit form data\r\n  const [editFormData, setEditFormData] = useState<FormData>({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    assignedMinutes: 11900\r\n  });\r\n  \r\n  const handleEditFormDataChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Special handling for name fields - prevent numbers\r\n    if (name === 'firstName' || name === 'lastName') {\r\n      // Remove any numeric characters\r\n      const cleanValue = value.replace(/\\d/g, '');\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: cleanValue\r\n      }));\r\n    }\r\n    // Special handling for phone number formatting\r\n    else if (name === 'phone') {\r\n      const formattedPhone = formatPhoneNumber(value);\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: formattedPhone\r\n      }));\r\n    } else {\r\n      setEditFormData((prev: FormData) => ({\r\n        ...prev,\r\n        [name]: name === 'assignedMinutes' ? (value === '' ? 0 : parseInt(value) || 0) : value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  const handleUpdateDsp = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedDsp) return;\r\n    \r\n    // Validation checks for edit form\r\n    if (!isValidName(editFormData.firstName)) {\r\n      setError('Ad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidName(editFormData.lastName)) {\r\n      setError('Soyad sadece harf içermelidir');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (!isValidPhone(editFormData.phone)) {\r\n      setError('Telefon numarası 5xx xxx xx xx formatında olmalıdır');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    if (editFormData.assignedMinutes > 11900) {\r\n      setError('Atanan dakika 11.900\\'ü geçemez');\r\n      clearNotifications();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await updateDsp(selectedDsp.id, editFormData);\r\n      setSuccess('DSP başarıyla güncellendi!');\r\n      closeModal();\r\n      fetchDsps(); // Refresh the DSPs list\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Update error:', err);\r\n      const errorMessage = err.message || 'DSP güncellenirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    // Show confirmation dialog before deleting\r\n    const confirmed = window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');\r\n    if (!confirmed) {\r\n      return; // User cancelled the deletion\r\n    }\r\n    \r\n    try {\r\n      await deleteDsp(id);\r\n      setSuccess('DSP başarıyla silindi!');\r\n      // Refresh the DSPs list\r\n      fetchDsps();\r\n      \r\n      // Close modal if it was open for this DSP\r\n      if (selectedDsp && selectedDsp.id === id) {\r\n        setIsModalOpen(false);\r\n        setSelectedDsp(null);\r\n      }\r\n      \r\n      clearNotifications();\r\n    } catch (err: any) {\r\n      console.error('Delete error:', err);\r\n      const errorMessage = err.message || 'DSP silinirken hata oluştu';\r\n      setError(errorMessage);\r\n      clearNotifications();\r\n    }\r\n  };\r\n\r\n  // State for assigned workplaces modal\r\n  const [isAssignedWorkplacesModalOpen, setIsAssignedWorkplacesModalOpen] = useState(false);\r\n  const [assignedWorkplaces, setAssignedWorkplaces] = useState<any[]>([]);\r\n  const [selectedDspForWorkplaces, setSelectedDspForWorkplaces] = useState<DspData | null>(null);\r\n\r\n  // Function to open assigned workplaces modal\r\n  const openAssignedWorkplacesModal = async (dsp: DspData) => {\r\n    try {\r\n      const workplaces = await getDspAssignedWorkplaces(dsp.id);\r\n      setAssignedWorkplaces(workplaces);\r\n      setSelectedDspForWorkplaces(dsp);\r\n      setIsAssignedWorkplacesModalOpen(true);\r\n    } catch (error) {\r\n      console.error('Error fetching assigned workplaces:', error);\r\n      // Show error message\r\n    }\r\n  };\r\n  \r\n  // Function to close assigned workplaces modal\r\n  const closeAssignedWorkplacesModal = () => {\r\n    setIsAssignedWorkplacesModalOpen(false);\r\n    // Don't clear assignedWorkplaces to keep the \"Gör\" button visible\r\n    // setAssignedWorkplaces([]);\r\n    setSelectedDspForWorkplaces(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dsp-card-page\">\r\n      {/* Popup notifications */}\r\n      {success && (\r\n        <div className=\"popup-notification alert alert-info\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"popup-notification alert alert-warning\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* \"Yeni DSP Kayıt\" card (fixed position and size) */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          left: 65,\r\n          top: 10,\r\n          width: 375,\r\n          height: 320,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>Yeni DSP Kayıt</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible' }}>\r\n            <form onSubmit={handleSubmit} className=\"registration-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Ad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      className=\"form-input\"\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Soyad:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      className=\"form-input\"\r\n                      value={formData.lastName}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Telefon:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  className=\"form-input\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Atanan Dakika:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"assignedMinutes\"\r\n                  className=\"form-input\"\r\n                  value={formData.assignedMinutes}\r\n                  onChange={handleChange}\r\n                  min=\"0\"\r\n                  max=\"11900\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <button type=\"submit\" className=\"btn btn-primary\">DSP Kaydet</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Statistics card for DSPs */}\r\n      <div \r\n        className=\"draggable-card\"\r\n        style={{\r\n          position: 'absolute',\r\n          right: 70, // Positioned to the right edge of the page\r\n          top: 10,\r\n          width: 300,\r\n          height: 400,\r\n          zIndex: 100\r\n        }}\r\n      >\r\n        <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <div \r\n            className=\"window-header\"\r\n            style={{ userSelect: 'none' }}\r\n          >\r\n            <span>DSP İstatistikleri</span>\r\n          </div>\r\n          <div className=\"window-content\" style={{ flex: 1, overflow: 'visible', padding: '15px' }}>\r\n            <div className=\"stats-container\">\r\n              <div className=\"stats-section\">\r\n                <h3>Kayıtlı DSP Sayısı</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.totalCount}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Tanımlanan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.totalMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kullanılan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.usedMinutes}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"stats-section\">\r\n                <h3>Kalan Dakikalar</h3>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Toplam:</span>\r\n                  <span className=\"stat-value\">{dspStats.remainingMinutes}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Display registered DSPs in individual rows positioned on the right side of the page */}\r\n      <div className=\"registered-dsps-container\" style={{ \r\n        position: 'absolute',\r\n        right: '430px',\r\n        top: '0px',\r\n        width: '450px'\r\n      }}>\r\n        {dsps.map((dsp) => (\r\n          <div\r\n            key={dsp.id}\r\n            onClick={() => handleDspClick(dsp)}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '8px',\r\n              margin: '10px 0',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease',\r\n              position: 'relative',\r\n              top: '0px',\r\n              left: '0px',\r\n              width: '100%',\r\n              // Using blue color scheme for all DSPs (similar to B class experts)\r\n              backgroundColor: '#bbdefb' // Blue background\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              // Enhanced hover effect with more vibrant blue\r\n              e.currentTarget.style.backgroundColor = '#90caf9'; // More vibrant blue on hover\r\n              e.currentTarget.style.boxShadow = '0 4px 8px rgba(33, 150, 243, 0.3)';\r\n              e.currentTarget.style.transform = 'translateY(-2px)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              // Reset to original blue color when not hovering\r\n              e.currentTarget.style.backgroundColor = '#bbdefb';\r\n              e.currentTarget.style.boxShadow = 'none';\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n            }}\r\n          >\r\n            <div className=\"dsp-info-display\" style={{ fontSize: '14px' }}>\r\n              <div className=\"dsp-name-display\">{dsp.firstName} {dsp.lastName}</div>\r\n              <div className=\"dsp-phone-display\">{dsp.phone}</div>\r\n            </div>\r\n            <div \r\n              className=\"dsp-class-display\"\r\n              style={{\r\n                // Blue badge for all DSPs\r\n                backgroundColor: '#1976d2',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: 'bold',\r\n                padding: '2px 8px',\r\n                borderRadius: '12px'\r\n              }}\r\n            >\r\n              D\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* DSP Details Modal */}\r\n      {isModalOpen && selectedDsp && (\r\n        <div className=\"modal-overlay\" onClick={(e) => {\r\n          // Only close modal if clicking on the overlay (not the content)\r\n          if (e.target === e.currentTarget) {\r\n            closeModal();\r\n          }\r\n        }}>\r\n          <div \r\n            className=\"modal-content draggable-card\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              width: 400,\r\n              height: 500,\r\n              maxWidth: '90vw',\r\n              maxHeight: '90vh',\r\n              position: 'absolute',\r\n              left: '50%',\r\n              top: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              margin: 0,\r\n              zIndex: 2001\r\n            }}\r\n          >\r\n            <div className=\"window\" style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n              <div \r\n                className=\"window-header\"\r\n                style={{ userSelect: 'none' }}\r\n              >\r\n                <span>{isEditMode ? 'DSP Düzenle' : 'DSP Detayları'}</span>\r\n                <div className=\"window-controls\">\r\n                  <button className=\"window-button\" onClick={closeModal} aria-label=\"Kapat\">×</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"window-content\">\r\n                {isEditMode ? (\r\n                  // Edit form\r\n                  <form onSubmit={handleUpdateDsp} className=\"edit-form\">\r\n                    <div className=\"form-row\">\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Ad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"firstName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.firstName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"form-col\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Soyad:</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"lastName\"\r\n                            className=\"form-input\"\r\n                            value={editFormData.lastName}\r\n                            onChange={handleEditFormDataChange}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Telefon:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.phone}\r\n                        onChange={handleEditFormDataChange}\r\n                        placeholder=\"5xx xxx xx xx\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Atanan Dakika:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"assignedMinutes\"\r\n                        className=\"form-input\"\r\n                        value={editFormData.assignedMinutes}\r\n                        onChange={handleEditFormDataChange}\r\n                        min=\"0\"\r\n                        max=\"11900\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\">Güncelle</button>\r\n                      <button type=\"button\" className=\"btn\" onClick={closeModal}>İptal</button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  // View mode\r\n                  <>\r\n                    <div className=\"dsp-detail-info\">\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Ad:</strong> {selectedDsp.firstName}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Soyad:</strong> {selectedDsp.lastName}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Telefon:</strong> {selectedDsp.phone}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Toplam Dakika:</strong> {selectedDsp.assignedMinutes}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Atanan Dakika:</strong> {selectedDsp.usedMinutes || 0}\r\n                      </div>\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Kalan Dakika:</strong> {selectedDsp.assignedMinutes - (selectedDsp.usedMinutes || 0)}\r\n                      </div>\r\n                      \r\n                      {/* Workplace assignment information - show \"atandı\" and \"gör\" button if assigned */}\r\n                      <div className=\"dsp-detail-row\">\r\n                        <strong>Atandığı İş Yeri:</strong> \r\n                        {assignedWorkplaces.length > 0 ? (\r\n                          <>\r\n                            <span>atandı</span>\r\n                            <button \r\n                              className=\"btn btn-primary\" \r\n                              style={{ marginTop: '22px' , marginLeft: '10px', padding: '1px 14px', fontSize: '15px' }}\r\n                              onClick={() => setIsAssignedWorkplacesModalOpen(true)}\r\n                            >\r\n                              gör\r\n                            </button>\r\n                          </>\r\n                        ) : (\r\n                          <span>Atanmamış</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"modal-actions\">\r\n                      <button className=\"btn btn-primary\" onClick={() => openEditDsp(selectedDsp)}>Düzenle</button>\r\n                      <button className=\"btn btn-danger\" onClick={() => {\r\n                        const confirmed = window.confirm('Bu DSP kaydını silmek istediğinize emin misiniz?');\r\n                        if (confirmed) {\r\n                          handleDelete(selectedDsp.id);\r\n                        }\r\n                      }}>Sil</button>\r\n                      <button className=\"btn btn-close\" onClick={closeModal}>Kapat</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Assigned Workplaces Modal */}\r\n      <AssignedWorkplacesModal\r\n        isOpen={isAssignedWorkplacesModalOpen}\r\n        onClose={closeAssignedWorkplacesModal}\r\n        workplaces={assignedWorkplaces}\r\n        personnelName={selectedDspForWorkplaces ? `${selectedDspForWorkplaces.firstName} ${selectedDspForWorkplaces.lastName}` : ''}\r\n        personnelType=\"DSP\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DspCardPage;"],"names":["_ref","isOpen","onClose","workplaces","personnelName","personnelType","formatRiskLevel","riskLevel","formatDate","dateString","Date","toLocaleDateString","_jsx","className","onClick","children","e","stopPropagation","_jsxs","style","padding","margin","length","map","workplace","title","name","sskRegistrationNo","employeeCount","registrationDate","concat","approvalStatus","id","DspCardPage","formData","setFormData","useState","firstName","lastName","phone","assignedMinutes","dsps","setDsps","success","setSuccess","error","setError","location","useNavigate","useLocation","isValidName","test","isValidPhone","formatPhoneNumber","value","limitedDigits","replace","substring","formatted","i","useEffect","fetchDsps","console","log","pathname","toISOString","handleFocus","window","addEventListener","removeEventListener","handleWorkplaceCreated","async","data","getAllDsps","err","message","dspStats","calculateDspStats","stats","totalCount","totalMinutes","usedMinutes","remainingMinutes","forEach","dsp","handleChange","target","cleanValue","prev","_objectSpread","formattedPhone","parseInt","clearNotifications","setTimeout","openDspDetails","getDspAssignedWorkplaces","setAssignedWorkplaces","setSelectedDspForWorkplaces","setSelectedDsp","setIsEditMode","setIsModalOpen","closeModal","selectedDsp","isModalOpen","isEditMode","editFormData","setEditFormData","handleEditFormDataChange","isAssignedWorkplacesModalOpen","setIsAssignedWorkplacesModalOpen","assignedWorkplaces","selectedDspForWorkplaces","position","left","top","width","height","zIndex","display","flexDirection","userSelect","flex","overflow","onSubmit","preventDefault","createDsp","errorMessage","type","onChange","required","min","max","right","handleDspClick","justifyContent","alignItems","borderRadius","cursor","transition","backgroundColor","onMouseEnter","currentTarget","boxShadow","transform","onMouseLeave","fontSize","color","fontWeight","maxWidth","maxHeight","updateDsp","placeholder","_Fragment","marginTop","marginLeft","openEditDsp","confirm","deleteDsp","handleDelete","AssignedWorkplacesModal","closeAssignedWorkplacesModal"],"sourceRoot":""}