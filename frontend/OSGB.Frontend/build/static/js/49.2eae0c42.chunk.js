"use strict";(self.webpackChunkosgb_frontend=self.webpackChunkosgb_frontend||[]).push([[49],{49:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var i=a(555),n=a(43),t=a(291),l=a(66),r=a(216),o=a(240),c=a(579);const d=()=>{const[e,s]=(0,n.useState)({firstName:"",lastName:"",phone:"",expertiseClass:"A",assignedMinutes:11900}),[a,d]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),[x,u]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),{organizationId:N}=(0,l.A)(),[f,j]=(0,n.useState)((()=>{try{const e=localStorage.getItem("expertModal_state");if(e){const s=JSON.parse(e);if("object"===typeof s&&null!==s&&"width"in s&&"height"in s)return(0,i.A)((0,i.A)({},s),{},{isResizing:!1,resizeDirection:"",resizeStartX:0,resizeStartY:0,originalWidth:s.width,originalHeight:s.height})}}catch(e){console.warn("Failed to parse saved modal state, using defaults")}return{width:400,height:500,originalX:(window.innerWidth-400)/2,originalY:(window.innerHeight-500)/2,isResizing:!1,resizeDirection:"",resizeStartX:0,resizeStartY:0,originalWidth:400,originalHeight:500}})()),v=((0,r.Zp)(),(0,r.zy)()),b=e=>/^[a-zA-Z\u011f\xfc\u015f\u0131\xf6\xe7\u011e\xdc\u015e\u0130\xd6\xc7\s]+$/.test(e),w=e=>/^5\d{2}\s\d{3}\s\d{2}\s\d{2}$/.test(e),C=e=>{const s=e.replace(/\D/g,"").substring(0,10);let a="";for(let i=0;i<s.length;i++)3!==i&&6!==i&&8!==i||(a+=" "),a+=s[i];return a},y=e=>{const{name:a,value:n}=e.target;if("firstName"===a||"lastName"===a){const e=n.replace(/\d/g,"");s(s=>(0,i.A)((0,i.A)({},s),{},{[a]:e}))}else if("phone"===a){const e=C(n);s(s=>(0,i.A)((0,i.A)({},s),{},{[a]:e}))}else s(e=>(0,i.A)((0,i.A)({},e),{},{[a]:"assignedMinutes"===a?parseInt(n):n}))};(0,n.useEffect)(()=>{z()},[N]),(0,n.useEffect)(()=>{console.log("ExpertCardPage: Location changed to:",v.pathname,"at:",(new Date).toISOString()),z()},[v.pathname]),(0,n.useEffect)(()=>{const e=()=>{console.log("ExpertCardPage: Window focused, refreshing experts..."),z()};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e)}},[]),(0,n.useEffect)(()=>{const e=()=>{console.log("ExpertCardPage: Workplace created, refreshing experts..."),z()};return window.addEventListener("workplaceCreated",e),()=>{window.removeEventListener("workplaceCreated",e)}},[]);const z=async()=>{try{const e=await(0,t.Xk)();h(e),g("")}catch(e){g("Failed to fetch experts: "+e.message),console.error("Fetch experts error:",e)}},k=()=>{setTimeout(()=>{u(""),g("")},3e3)},S=async e=>{try{const s=await(0,t.qz)(e.id);F(s),Z(e)}catch(p){console.error("Error fetching assigned workplaces:",p),F([])}T(e),R(!1),E(!0);j(e=>(0,i.A)((0,i.A)({},e),{},{width:100,height:500,originalX:(window.innerWidth-100)/2,originalY:(window.innerHeight-500)/2,originalWidth:100,originalHeight:500}))},A=e=>{T(e),B({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",expertiseClass:e.expertiseClass||"A",assignedMinutes:e.assignedMinutes||11900}),R(!0),E(!0);j(e=>(0,i.A)((0,i.A)({},e),{},{width:100,height:500,originalX:(window.innerWidth-100)/2,originalY:(window.innerHeight-500)/2,originalWidth:100,originalHeight:500}))},M=()=>{E(!1),T(null),R(!1)},[D,T]=(0,n.useState)(null),[Y,E]=(0,n.useState)(!1),[U,R]=(0,n.useState)(!1),[X,B]=(0,n.useState)({firstName:"",lastName:"",phone:"",expertiseClass:"A",assignedMinutes:11900}),W=e=>{const{name:s,value:a}=e.target;if("firstName"===s||"lastName"===s){const e=a.replace(/\d/g,"");B(a=>(0,i.A)((0,i.A)({},a),{},{[s]:e}))}else if("phone"===s){const e=C(a);B(a=>(0,i.A)((0,i.A)({},a),{},{[s]:e}))}else B(e=>(0,i.A)((0,i.A)({},e),{},{[s]:"assignedMinutes"===s?parseInt(a):a}))},L=function(e,s,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(e.preventDefault(),e.stopPropagation(),"modal"===s){if("drag"===a)j(s=>(0,i.A)((0,i.A)({},s),{},{isDragging:!0,dragStartX:e.clientX-(s.originalX||0),dragStartY:e.clientY-(s.originalY||0)}));else if("resize"===a){const s=e.currentTarget.closest(".modal-content");if(s){const a=s.getBoundingClientRect(),t=a.left,l=a.top;j(s=>(0,i.A)((0,i.A)({},s),{},{isResizing:!0,resizeDirection:n,resizeStartX:e.clientX,resizeStartY:e.clientY,originalX:t,originalY:l,originalWidth:s.width,originalHeight:s.height}))}}document.addEventListener("mousemove",H),document.addEventListener("mouseup",q)}},H=e=>{if(f.isResizing){const s=e.clientX-f.resizeStartX,a=e.clientY-f.resizeStartY;let n=f.originalWidth,t=f.originalHeight,l=f.originalX||0,r=f.originalY||0;f.resizeDirection.includes("right")&&(n=Math.max(300,f.originalWidth+s)),f.resizeDirection.includes("left")&&(n=Math.max(300,f.originalWidth-s),l=f.originalX+s),f.resizeDirection.includes("bottom")&&(t=Math.max(200,f.originalHeight+a)),f.resizeDirection.includes("top")&&(t=Math.max(200,f.originalHeight-a),r=f.originalY+a),j(e=>(0,i.A)((0,i.A)({},e),{},{width:n,height:t,originalWidth:n,originalHeight:t,originalX:l,originalY:r}))}if(f.isDragging){const s=e.clientX-f.dragStartX,a=e.clientY-f.dragStartY;j(e=>(0,i.A)((0,i.A)({},e),{},{originalX:s,originalY:a}))}},q=()=>{j(e=>{const s=(0,i.A)((0,i.A)({},e),{},{isDragging:!1,isResizing:!1,resizeDirection:""});return localStorage.setItem("expertModal_state",JSON.stringify(s)),s})};(0,n.useEffect)(()=>{const e=()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",q)};return e(),(f.isDragging||f.isResizing)&&(document.addEventListener("mousemove",H),document.addEventListener("mouseup",q)),e},[f.isDragging,f.isResizing]);const K=(()=>{const e={aClassCount:0,bClassCount:0,cClassCount:0,aClassMinutes:0,bClassMinutes:0,cClassMinutes:0,aClassUsed:0,bClassUsed:0,cClassUsed:0,aClassRemaining:0,bClassRemaining:0,cClassRemaining:0};return m.forEach(s=>{switch(s.expertiseClass){case"A":e.aClassCount++,e.aClassMinutes+=s.assignedMinutes||0,e.aClassUsed+=s.usedMinutes||0,e.aClassRemaining+=(s.assignedMinutes||0)-(s.usedMinutes||0);break;case"B":e.bClassCount++,e.bClassMinutes+=s.assignedMinutes||0,e.bClassUsed+=s.usedMinutes||0,e.bClassRemaining+=(s.assignedMinutes||0)-(s.usedMinutes||0);break;case"C":e.cClassCount++,e.cClassMinutes+=s.assignedMinutes||0,e.cClassUsed+=s.usedMinutes||0,e.cClassRemaining+=(s.assignedMinutes||0)-(s.usedMinutes||0)}}),e})(),[I,O]=(0,n.useState)(!1),[P,F]=(0,n.useState)([]),[_,Z]=(0,n.useState)(null);return(0,c.jsxs)("div",{id:"expert-card-page",className:"expert-card-page",children:[x&&(0,c.jsx)("div",{className:"popup-notification alert alert-info",children:x}),p&&(0,c.jsx)("div",{className:"popup-notification alert alert-warning",children:p}),(0,c.jsx)("div",{className:"draggable-card",style:{position:"absolute",left:65,top:10,width:375,height:375,zIndex:100},children:(0,c.jsxs)("div",{className:"window",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,c.jsx)("div",{className:"window-header",style:{userSelect:"none"},children:(0,c.jsx)("span",{children:"Yeni Uzman Kay\u0131t"})}),(0,c.jsx)("div",{className:"window-content",style:{flex:1,overflow:"visible"},children:(0,c.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),e.firstName.trim()&&e.lastName.trim())if(b(e.firstName)&&b(e.lastName))if(e.phone.trim())if(w(e.phone))try{a?(await(0,t.m0)(a.id,e),u("Expert updated successfully!")):(await(0,t.jZ)(e),u("Expert created successfully!")),s({firstName:"",lastName:"",phone:"",expertiseClass:"A",assignedMinutes:11900}),d(null),g(""),z(),window.dispatchEvent(new CustomEvent("expertCreated"))}catch(n){g(n.message||"Failed to save expert"),console.error("Save expert error:",n)}else g("Phone number must be in format: 5xx xxx xx xx");else g("Phone number is required");else g("Names can only contain letters and Turkish characters");else g("First name and last name are required")},className:"registration-form",children:[(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Ad:"}),(0,c.jsx)("input",{type:"text",name:"firstName",className:"form-input",value:e.firstName,onChange:y,required:!0})]})}),(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Soyad:"}),(0,c.jsx)("input",{type:"text",name:"lastName",className:"form-input",value:e.lastName,onChange:y,required:!0})]})})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Telefon:"}),(0,c.jsx)("input",{type:"text",name:"phone",className:"form-input",value:e.phone,onChange:y,placeholder:"5xx xxx xx xx",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Uzmanl\u0131k S\u0131n\u0131f\u0131:"}),(0,c.jsxs)("select",{name:"expertiseClass",className:"form-select",value:e.expertiseClass,onChange:y,required:!0,children:[(0,c.jsx)("option",{value:"A",children:"A S\u0131n\u0131f\u0131"}),(0,c.jsx)("option",{value:"B",children:"B S\u0131n\u0131f\u0131"}),(0,c.jsx)("option",{value:"C",children:"C S\u0131n\u0131f\u0131"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Atanan Dakika:"}),(0,c.jsx)("input",{type:"number",name:"assignedMinutes",className:"form-input",value:e.assignedMinutes,onChange:y,min:"0",max:"11900",required:!0})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Uzman\u0131 Kaydet"})]})})]})}),(0,c.jsx)("div",{className:"draggable-card",style:{position:"absolute",right:70,top:10,width:300,height:600,zIndex:100},children:(0,c.jsxs)("div",{className:"window",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,c.jsx)("div",{className:"window-header",style:{userSelect:"none"},children:(0,c.jsx)("span",{children:"Uzman \u0130statistikleri"})}),(0,c.jsx)("div",{className:"window-content",style:{flex:1,overflow:"visible"},children:(0,c.jsxs)("div",{className:"stats-container",children:[(0,c.jsxs)("div",{className:"stats-section",children:[(0,c.jsx)("h3",{children:"Kay\u0131tl\u0131 Uzman Say\u0131lar\u0131"}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"A S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.aClassCount})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"B S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.bClassCount})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"C S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.cClassCount})]})]}),(0,c.jsxs)("div",{className:"stats-section",children:[(0,c.jsx)("h3",{children:"Tan\u0131mlanan Dakikalar"}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"A S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.aClassMinutes})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"B S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.bClassMinutes})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"C S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.cClassMinutes})]})]}),(0,c.jsxs)("div",{className:"stats-section",children:[(0,c.jsx)("h3",{children:"Kullan\u0131lan Dakikalar"}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"A S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.aClassUsed})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"B S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.bClassUsed})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"C S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.cClassUsed})]})]}),(0,c.jsxs)("div",{className:"stats-section",children:[(0,c.jsx)("h3",{children:"Kalan Dakikalar"}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"A S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.aClassRemaining})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"B S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.bClassRemaining})]}),(0,c.jsxs)("div",{className:"stat-item",children:[(0,c.jsx)("span",{className:"stat-label",children:"C S\u0131n\u0131f\u0131:"}),(0,c.jsx)("span",{className:"stat-value",children:K.cClassRemaining})]})]})]})})]})}),(0,c.jsx)("div",{className:"registered-experts-container",style:{position:"absolute",right:"70px",top:"80px",width:"400px"},children:m.map(e=>(0,c.jsxs)("div",{onClick:()=>(e=>{S(e)})(e),style:(0,i.A)((0,i.A)((0,i.A)({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",margin:"10px 0",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",top:"-80px",left:"-400px",width:"100%"},"A"===e.expertiseClass&&{backgroundColor:"#ffcdd2"}),"B"===e.expertiseClass&&{backgroundColor:"#bbdefb"}),"C"===e.expertiseClass&&{backgroundColor:"#c8e6c9"}),onMouseEnter:s=>{"A"===e.expertiseClass?(s.currentTarget.style.backgroundColor="#ef9a9a",s.currentTarget.style.boxShadow="0 4px 8px rgba(211, 47, 47, 0.3)",s.currentTarget.style.transform="translateY(-2px)"):"B"===e.expertiseClass?(s.currentTarget.style.backgroundColor="#90caf9",s.currentTarget.style.boxShadow="0 4px 8px rgba(33, 150, 243, 0.3)",s.currentTarget.style.transform="translateY(-2px)"):"C"===e.expertiseClass&&(s.currentTarget.style.backgroundColor="#a5d6a7",s.currentTarget.style.boxShadow="0 4px 8px rgba(56, 142, 60, 0.3)",s.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:s=>{"A"===e.expertiseClass?(s.currentTarget.style.backgroundColor="#ffcdd2",s.currentTarget.style.boxShadow="none",s.currentTarget.style.transform="translateY(0)"):"B"===e.expertiseClass?(s.currentTarget.style.backgroundColor="#bbdefb",s.currentTarget.style.boxShadow="none",s.currentTarget.style.transform="translateY(0)"):"C"===e.expertiseClass&&(s.currentTarget.style.backgroundColor="#c8e6c9",s.currentTarget.style.boxShadow="none",s.currentTarget.style.transform="translateY(0)")},children:[(0,c.jsxs)("div",{className:"expert-info-display",style:{fontSize:"12px",color:"black"},children:[(0,c.jsxs)("div",{className:"expert-name-display",style:{color:"black",fontWeight:500,fontSize:"12px"},children:[e.firstName," ",e.lastName]}),(0,c.jsx)("div",{className:"expert-phone-display",style:{color:"black",fontSize:"11px"},children:e.phone})]}),(0,c.jsx)("div",{className:"expert-class-display",style:(0,i.A)((0,i.A)((0,i.A)({},"A"===e.expertiseClass&&{backgroundColor:"#d32f2f",color:"white"}),"B"===e.expertiseClass&&{backgroundColor:"#1976d2",color:"white"}),"C"===e.expertiseClass&&{backgroundColor:"#388e3c",color:"white"}),children:e.expertiseClass})]},e.id))}),Y&&D&&(0,c.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&M()},children:(0,c.jsxs)("div",{className:"modal-content draggable-card",onClick:e=>e.stopPropagation(),style:{width:f.width,height:f.height,maxWidth:"90vw",maxHeight:"90vh",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",margin:0,zIndex:2001},children:[(0,c.jsxs)("div",{className:"window",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,c.jsxs)("div",{className:"window-header",onMouseDown:e=>L(e,"modal","drag"),style:{cursor:"move",userSelect:"none"},children:[(0,c.jsx)("span",{children:U?"Uzman\u0131 D\xfczenle":"Uzman Detaylar\u0131"}),(0,c.jsx)("div",{className:"window-controls",children:(0,c.jsx)("button",{className:"window-button",onClick:M,"aria-label":"Kapat",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"window-content",children:U?(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),D){if(!b(X.firstName))return g("Ad sadece harf i\xe7ermelidir"),void k();if(!b(X.lastName))return g("Soyad sadece harf i\xe7ermelidir"),void k();if(!w(X.phone))return g("Telefon numaras\u0131 5xx xxx xx xx format\u0131nda olmal\u0131d\u0131r"),void k();try{await(0,t.m0)(D.id,X),u("Uzman ba\u015far\u0131yla g\xfcncellendi!"),M(),z(),k()}catch(s){console.error("Update error:",s);const e=s.message||"Uzman g\xfcncellenirken hata olu\u015ftu";g(e),k()}}},className:"edit-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Ad:"}),(0,c.jsx)("input",{type:"text",name:"firstName",className:"form-input",value:X.firstName,onChange:W,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Soyad:"}),(0,c.jsx)("input",{type:"text",name:"lastName",className:"form-input",value:X.lastName,onChange:W,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Telefon:"}),(0,c.jsx)("input",{type:"text",name:"phone",className:"form-input",value:X.phone,onChange:W,placeholder:"5xx xxx xx xx",required:!0})]}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Uzmanl\u0131k S\u0131n\u0131f\u0131:"}),(0,c.jsxs)("select",{name:"expertiseClass",className:"form-select",value:X.expertiseClass,onChange:W,children:[(0,c.jsx)("option",{value:"A",children:"A"}),(0,c.jsx)("option",{value:"B",children:"B"}),(0,c.jsx)("option",{value:"C",children:"C"})]})]})}),(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Atanan Dakika:"}),(0,c.jsx)("input",{type:"number",name:"assignedMinutes",className:"form-input",value:X.assignedMinutes,onChange:W,min:"0",max:"11900",required:!0})]})})]}),(0,c.jsxs)("div",{className:"modal-actions",children:[(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"G\xfcncelle"}),(0,c.jsx)("button",{type:"button",className:"btn",onClick:M,children:"\u0130ptal"})]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"expert-detail-info",children:[(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Ad:"})," ",D.firstName]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Soyad:"})," ",D.lastName]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Telefon:"})," ",D.phone]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Uzmanl\u0131k S\u0131n\u0131f\u0131:"})," ",D.expertiseClass]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Toplam Dakika:"})," ",D.assignedMinutes]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Kullan\u0131lan Dakika:"})," ",D.usedMinutes||0]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Kalan Dakika:"})," ",D.assignedMinutes-(D.usedMinutes||0)]}),(0,c.jsxs)("div",{className:"expert-detail-row",children:[(0,c.jsx)("strong",{children:"Atand\u0131\u011f\u0131 \u0130\u015f Yeri:"}),P.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:"atand\u0131"}),(0,c.jsx)("button",{className:"btn btn-primary",style:{marginTop:"22px",marginLeft:"10px",padding:"1px 14px",fontSize:"15px"},onClick:()=>O(!0),children:"g\xf6r"})]}):(0,c.jsx)("span",{children:"Atanmam\u0131\u015f"})]})]}),(0,c.jsxs)("div",{className:"modal-actions",children:[(0,c.jsx)("button",{className:"btn btn-primary",onClick:()=>A(D),children:"D\xfczenle"}),(0,c.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Bu uzman kayd\u0131n\u0131 silmek istedi\u011finize emin misiniz?")&&(async e=>{if(window.confirm("Bu uzman kayd\u0131n\u0131 silmek istedi\u011finize emin misiniz?"))try{await(0,t.Ie)(e),u("Uzman ba\u015far\u0131yla silindi!"),z(),D&&D.id===e&&(E(!1),T(null)),k()}catch(s){console.error("Delete error:",s);const e=s.message||"Uzman silinirken hata olu\u015ftu";g(e),k()}})(D.id)},children:"Sil"}),(0,c.jsx)("button",{className:"btn btn-close",onClick:M,children:"Kapat"})]})]})})]}),(0,c.jsx)("div",{className:"resize-handle resize-nw",onMouseDown:e=>L(e,"modal","resize","top-left")}),(0,c.jsx)("div",{className:"resize-handle resize-ne",onMouseDown:e=>L(e,"modal","resize","top-right")}),(0,c.jsx)("div",{className:"resize-handle resize-sw",onMouseDown:e=>L(e,"modal","resize","bottom-left")}),(0,c.jsx)("div",{className:"resize-handle resize-se",onMouseDown:e=>L(e,"modal","resize","bottom-right")}),(0,c.jsx)("div",{className:"resize-handle resize-n",onMouseDown:e=>L(e,"modal","resize","top")}),(0,c.jsx)("div",{className:"resize-handle resize-s",onMouseDown:e=>L(e,"modal","resize","bottom")}),(0,c.jsx)("div",{className:"resize-handle resize-w",onMouseDown:e=>L(e,"modal","resize","left")}),(0,c.jsx)("div",{className:"resize-handle resize-e",onMouseDown:e=>L(e,"modal","resize","right")})]})}),(0,c.jsx)(o.A,{isOpen:I,onClose:()=>{O(!1),Z(null)},workplaces:P,personnelName:_?"".concat(_.firstName," ").concat(_.lastName):"",personnelType:"Uzman"})]})}},240:(e,s,a)=>{a.d(s,{A:()=>n});a(43);var i=a(579);const n=e=>{let{isOpen:s,onClose:a,workplaces:n,personnelName:t,personnelType:l}=e;if(!s)return null;const r=e=>{switch(e){case"low":return"Az Tehlikeli";case"dangerous":return"Tehlikeli";case"veryDangerous":return"\xc7ok Tehlikeli";default:return"Belirtilmemi\u015f"}},o=e=>{if(!e)return"";return new Date(e).toLocaleDateString("tr-TR")};return(0,i.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,i.jsx)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:(0,i.jsxs)("div",{className:"window",children:[(0,i.jsxs)("div",{className:"window-header",children:[(0,i.jsxs)("span",{children:[t," - Atand\u0131\u011f\u0131 \u0130\u015f Yerleri"]}),(0,i.jsx)("button",{className:"window-button",onClick:a,children:"\xd7"})]}),(0,i.jsx)("div",{className:"window-content",style:{padding:0,margin:0},children:0===n.length?(0,i.jsx)("p",{children:"Hen\xfcz atanm\u0131\u015f i\u015f yeri bulunmamaktad\u0131r."}):(0,i.jsxs)("div",{className:"workplaces-table",children:[(0,i.jsxs)("div",{className:"table-header",children:[(0,i.jsx)("div",{className:"table-cell",children:"\u0130\u015f Yeri Ad\u0131"}),(0,i.jsx)("div",{className:"table-cell",children:"SGK Sicil No"}),(0,i.jsx)("div",{className:"table-cell",children:"Tehlike S\u0131n\u0131f\u0131"}),(0,i.jsx)("div",{className:"table-cell",children:"\xc7al\u0131\u015fan Say\u0131s\u0131"}),(0,i.jsx)("div",{className:"table-cell",children:"Kay\u0131t Tarihi"}),(0,i.jsx)("div",{className:"table-cell",children:"Onay Durumu"})]}),n.map(e=>(0,i.jsxs)("div",{className:"table-row",children:[(0,i.jsx)("div",{className:"table-cell",title:e.name,children:e.name}),(0,i.jsx)("div",{className:"table-cell",title:e.sskRegistrationNo,children:e.sskRegistrationNo}),(0,i.jsx)("div",{className:"table-cell",children:r(e.riskLevel)}),(0,i.jsx)("div",{className:"table-cell",children:e.employeeCount}),(0,i.jsx)("div",{className:"table-cell",children:o(e.registrationDate)}),(0,i.jsx)("div",{className:"table-cell",children:(0,i.jsxs)("span",{className:"status-badge status-".concat(e.approvalStatus),children:["atama"===e.approvalStatus&&"Atama yap\u0131lacak","bekliyor"===e.approvalStatus&&"Onay bekleniyor","onaylandi"===e.approvalStatus&&"Onayland\u0131"]})})]},e.id))]})}),(0,i.jsx)("div",{className:"modal-actions",style:{padding:"15px",margin:0},children:(0,i.jsx)("button",{className:"btn btn-close",onClick:a,children:"Kapat"})})]})})})}}}]);
//# sourceMappingURL=49.2eae0c42.chunk.js.map